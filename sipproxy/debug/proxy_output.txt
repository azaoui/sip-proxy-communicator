Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d8fd866816969525132c9369af186a46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc5d15fb3f601232690be7e8da13a49aa
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d8fd866816969525132c9369af186a46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc5d15fb3f601232690be7e8da13a49aa
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d8fd866816969525132c9369af186a46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc5d15fb3f601232690be7e8da13a49aa
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 505424ab925806777a6ae9f0574dbb1c@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf052264a3cd5b5ab84cc11fd96384d65
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 505424ab925806777a6ae9f0574dbb1c@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf052264a3cd5b5ab84cc11fd96384d65
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c6234bdc3cfcc489791ce21ed1965700@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK10b5906c6c20a7598a0c237e10895227
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c6234bdc3cfcc489791ce21ed1965700@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK10b5906c6c20a7598a0c237e10895227
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c6234bdc3cfcc489791ce21ed1965700@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK10b5906c6c20a7598a0c237e10895227
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: a2e64cd1abe73dd82a2e148129a900b1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd580cf5365a8f7f9c22e5a561e2afc36
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: a2e64cd1abe73dd82a2e148129a900b1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd580cf5365a8f7f9c22e5a561e2afc36
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: a21474566b3af2154fee5658fd3be07d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa31b7f7b5825ba1449fd2652280e32ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: a21474566b3af2154fee5658fd3be07d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa31b7f7b5825ba1449fd2652280e32ba
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 107bcec6542e607cf09609d0c56946e6@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKbdb9861dfcdfc99ad93cd39d1a6b368a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 107bcec6542e607cf09609d0c56946e6@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKbdb9861dfcdfc99ad93cd39d1a6b368a
Max-Forwards: 70
Content-Length: 0



*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:5061
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:5061
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:5060
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:5060
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 2433ed36ad8c1a1ef00d0ab3b9769b6a@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcc25b49eb5c3a7693276a508958938a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 2433ed36ad8c1a1ef00d0ab3b9769b6a@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcc25b49eb5c3a7693276a508958938a6
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK115ab186375592659409033513b5f273
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK115ab186375592659409033513b5f273
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK115ab186375592659409033513b5f273
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8eddbe868bbff82a36ca22ce10993a15
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8eddbe868bbff82a36ca22ce10993a15
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8eddbe868bbff82a36ca22ce10993a15
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK132d084168f9e6ea3ef3fba6d2ec13cb
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK132d084168f9e6ea3ef3fba6d2ec13cb
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK132d084168f9e6ea3ef3fba6d2ec13cb
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 9708143b276d9175322a28af6d2a7af5@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc25146690216acc6e6e1b5c399bf179a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 9708143b276d9175322a28af6d2a7af5@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc25146690216acc6e6e1b5c399bf179a
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 52aacf4be19c24f302b3cd17550658ec@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK64dc8434fa70e57446accd4d65c99d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 52aacf4be19c24f302b3cd17550658ec@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK64dc8434fa70e57446accd4d65c99d26
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:5060
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:5060
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:5060 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6ad3daa0bd892e76910f119f830cbd25
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:5061
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:5061
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:5061 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6ad3daa0bd892e76910f119f830cbd25
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6ad3daa0bd892e76910f119f830cbd25
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 23f464397e050d650af82731bc2e4341@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb1d706e6445df77c18a1dbd5f094d75d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 23f464397e050d650af82731bc2e4341@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc49b07c973f91a93a5f3f5cb97a7debd
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfce56261e03d9207353f5046d39fcdf5
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfce56261e03d9207353f5046d39fcdf5
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfce56261e03d9207353f5046d39fcdf5
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0a7987b1b78a6d7c2610d072a3d5f08b
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0a7987b1b78a6d7c2610d072a3d5f08b
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0a7987b1b78a6d7c2610d072a3d5f08b
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK85a89b079f4fcd6156b0e57cf9a3779d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK85a89b079f4fcd6156b0e57cf9a3779d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
TimeoutEvent received
TimeoutEvent received

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request CANCEL received:
CANCEL sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfb5101e60a5edb09582e4111019751ee
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfb5101e60a5edb09582e4111019751ee
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfb5101e60a5edb09582e4111019751ee
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb79c9cb50c03bea94336e54d5d1b09b4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb79c9cb50c03bea94336e54d5d1b09b4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb79c9cb50c03bea94336e54d5d1b09b4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 97a214a1df687774711664a54dfc4fb1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK55918f185516cf86da45f84b53a4bcda
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
TimeoutEvent received

****************************************************
Request INVITE received:
INVITE sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK767e2bd616a81d8a7bba1861d8c91565
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b7acd4bb575b6cf800b8738a2db960d3@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK65beaa97cf41b27e870381c768adf3c8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd355eec716456440bc13a303ed0910c4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd355eec716456440bc13a303ed0910c4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd355eec716456440bc13a303ed0910c4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@85ab3b65
dialog =  gov.nist.javax.sip.stack.SIPDialog@ed8eb5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.70:5061 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK32368c037b587d98c007935b6167e81f,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.70 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.70:5061 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:15029693
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=3132392e39372e382e37303a3530363
Max-Forwards: 70
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d04e9ac6
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ed8eb5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d04e9ac6
dialog =  gov.nist.javax.sip.stack.SIPDialog@ed8eb5
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@4de3fe
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@85ab3b65
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@ed8eb5
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.70:5061 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK540a433c06416c509001ad429a1ec6b1,SIP/2.0/UDP 129.97.8.70:5060;branch=3132392e39372e382e37303a3530363
Max-Forwards: 69
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
From: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7d6786dc
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
From: <sip:sip2Kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.70:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
From: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK53255f4e12e0886f56f7ad28ca0ed64a,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@77b59a8b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ed8eb5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
From: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 735f721a46884b33982182f38b0ebdf1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK27b80c02ec595d44316456dbd6c3f623
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 735f721a46884b33982182f38b0ebdf1@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe152d704dfb1f55fbb885252f143a331
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a3b3e39eea9c88f1b25fc49ee10cdef4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK97861b4341ef1a63fdf42bc16ea99ed4
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a3b3e39eea9c88f1b25fc49ee10cdef4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK97861b4341ef1a63fdf42bc16ea99ed4
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a3b3e39eea9c88f1b25fc49ee10cdef4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK97861b4341ef1a63fdf42bc16ea99ed4
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 043824a803f7cc92bda6f26c2977fcb0@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK07a478da774468f6318b4e8890d02f36
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 043824a803f7cc92bda6f26c2977fcb0@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1a21fbdec43e13bc2fb15d75c01fcf6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

ExpiresTask, run(), we  removed the contact: sip:129.97.8.70:5061 for the user: sip:sip2kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 58e82cf6f22dd7875a1bdd1bbbf5d2f4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK56716819dd0fed145210e8934fee0f89
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 58e82cf6f22dd7875a1bdd1bbbf5d2f4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK56716819dd0fed145210e8934fee0f89
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 58e82cf6f22dd7875a1bdd1bbbf5d2f4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK56716819dd0fed145210e8934fee0f89
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d5bba4d3ab38f593a5ea97d38c4a2db4@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd9dba6579041b133ff1ebd1bf868ed98
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d5bba4d3ab38f593a5ea97d38c4a2db4@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd560da6cdcc55107078483ff66fd9209
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 6bc869f3bb631f2967bab3ec35e7a05d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc00a3509e3a9e030b35c948e30b1168a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 14b5daf5286df8afd11eea50b2d9f067@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9ab026ee1c4043d7c160dc80c61a6492
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 14b5daf5286df8afd11eea50b2d9f067@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd8808df79a4113170b490522aa874a8c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 14b5daf5286df8afd11eea50b2d9f067@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd8808df79a4113170b490522aa874a8c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa19d6e5e48450120d6a81362e6c32ab3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa19d6e5e48450120d6a81362e6c32ab3
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa19d6e5e48450120d6a81362e6c32ab3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 888c4fa29930e9f988c61f5adb41d0ff@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK71c3d005e3e7c78dadf4f5d9973620ad
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 888c4fa29930e9f988c61f5adb41d0ff@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK47558a9613b281ba5db8e2b856d587c2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 888c4fa29930e9f988c61f5adb41d0ff@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK47558a9613b281ba5db8e2b856d587c2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb2f03624ec95b11c4679b4cbc95f2e86
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb2f03624ec95b11c4679b4cbc95f2e86
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb2f03624ec95b11c4679b4cbc95f2e86
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5d150d62a5a2be5d25993823d88033a9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8a00eba54912d05e8f8ed75413f37178
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5d150d62a5a2be5d25993823d88033a9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8a00eba54912d05e8f8ed75413f37178
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5d150d62a5a2be5d25993823d88033a9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8a00eba54912d05e8f8ed75413f37178
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip1Tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: e10dcdccabf1dc3c617182b9815895dc@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:sip1Tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb282ed1d402f4d2e1c27301b51b114c7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 70f66cff8847a19f96d480e5eaa87357@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK99602811fa23a449005e12aa3e417d9f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 70f66cff8847a19f96d480e5eaa87357@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2c4938ef3881402ee1edc431fee8771c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e91552b7cb7c6a3050b0e292384e3c69@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcb82b0338840b5df82e379b13c35bd03
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e91552b7cb7c6a3050b0e292384e3c69@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcb82b0338840b5df82e379b13c35bd03
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e91552b7cb7c6a3050b0e292384e3c69@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcb82b0338840b5df82e379b13c35bd03
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c87e769616184056f89bf759516ed287@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK962622179add61158027128a8c49512d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 846c2e9eade46af578800e9bd8ef80ad@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8acdf1d69f90cff554a4d2a25c048eb3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: e0743d5fefc8feec26e3791195828f0f@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb85a609b40a4e3c9eb6db0c6caa98453
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK26c333caacfae5efc0ca4d85f373f63a
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK26c333caacfae5efc0ca4d85f373f63a
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK26c333caacfae5efc0ca4d85f373f63a
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK18242b2de373432ab85c3aa25b59b476
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK18242b2de373432ab85c3aa25b59b476
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK18242b2de373432ab85c3aa25b59b476
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: ee970169cde7660729bf2b0b645de3bd@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5f64efc1819d1edf3f78c88ee1d9a4de
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9884c78a7d8c77a56c808d2baf608666
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9884c78a7d8c77a56c808d2baf608666
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9884c78a7d8c77a56c808d2baf608666
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b66a21a0c1a8c9d80f9e3d48f15896d7@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1856227ed8420fbda2b282afb9224357
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK815e94df56c01e767bcfb1e6428c1889
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK815e94df56c01e767bcfb1e6428c1889
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK815e94df56c01e767bcfb1e6428c1889
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9ca06a9978dcf6811f6a2e23ab78596d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9c3e40823b712c36d45c6f1939c58cdb
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9ca06a9978dcf6811f6a2e23ab78596d@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbaa32afee967301dae5943fa5585efaf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9ca06a9978dcf6811f6a2e23ab78596d@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbaa32afee967301dae5943fa5585efaf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
ExpiresTask, run(), we  removed the contact: sip:129.97.8.70:5060 for the user: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
ExpiresTask, run(), we  removed the contact: sip:129.97.8.70:5061 for the user: sip:sip2kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c79d96173e79c1d278d8f7c1ed1fd8ea@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf831a7aaaac94931dc7a1c8675b57fd6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c79d96173e79c1d278d8f7c1ed1fd8ea@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe0ecec61173938f6f70e059b28ee8c54
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: e79ef25bb6f38d0502f29e97dcc113a0@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0be4fc219041a55d18d2d6a454793c0f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKace8886fe56338f4e596cbbe364335f8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKace8886fe56338f4e596cbbe364335f8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKace8886fe56338f4e596cbbe364335f8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: fc876f5ace50ee7c225a58b89a432b1b@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK34dfc6d43813dcad2a8fe8cf1089ecf4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe07315ef8effd689e8e158dd69468a38
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe07315ef8effd689e8e158dd69468a38
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe07315ef8effd689e8e158dd69468a38
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 066384a6acd7b44ca5ebba4a19eff98c@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9bdfac855fa0a9fe26f333c654123b46
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 5ee92fd13f2a2263533e15086cbb1bc8@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK527871cd738dd281d4df8f49d638b0c6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK613264cef1dda0846dc9ce43b5237453
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK613264cef1dda0846dc9ce43b5237453
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK613264cef1dda0846dc9ce43b5237453
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: f6a33f88f785c9536e5110468a159d57@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac7df02d15fd3a9ea2062125ed0e3e19
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 164219d0198cfee38cb37a79bff09eb9@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd257efd3a639bdd25f677042e2b39c23
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bdaee4d47249bae4d6af230ad739c9eb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe768c4330999bd18e44b6f811fa1c906
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bdaee4d47249bae4d6af230ad739c9eb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe768c4330999bd18e44b6f811fa1c906
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bdaee4d47249bae4d6af230ad739c9eb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe768c4330999bd18e44b6f811fa1c906
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: a00833d54d1db4bc38af0b1ea7bd3f93@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK10dca44f0c5b979c1e51797e77a95a2b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b82f5be3da544bea5f3bd83cf97028ae@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK111401c6d8ac3371f884da4f53135823
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b82f5be3da544bea5f3bd83cf97028ae@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK111401c6d8ac3371f884da4f53135823
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b82f5be3da544bea5f3bd83cf97028ae@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK111401c6d8ac3371f884da4f53135823
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d6eee2129fb6aaaa407a0f6592d7fd74@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1a2f706cdf515125a1cfa8c7292add7d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 5e55648ae9f742d96b68d440b653a747@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK00bbe822a2834e71aa04b136c11e0ce6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc763128472e54e9366a953c8a911dc3f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc763128472e54e9366a953c8a911dc3f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc763128472e54e9366a953c8a911dc3f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d2970e8eb5109427ccf8a648a349ae6e@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK74f3d472da64a37911eb0be14028af9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKec5626a3d44b20eba40e355c21c560e8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKec5626a3d44b20eba40e355c21c560e8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKec5626a3d44b20eba40e355c21c560e8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: f7154ec738658f03919a7803b4554233@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK98b7a8df145579e345493753fbd2c350
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: bb0bfe2eb64350066aaa04f30eef02bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9261403bfdf63cd024687d30e5787270
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK973685784513335b84248beea268b450
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK973685784513335b84248beea268b450
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK973685784513335b84248beea268b450
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 61b4b8bde1ac97d82a9077dfe166b52b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK02c8266f66f4ac6654be43c93c79f769
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 61b4b8bde1ac97d82a9077dfe166b52b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK02c8266f66f4ac6654be43c93c79f769
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 61b4b8bde1ac97d82a9077dfe166b52b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK02c8266f66f4ac6654be43c93c79f769
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b09bf4c9d6795f4d2b4cb7b7da6d4907@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK034735945bf9151aeebb36dba8f74276
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@119c15aa
dialog =  gov.nist.javax.sip.stack.SIPDialog@cffc79
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.70:5060 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK655c129c6fb2454e03174eefbf7b8eeb,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.70 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.70:5060 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:22364723
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 ACK
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=3132392e39372e382e37303a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b5117abd
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cffc79
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b5117abd
dialog =  gov.nist.javax.sip.stack.SIPDialog@cffc79
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@8b567c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@119c15aa
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@cffc79
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.70:5060 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 ACK
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK9d90b540040e96078c3d219579df0f50,SIP/2.0/UDP 129.97.8.70:5061;branch=3132392e39372e382e37303a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
From: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@60f0326f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.70:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
From: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8d1d4f57fcd1a1a84ca5c89ec0cf77f3,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ec01cc64
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cffc79
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
From: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf28ded93bc33cf7526efea83edb84669
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf28ded93bc33cf7526efea83edb84669
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf28ded93bc33cf7526efea83edb84669
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:50889 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:50889 ?
Contact in the list:sip:129.97.8.125:50889
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:50889 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:50889
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:50889 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:50889 ?
Contact in the list:sip:129.97.8.125:50889
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:50889 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:50889
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:50889 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7f153bb6
dialog =  gov.nist.javax.sip.stack.SIPDialog@11410e5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:50889 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK31d041054f22cf922300936263df4a48,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:50889 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:50889 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:33083972
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@aaa2da5a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11410e5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@aaa2da5a
dialog =  gov.nist.javax.sip.stack.SIPDialog@11410e5
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@5e222e
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@7f153bb6
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@11410e5
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:50889 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK83e1bd44d9dfd6726fb1db77ee3050dd,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=33083972
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f44ec7f9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=33083972
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK3d45de222c628c3bb836e7039f9825f8,SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3a0b3ae8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11410e5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=33083972
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:50889 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:3415 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:3415 ?
Contact in the list:sip:129.97.8.125:3415
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:3415 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:3415
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:3415 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:3415 ?
Contact in the list:sip:129.97.8.125:3415
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:3415 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:3415
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:3415 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@102330e6
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a0ae6
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:3415 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1b2178d5694063985291dabe486d23cc,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:3415 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:3415 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:8818963
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@39e463b3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a0ae6
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@39e463b3
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a0ae6
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@132ae7
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@102330e6
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1a0ae6
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:3415 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4dfb89adad1e41e1cb9f3bce8d31f60a,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:3415 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=8818963
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@236230ac
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=8818963
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK386132f97ad49986ca80352d68e8b28a,SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@81f5d821
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a0ae6
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=8818963
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:7818 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:7818 ?
Contact in the list:sip:129.97.8.125:7818
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:7818 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:7818
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:7818 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:7818 ?
Contact in the list:sip:129.97.8.125:7818
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:7818 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:7818
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:7818 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@19f921
dialog =  gov.nist.javax.sip.stack.SIPDialog@c70b0d
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:7818 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK3235f60d6dd33efc01171abd7ed1bf60,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:7818 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:7818 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:4239289
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@6ffefb67
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c70b0d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6ffefb67
dialog =  gov.nist.javax.sip.stack.SIPDialog@c70b0d
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@2b349d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@19f921
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@c70b0d
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:7818 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2e3db9372364dbaa73eb6b0ee274dd60,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=4239289
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5e0f3ec9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=4239289
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK9f1a590359ce0dc9682e2fd945676646,SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6a1a6db5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c70b0d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=4239289
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:7818 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@4866fd5c
dialog =  gov.nist.javax.sip.stack.SIPDialog@ae4646
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK99d4ef6d7a275c12b55a4a45aeff72ad,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:31583366
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bb935399
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ae4646
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bb935399
dialog =  gov.nist.javax.sip.stack.SIPDialog@ae4646
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@164b9b6
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@4866fd5c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@ae4646
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK190b50dabc274b90e29b63caeb718c56,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@6921ef3d
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ae4646
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK72cc7347ce70f785d95d7b732c48102b,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ca35371
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@dac88502
dialog =  gov.nist.javax.sip.stack.SIPDialog@1474ea
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5d32f55cb03b478df95e08e4ac1e5e3b,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:22760146
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@464cc039
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1474ea
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@464cc039
dialog =  gov.nist.javax.sip.stack.SIPDialog@1474ea
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@125d61e
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@dac88502
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1474ea
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK14b7b081feeb2795d07024d60f42523b,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
From: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3181cca3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
From: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKce6d8349f063ebb8bbbe33a87f0b64d7,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@aa1a66b5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1474ea
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
From: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a45c1c61
dialog =  gov.nist.javax.sip.stack.SIPDialog@c9630a
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5b72075f669a462b2687ef8bf19ec837,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:24668732
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5012d258
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c9630a
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5012d258
dialog =  gov.nist.javax.sip.stack.SIPDialog@c9630a
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@fe315d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@a45c1c61
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@c9630a
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK86d7a24b5858835cfcf9bd34a5057c3d,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK015d5bdfc796e05208ff99561195c82e
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9adfcc64
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c9630a
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK015d5bdfc796e05208ff99561195c82e
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=24668732
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdad7018ed56c00743defb87762df1cde
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@abfa44d1
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdad7018ed56c00743defb87762df1cde
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:37712 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:37712 ?
Contact in the list:sip:129.97.8.125:37712
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:37712 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:37712
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:37712 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:37712 ?
Contact in the list:sip:129.97.8.125:37712
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:37712 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:37712
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:37712 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@66755fc
dialog =  gov.nist.javax.sip.stack.SIPDialog@df2d38
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:37712 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKe8703bc71d85535d77617a361fdb3837,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:37712 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:37712 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10594949
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1c551d50
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@df2d38
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1c551d50
dialog =  gov.nist.javax.sip.stack.SIPDialog@df2d38
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1858aa0
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@66755fc
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@df2d38
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:37712 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4636ffdb121397c60724b38f0dc63ea0,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@72fe6bc9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@df2d38
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:37712/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5fc8f120539caa3dde5ec847fb7e353d,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9d69dfad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@aa9a1861
dialog =  gov.nist.javax.sip.stack.SIPDialog@1283052
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0852c593ae0eef00f77ea942ea90fb62,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@134eb84
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@134eb84
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@134eb84
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:23856861
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=392e39372e382e3132353a333737313
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9e8eed22
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1283052
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@9e8eed22
dialog =  gov.nist.javax.sip.stack.SIPDialog@1283052
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@15b8520
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@aa9a1861
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1283052
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK68f849534f20cea91396969589ada7be,SIP/2.0/UDP 129.97.8.125:37712;branch=392e39372e382e3132353a333737313
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@98810f82
dialog =  gov.nist.javax.sip.stack.SIPDialog@17f11fb
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb0f723ff265f043d5e266cc24da65746,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:21673243
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f0325c7a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17f11fb
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@f0325c7a
dialog =  gov.nist.javax.sip.stack.SIPDialog@17f11fb
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@120540c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@98810f82
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@17f11fb
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK9e27943dbc2707fc027b8b9fa64c2ea9,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbbc7a3b8c676ed79167d90b2786897a
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8634ad14
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17f11fb
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbbc7a3b8c676ed79167d90b2786897a
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
From: <sip:kostas@127.0.0.1:4000>;tag=21673243
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKabde2fc5134fcd1af537d435fbb48fc9
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@53a6e863
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKabde2fc5134fcd1af537d435fbb48fc9
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d8fd45f7
dialog =  gov.nist.javax.sip.stack.SIPDialog@65b738
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb0b60dea91a1b7a156592f9573da8985,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:29321385
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@ad2d82da
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@65b738
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ad2d82da
dialog =  gov.nist.javax.sip.stack.SIPDialog@65b738
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10e434d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@d8fd45f7
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@65b738
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0d9644c1c7f4dd29ee96622aec8db1f7,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8f1ca298
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@65b738
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8f1ca298
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@65b738
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKe2369c57579ad809928adaf1f90fbb4f,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a9cdf487
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e8b40f40
dialog =  gov.nist.javax.sip.stack.SIPDialog@78dc4c
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa842ca9a4fec6b6c316c95acc22aea96,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:1923370
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4f35a9d4
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@78dc4c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@4f35a9d4
dialog =  gov.nist.javax.sip.stack.SIPDialog@78dc4c
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@2b349d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e8b40f40
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@78dc4c
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7332596b3eb761e62da367e6d6b9c3db,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
From: <sip:kostas@127.0.0.1:4000>;tag=1923370
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb2267495387d5828e84d2ab9d4d99308
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b7438757
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb2267495387d5828e84d2ab9d4d99308
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8fa6c38252518d920de3364a9e0a5317
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@866aa1bd
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@78dc4c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8fa6c38252518d920de3364a9e0a5317
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@f6616370
dialog =  gov.nist.javax.sip.stack.SIPDialog@b6ef8
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKef990cca1d88899e10e8679f24928357,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:4254944
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d4cb4785
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b6ef8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d4cb4785
dialog =  gov.nist.javax.sip.stack.SIPDialog@b6ef8
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@9f0d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@f6616370
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@b6ef8
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8f5c898c53c9dfa26ad7804e11b4717d,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@db149487
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b6ef8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK253ce39a1b13d7da53873164e83c687e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d47ca557
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@21cf1c54
dialog =  gov.nist.javax.sip.stack.SIPDialog@125d61e
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6abdcf7bf50809273e474aad2788d236,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:7099222
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5341183b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125d61e
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5341183b
dialog =  gov.nist.javax.sip.stack.SIPDialog@125d61e
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@128edf2
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@21cf1c54
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@125d61e
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK82f97bdff69a0ecb699f00856f3e1d26,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
From: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5862ff7bb9f42806a49e8cc3d8799447
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9417a48
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5862ff7bb9f42806a49e8cc3d8799447
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK73549f0fc594f9d4ef5dca2702135e59
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f22f9298
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125d61e
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK73549f0fc594f9d4ef5dca2702135e59
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb76b6c70d870b16fd131b3b257aa79cb
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Proxy Clean up
*********  Registration record *****************

*****************************************************


Stopping the proxy
registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), internal error, exception raised:
PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb76b6c70d870b16fd131b3b257aa79cb
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@cb28164b
dialog =  gov.nist.javax.sip.stack.SIPDialog@19da967
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK13bef07d437437aeeeb0023bdd9103c3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2310757
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@eb55a759
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19da967
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@eb55a759
dialog =  gov.nist.javax.sip.stack.SIPDialog@19da967
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@115d06c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@cb28164b
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@19da967
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8daa09f9005d67073aa9cd08e4e7cd11,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2e353ccf
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19da967
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKaf4810592b00d43c9a7b20a3eed36e2e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d7ad714f
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6f024776
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e1bc8
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKffb9d37fb4b764049d3d917d4022da0b,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:14350892
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b3dfc4b8
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e1bc8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b3dfc4b8
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e1bc8
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@16de067
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@6f024776
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@3e1bc8
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKf059b9101ed909642a43a99eaa8b28d2,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
From: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK84777e0abddd69464c2477e085c760b4
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@c3df059a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK84777e0abddd69464c2477e085c760b4
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKd9085917b94315b6bbc03cf787350b87
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e9643d4
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e1bc8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKd9085917b94315b6bbc03cf787350b87
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ae7ff8fa
dialog =  gov.nist.javax.sip.stack.SIPDialog@106daba
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK46100cd5a09e0de31c9440774b108e50,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10390580
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@eaf8ec54
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@106daba
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@eaf8ec54
dialog =  gov.nist.javax.sip.stack.SIPDialog@106daba
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1584807
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@ae7ff8fa
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@106daba
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1aa3a6642c4c17f7e374faf3f977f94a,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0c168a0cabd8aa6ae37719197ed9c9d9
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4668307f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@106daba
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0c168a0cabd8aa6ae37719197ed9c9d9
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
From: <sip:kostas@127.0.0.1:4000>;tag=10390580
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb5bfb9d9d1d4869d66de79dbace9421
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@11b10a30
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb5bfb9d9d1d4869d66de79dbace9421
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"

*****************************************************

RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Stopping the proxy
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), internal error, exception raised:
PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d107aaeb
dialog =  gov.nist.javax.sip.stack.SIPDialog@c52200
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa7cdd3b7f3587b8dcf993ef8191e8635,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:4239289
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@84b59150
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c52200
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@84b59150
dialog =  gov.nist.javax.sip.stack.SIPDialog@c52200
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@53c3f5
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@d107aaeb
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@c52200
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKaa59a462d5b9926e3cf5f85b19d5c05f,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e5abddd1
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c52200
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1764c6172ab1e23bb8efd6f57031383e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@2f64d53c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@48049f09
dialog =  gov.nist.javax.sip.stack.SIPDialog@b533b8
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK3a4781159a50f68ef5621aaadba6f8b1,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:17743384
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@136fb9fe
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b533b8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@136fb9fe
dialog =  gov.nist.javax.sip.stack.SIPDialog@b533b8
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@13e15f7
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@48049f09
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@b533b8
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5060 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK55d63e0cb44228dee8cb676c5f9a0cf2,SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f8943674
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b533b8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKcbd705accb0f1ca123d53325cbc95bd1,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e94b1f93
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e1492064
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e97df
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb9247ac9cabf95a1948fc895ea3449f2,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:3916193
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3abdcb5b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e97df
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3abdcb5b
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e97df
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@4ed904
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e1492064
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@3e97df
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5061 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1be1b4308ea074aa34b297753574ef0a,SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@ea577cce
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e97df
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKd0d50621f5b9bc291c77910b4a0973eb,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8595187a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:25037 ?
Contact in the list:sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:25037 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:25037 ?
Contact in the list:sip:129.97.8.126:5061
Contact in the list:sip:129.97.8.126:25037
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:25037 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:25037
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:25037 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:25037 ?
Contact in the list:sip:129.97.8.126:5061
Contact in the list:sip:129.97.8.126:25037
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:25037 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:25037
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:25037 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:63027 ?
Contact in the list:sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:63027 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:63027 ?
Contact in the list:sip:129.97.8.126:5060
Contact in the list:sip:129.97.8.126:63027
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:63027 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:63027
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:63027 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:63027 ?
Contact in the list:sip:129.97.8.126:5060
Contact in the list:sip:129.97.8.126:63027
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:63027 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:63027
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:63027 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:25037 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK641a745d3020065d6239cf4b026c9d48
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600


*****************************************************

registered user: "sip:mranga@nist.gov"
Stopping the proxy
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
Proxy stopped
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000

*****************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*****************************************************


---------------------------------------
*********  Registration record *****************
Parsing the XML configuration file...

registered user: "sip:kostas@127.0.0.1:4000"
The XML configuration file has been successfully parsed!
- contacts: 
---------------------------------------
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

DEBUG, GUI chained to the registrar
registered user: "sip:mranga@nist.gov"
DEBUG properties set!
- contacts: 
The proxy is responsible for the domain:127.0.0.1

Here is one domain to take care of:there.com
registered user: "sip:deruelle@nist.gov"
Here is one domain to take care of:pingtel.com
- contacts: 
Here is one domain to take care of:ubi.com

Here is one domain to take care of:hotmail.com
************************************************
Here is one domain to take care of:nist.gov

Here is one domain to take care of:nitrogen.epact.se
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Here is one domain to take care of:127.0.0.1
Registrar, processRegister(), internal error, exception raised:
We don't export the registrations because RMI is disabled.
PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK641a745d3020065d6239cf4b026c9d48
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e76e330c
dialog =  gov.nist.javax.sip.stack.SIPDialog@bc5596
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKca985d97af7261ff9da5a617e8817132,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:24697864
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@21683d3f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bc5596
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@21683d3f
dialog =  gov.nist.javax.sip.stack.SIPDialog@bc5596
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@ff9053
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e76e330c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@bc5596
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5060 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc97672432715b79e799afe72ce90d350,SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKc0746ec40291bab61eb33719a31eb439
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@52759f05
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bc5596
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKc0746ec40291bab61eb33719a31eb439
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
From: <sip:kostas@127.0.0.1:4000>;tag=24697864
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKa58cd38b0f25fbbc10bd397d95bde89c
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@509263bc
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKa58cd38b0f25fbbc10bd397d95bde89c
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@626c8a5
dialog =  gov.nist.javax.sip.stack.SIPDialog@1b66b06
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e2c58f373b69e041de52393c0d60999,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:26625789
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b4fcd7a7
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b4fcd7a7
dialog =  gov.nist.javax.sip.stack.SIPDialog@1b66b06
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1bfbfb8
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@626c8a5
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1b66b06
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5060 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1c295c422d1d2a8fb64f6036faf6547d,SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4ca5ddc3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK339f430ef6cf27750eaade7d0e7a3642,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e40ba679
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@eb71a12e
dialog =  gov.nist.javax.sip.stack.SIPDialog@1779885
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0bad9a08d3e80c75d779b50ab551b932,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:18750399
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@c604ffea
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1779885
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@c604ffea
dialog =  gov.nist.javax.sip.stack.SIPDialog@1779885
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@24de7d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@eb71a12e
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1779885
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5061 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc638a223022d2144d24c3ae2ccf98fa9,SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
From: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb4a2d44dd09a654de00e1e43277e0c4f
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@327ae030
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb4a2d44dd09a654de00e1e43277e0c4f
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK9f249c9300605e56ecd6b82e2967aad7
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f80fa891
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1779885
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK9f249c9300605e56ecd6b82e2967aad7
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ddb5fdff
dialog =  gov.nist.javax.sip.stack.SIPDialog@1c297a3
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK09915f4a48d2cc201122d79a6a2a6248,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:27887470
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@af97ec57
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c297a3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@af97ec57
dialog =  gov.nist.javax.sip.stack.SIPDialog@1c297a3
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10c0f66
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@ddb5fdff
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1c297a3
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKfe279801031b001be47b7cc3c958abeb,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4168612f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c297a3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK974abf3e4a94a4dcce1b71fed28c1905,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@18f8efcc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@26681ee5
dialog =  gov.nist.javax.sip.stack.SIPDialog@789869
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6b489d0246a7bb3ce4c70ce84335eee4,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10594949
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5d51f7f1
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@789869
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5d51f7f1
dialog =  gov.nist.javax.sip.stack.SIPDialog@789869
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1bf7b23
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@26681ee5
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@789869
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5093b8c892f498929b00c8dcf9816a49,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
From: <sip:kostas@127.0.0.1:4000>;tag=10594949
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK99f596362a91e8a7cecedeca0317f930
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@a23662da
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK99f596362a91e8a7cecedeca0317f930
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1beef3677712564b20718084ee7580bd
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@cea6b892
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@789869
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1beef3677712564b20718084ee7580bd
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e2741d56
dialog =  gov.nist.javax.sip.stack.SIPDialog@d12eea
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb1676fe8cbb35f8f161078b497dd9e7a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK92f46fd180f6304c657e0483e2b6b4a3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK92f46fd180f6304c657e0483e2b6b4a3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6879cec8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17b40fe
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=8066625
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK92f46fd180f6304c657e0483e2b6b4a3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6879cec8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17b40fe
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=8066625
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6e07e9b1
dialog =  gov.nist.javax.sip.stack.SIPDialog@a29c6e
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6fb3db638cc949d6720069b3923a0939,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK013cb620e73cbb7bd53625cd6217afb5,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=5023414
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK013cb620e73cbb7bd53625cd6217afb5,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ca613a1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3b4b1e
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=5023414
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bf803dfc
dialog =  gov.nist.javax.sip.stack.SIPDialog@1dc64a5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa5cf2589a0ff30f19f462402659c3bf0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13685038
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@6753276a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dc64a5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6753276a
dialog =  gov.nist.javax.sip.stack.SIPDialog@1dc64a5
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10c6cfc
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bf803dfc
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1dc64a5
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKed66a9e5a617db62a85b2560f0c6702c,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
From: <sip:kostas@127.0.0.1:4000>;tag=13685038
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1629e838
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
From: <sip:kostas@127.0.0.1:4000>;tag=13685038
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK18386902d8f6e6f1a0137ed17381fddb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9a73dead
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dc64a5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
From: <sip:kostas@127.0.0.1:4000>;tag=13685038
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK09c7d5c6d58dfb47513893ee8e910eb0
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, null server transactin for BYE

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK09c7d5c6d58dfb47513893ee8e910eb0
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, null server transactin for BYE

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK09c7d5c6d58dfb47513893ee8e910eb0
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, null server transactin for BYE

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a7f209e8
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK430329b47c16c3eb8407fdbb506d5e9b,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:15508334
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8ae5f464
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@8ae5f464
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@175ade6
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@a7f209e8
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@9aba32
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1e1715f331cfe8dd5211604ec9daf1c8,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK738bc0593d2d2cdb59a03828fdc428d6
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@fcb45b8d
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK738bc0593d2d2cdb59a03828fdc428d6
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
From: <sip:kostas@127.0.0.1:4000>;tag=15508334
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0e8afc85dcc0f1fdfaddf0aef5179d32
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9f62dd14
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0e8afc85dcc0f1fdfaddf0aef5179d32
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1bb4e2f7
dialog =  gov.nist.javax.sip.stack.SIPDialog@2b349d
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKe61e2352c847362e67331bda11812579,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:12578138
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@319290f5
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2b349d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@319290f5
dialog =  gov.nist.javax.sip.stack.SIPDialog@2b349d
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1de0b5e
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@1bb4e2f7
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@2b349d
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdc7f5cb1caf23b6341e89130afdc7cd7,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7b68e6b0e4011d4c65dfcf9584792a25
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bf67f4cd
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2b349d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7b68e6b0e4011d4c65dfcf9584792a25
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
From: <sip:kostas@127.0.0.1:4000>;tag=12578138
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb6c3c8a41e75dbea0391db17b45bb260
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@58a52c1f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb6c3c8a41e75dbea0391db17b45bb260
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@85978393
dialog =  gov.nist.javax.sip.stack.SIPDialog@6504bc
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK10a1f2cf14f45dfae2ad1ca91c40201b,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK74e9c105753d3350b70966bc9fdbe2bf,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK74e9c105753d3350b70966bc9fdbe2bf,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f0d75a88
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164debb
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>;tag=23802395
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK74e9c105753d3350b70966bc9fdbe2bf,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f0d75a88
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164debb
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>;tag=23802395
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e0402254
dialog =  gov.nist.javax.sip.stack.SIPDialog@1581e80
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK187e44258da408c500d3e2438184f5d8,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:30869925
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@cf14312f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1581e80
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@cf14312f
dialog =  gov.nist.javax.sip.stack.SIPDialog@1581e80
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1aa2c23
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e0402254
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1581e80
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKecf1a781a6900ebc9e7e36f1eb136b59,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
From: <sip:kostas@127.0.0.1:4000>;tag=30869925
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK5f9917198c7b6f0684bd4503c2eb42fc
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8ce0a533
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK5f9917198c7b6f0684bd4503c2eb42fc
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf412c62a6d942d184f52c377057a6980
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bcf24ddb
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1581e80
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf412c62a6d942d184f52c377057a6980
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcfa785eee06db3e205376066972d80a6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************


*****************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Stopping the proxy
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcfa785eee06db3e205376066972d80a6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcfa785eee06db3e205376066972d80a6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 03aece0871aabc5f21c8f9427dde3af8@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0a9b6517b6ce123f5715b1fd1cd26c80
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 03aece0871aabc5f21c8f9427dde3af8@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0a9b6517b6ce123f5715b1fd1cd26c80
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 03aece0871aabc5f21c8f9427dde3af8@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0a9b6517b6ce123f5715b1fd1cd26c80
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d3905400b099b19c83e59a48e9889022@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=29118152
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK59ad6e0baa5a5d296b7b66710125f548
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d3905400b099b19c83e59a48e9889022@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=29118152
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK59ad6e0baa5a5d296b7b66710125f548
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d3905400b099b19c83e59a48e9889022@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=29118152
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK59ad6e0baa5a5d296b7b66710125f548
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK12e8f352e4bbad71df4114b2d02800db
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK12e8f352e4bbad71df4114b2d02800db
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK12e8f352e4bbad71df4114b2d02800db
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@df381c03
dialog =  gov.nist.javax.sip.stack.SIPDialog@afae4a
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK61badc7735f43e167645745fcfb94dcc,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK59e1c8a92415627a35aee14d705fa7d0,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK59e1c8a92415627a35aee14d705fa7d0,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4effca76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@16089a5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK59e1c8a92415627a35aee14d705fa7d0,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4effca76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@16089a5
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:9420495
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3d1cec3b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@afae4a
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3d1cec3b
dialog =  gov.nist.javax.sip.stack.SIPDialog@afae4a
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10c0f66
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@df381c03
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@afae4a
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@4effca76, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK7b6fa1e557485f494813bb48f8982a24,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
From: <sip:kostas@147.102.1.69:4000>;tag=9420495
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@977f17a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@16089a5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
From: <sip:kostas@147.102.1.69:4000>;tag=9420495
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKed97819dd85ee364e9a013f3a96a6577,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@41192024
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@afae4a
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
From: <sip:kostas@147.102.1.69:4000>;tag=9420495
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKa416575b5ca12a99f082fddf4fb96c1f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKa416575b5ca12a99f082fddf4fb96c1f
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKa416575b5ca12a99f082fddf4fb96c1f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000
DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ab41e7a19b78a186e95103e271e5ea9e@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6159089
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bKff29bc21f9a9bdf7b86502db0cb96e4f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:47453 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab41e7a19b78a186e95103e271e5ea9e@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6159089
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bKff29bc21f9a9bdf7b86502db0cb96e4f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ab41e7a19b78a186e95103e271e5ea9e@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6159089
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bKff29bc21f9a9bdf7b86502db0cb96e4f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 853c7d197fb56441044bb6ddfeb1cee8@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK64863085cdf08828bb63405112ecf2f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 853c7d197fb56441044bb6ddfeb1cee8@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK64863085cdf08828bb63405112ecf2f8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 853c7d197fb56441044bb6ddfeb1cee8@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK64863085cdf08828bb63405112ecf2f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b3934860
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:47453 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKb3b672578114eeef780da0bab1485c8f,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:47453 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:47453 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf0838ec4eaa439e97d15ee16230eecb2,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf0838ec4eaa439e97d15ee16230eecb2,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3295ee25
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@943dc4
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK565eea1bf7a8930adcd75705ce735db0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
Contact to add:sip:147.102.1.69:5060 ?
Contact in the list:sip:147.102.1.69:47453
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK565eea1bf7a8930adcd75705ce735db0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK565eea1bf7a8930adcd75705ce735db0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf0838ec4eaa439e97d15ee16230eecb2,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3295ee25
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@943dc4
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2746929
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9baf4087
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the request  to fork is not an INVITE, so we will process it with the first target as the only target.
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@9baf4087
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@157b46f
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@b3934860
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@9aba32
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@3295ee25, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:47453 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK9f6eb8a2f9df408fba5499ee545a792e,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKff710d78672ca5981f989e4b01cda566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKff710d78672ca5981f989e4b01cda566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKff710d78672ca5981f989e4b01cda566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
From: <sip:kostas@147.102.1.69:4000>;tag=2746929
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8ba5bad3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@943dc4
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
From: <sip:kostas@147.102.1.69:4000>;tag=2746929
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK12a0232fbd8ee8a099b1dbc8c614476d,SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7f436cfe
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
From: <sip:kostas@147.102.1.69:4000>;tag=2746929
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK56b0cba9ab046e6c1b567564c69814ec
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK56b0cba9ab046e6c1b567564c69814ec
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK56b0cba9ab046e6c1b567564c69814ec
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKf304ac4c5dbdd2074e5d27ee2483df72
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKf304ac4c5dbdd2074e5d27ee2483df72
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKf304ac4c5dbdd2074e5d27ee2483df72
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: b1e96d912b49dd8ddcf2e32915c494ac@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=400594
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8ff89061a868514ca9a2b30757fc2c2b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b1e96d912b49dd8ddcf2e32915c494ac@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=400594
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8ff89061a868514ca9a2b30757fc2c2b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: b1e96d912b49dd8ddcf2e32915c494ac@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=400594
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8ff89061a868514ca9a2b30757fc2c2b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 3053975f267809cf5c5913105e6f046d@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKeaf2bda2d3fd3673728ab07e632079bf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3053975f267809cf5c5913105e6f046d@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKeaf2bda2d3fd3673728ab07e632079bf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 3053975f267809cf5c5913105e6f046d@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKeaf2bda2d3fd3673728ab07e632079bf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6d0ee241
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf64931cbe5c47fb258422fc2b1580fb1,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKae685f4a22858f23f89be56455bcc934,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKae685f4a22858f23f89be56455bcc934,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e2076ad0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKae685f4a22858f23f89be56455bcc934,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e2076ad0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2950265
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f21ae1b9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@f21ae1b9
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@17cf6b6
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@6d0ee241
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@366573
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@e2076ad0, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKe8bf96d85b90aab71e118ee0df0a6240,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
From: <sip:kostas@147.102.1.69:4000>;tag=2950265
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1e2dc922
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
From: <sip:kostas@147.102.1.69:4000>;tag=2950265
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK91120d2e7ec816d367a6b81ee9231166,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1af4e2cb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
From: <sip:kostas@147.102.1.69:4000>;tag=2950265
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK838ff9a23721e56293cc211704d171ad
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK838ff9a23721e56293cc211704d171ad
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK838ff9a23721e56293cc211704d171ad
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK7dc63d2bb416dee1c0c30cafec1f1499
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK7dc63d2bb416dee1c0c30cafec1f1499
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK7dc63d2bb416dee1c0c30cafec1f1499
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6a137b5c
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKb47ca37b1517d8d5443de9346d720e41,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKec6075b8261f6d50fee40cedee5c1771,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKec6075b8261f6d50fee40cedee5c1771,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@20b45f5b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKec6075b8261f6d50fee40cedee5c1771,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@20b45f5b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:19105669
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7e13c95
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7e13c95
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1e152f4
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@6a137b5c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@366573
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@20b45f5b, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK58cc216262298523c217ac8c2c56f7fc,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
From: <sip:kostas@147.102.1.69:4000>;tag=19105669
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@30c8fc49
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
From: <sip:kostas@147.102.1.69:4000>;tag=19105669
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK632fc1fac1245ea8e702dafbc38ff812,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@144dbe8e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
From: <sip:kostas@147.102.1.69:4000>;tag=19105669
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf12c29fa57873f3bc987a87324b75a57
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf12c29fa57873f3bc987a87324b75a57
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf12c29fa57873f3bc987a87324b75a57
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK856e1c60a41d49b1117b75c911ae5451
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK856e1c60a41d49b1117b75c911ae5451
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK856e1c60a41d49b1117b75c911ae5451
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0ac5a30eb04522a06597c97d9be23d52
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0ac5a30eb04522a06597c97d9be23d52
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0ac5a30eb04522a06597c97d9be23d52
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK3b11aaef4e0a5326ed4b0d855e96c0e6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK3b11aaef4e0a5326ed4b0d855e96c0e6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK3b11aaef4e0a5326ed4b0d855e96c0e6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK144fc4407e93168244c7d3e41381b011
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK144fc4407e93168244c7d3e41381b011
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK144fc4407e93168244c7d3e41381b011
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK426c2bd2ec4d162aebeae330a2e68001
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK426c2bd2ec4d162aebeae330a2e68001
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK426c2bd2ec4d162aebeae330a2e68001
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK7e6cb847eef80f7edf7cae6e3c539028
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.1.69:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK7e6cb847eef80f7edf7cae6e3c539028
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK7e6cb847eef80f7edf7cae6e3c539028
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKb2203cfe92db4b7a2be098eb14d6e9f9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKb2203cfe92db4b7a2be098eb14d6e9f9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKb2203cfe92db4b7a2be098eb14d6e9f9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e76ac82f
dialog =  gov.nist.javax.sip.stack.SIPDialog@191f801
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKb711dbc9a22d2491d9801d309d8edb18,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:21067408
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2686765b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@191f801
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@2686765b
dialog =  gov.nist.javax.sip.stack.SIPDialog@191f801
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@878c4c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e76ac82f
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@191f801
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK0852cc1943242d4f8a857658960f8c2d,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@96d06317
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@191f801
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.1.69:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKac36c41610855c461f3b84020110f66c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@2cb6ad45
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK182a6f770aa5643de9359b98eed01b6d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK182a6f770aa5643de9359b98eed01b6d
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK182a6f770aa5643de9359b98eed01b6d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8b96aab5b8c18544213b3da26d3396a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8b96aab5b8c18544213b3da26d3396a4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8b96aab5b8c18544213b3da26d3396a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK92a0ad90af97b78095ca5b1a8969379b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK92a0ad90af97b78095ca5b1a8969379b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK92a0ad90af97b78095ca5b1a8969379b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK41436a6b4e03bb96852c2a6bb798bbd4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK41436a6b4e03bb96852c2a6bb798bbd4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK41436a6b4e03bb96852c2a6bb798bbd4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 4c8eaf6b8179fcd83d4eb200cc2e000b@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb1f4d1f04b6c657b2eb8824f21a040a8
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.1.69:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4c8eaf6b8179fcd83d4eb200cc2e000b@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb1f4d1f04b6c657b2eb8824f21a040a8
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 4c8eaf6b8179fcd83d4eb200cc2e000b@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb1f4d1f04b6c657b2eb8824f21a040a8
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ca9564ca4c97863a77a9aba0040a3ce1@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=28713819
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK99282cbe9dee6645c2fb6aa12961b6cd
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ca9564ca4c97863a77a9aba0040a3ce1@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=28713819
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK99282cbe9dee6645c2fb6aa12961b6cd
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ca9564ca4c97863a77a9aba0040a3ce1@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=28713819
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK99282cbe9dee6645c2fb6aa12961b6cd
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas2@147.102.1.69:4000 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5e1b7b54
dialog =  gov.nist.javax.sip.stack.SIPDialog@2f2295
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK8997280fedec439464f4f6042ee12c13,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.25.53 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK185c300d2b599396fed03b2b834b430c,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK185c300d2b599396fed03b2b834b430c,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1520a9b5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e265d0
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK185c300d2b599396fed03b2b834b430c,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1520a9b5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e265d0
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4d2e9911
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2f2295
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@4d2e9911
dialog =  gov.nist.javax.sip.stack.SIPDialog@2f2295
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1706da8
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@5e1b7b54
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@2f2295
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@1520a9b5, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.25.53:5061 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK58106d3c3b78b70ebfe4e5f98c7c3873,SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
Contact to add:sip:147.102.1.69:5060 ?
Contact in the list:sip:147.102.1.69:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:147.102.1.69:5060 has been updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.1.69:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
Contact to add:sip:147.102.25.53:5061 ?
Contact in the list:sip:147.102.25.53:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:147.102.25.53:5061 has been updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.25.53:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas2@147.102.1.69:4000 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@c46690ac
dialog =  gov.nist.javax.sip.stack.SIPDialog@112da40
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKa161ccd23df237f0b236a239170564a6,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.25.53 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:16865950
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@510a80b5
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@112da40
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@510a80b5
dialog =  gov.nist.javax.sip.stack.SIPDialog@112da40
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@17f11fb
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@c46690ac
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@112da40
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.25.53:5061 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK41eec9c18d6a1d669f58cae2ea390fb2,SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
From: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Route: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2854a6ea
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
From: <sip:kostas2@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Route: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.1.69:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
From: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2478635a379116587238719e2c674139,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ba8eb3aa
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@112da40
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
From: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2072447630871c0c0555a9ee7adb803d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2072447630871c0c0555a9ee7adb803d
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2072447630871c0c0555a9ee7adb803d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 2 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK52e026c03debe630b9434e5b61959e71
Max-Forwards: 70
Expires: 0
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 2 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK52e026c03debe630b9434e5b61959e71
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 2 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK52e026c03debe630b9434e5b61959e71
Max-Forwards: 70
Expires: 0
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a72cbbbecf0760e6db6030acd8f5d979@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKe9491fd904fa23065f78cb4426941410;received=127.0.0.1;rport=5060
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a72cbbbecf0760e6db6030acd8f5d979@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKe9491fd904fa23065f78cb4426941410;received=127.0.0.1;rport=5060
Max-Forwards: 70
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a72cbbbecf0760e6db6030acd8f5d979@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKe9491fd904fa23065f78cb4426941410;received=127.0.0.1;rport=5060
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 42a7c7c0cd879da58f1d07904ca3c370@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>;tag=12357150
To: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:8595;branch=z9hG4bK263094371b07bb4f1064a89a3601c972;received=127.0.0.1;rport=8595
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:jmaria@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:jmaria@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:8595 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:jmaria@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:jmaria@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 42a7c7c0cd879da58f1d07904ca3c370@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>;tag=12357150
To: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:8595;branch=z9hG4bK263094371b07bb4f1064a89a3601c972;received=127.0.0.1;rport=8595
Max-Forwards: 70
Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 42a7c7c0cd879da58f1d07904ca3c370@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>;tag=12357150
To: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:8595;branch=z9hG4bK263094371b07bb4f1064a89a3601c972;received=127.0.0.1;rport=8595
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:jmaria@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:jmaria@127.0.0.1:4000 SIP/2.0
Call-ID: 2a0a76befe73239c3f1ff77dbc797679@0.0.0.0
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: <sip:jmaria@127.0.0.1:4000>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKa071f24a8285adbf47e295223aa9230d;received=127.0.0.1;rport=5060
Max-Forwards: 70
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 151

v=0
o=alivogia 0 0 IN IP4 0.0.0.0
s=-
c=IN IP4 0.0.0.0
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:jmaria@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@dc6253a6
dialog =  gov.nist.javax.sip.stack.SIPDialog@4c4975
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:0.0.0.0:8595 SIP/2.0
Call-ID: 2a0a76befe73239c3f1ff77dbc797679@0.0.0.0
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: <sip:jmaria@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK63155fe5bb4236ab685033c40df0bc28,SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKa071f24a8285adbf47e295223aa9230d;received=127.0.0.1;rport=5060
Max-Forwards: 69
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 151

v=0
o=alivogia 0 0 IN IP4 0.0.0.0
s=-
c=IN IP4 0.0.0.0
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:0.0.0.0 port:8595 transport:udp
RequestForwarding, forwardRequestStatefully(),  internal error, exception raised:
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 842a1bc4140eee6f3707bc5a02cbe2e2@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39a834885fe7f084a12bacb327979955
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:jmaria@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:jmaria@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:jmaria@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:jmaria@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 842a1bc4140eee6f3707bc5a02cbe2e2@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39a834885fe7f084a12bacb327979955
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 842a1bc4140eee6f3707bc5a02cbe2e2@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39a834885fe7f084a12bacb327979955
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:jmaria@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: d1d149d1681e7825a6dc52a87bf2bb9d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3143f631a59625c414902df56d3c0860
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: d1d149d1681e7825a6dc52a87bf2bb9d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3143f631a59625c414902df56d3c0860
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 30c61ab853cf04e48c431548869aa6bb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:53712;branch=z9hG4bK88c62f89d545d19a96e5512bd4fce058
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:53712 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:jmaria@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 30c61ab853cf04e48c431548869aa6bb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:53712;branch=z9hG4bK88c62f89d545d19a96e5512bd4fce058
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 30c61ab853cf04e48c431548869aa6bb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:53712;branch=z9hG4bK88c62f89d545d19a96e5512bd4fce058
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 221e4f37904935d95dc80ffd74af1504@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK1c31073577107e5149a2a470d94ce988
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK1f7d433e13c3b517c44fe29aaf469d03
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK1f7d433e13c3b517c44fe29aaf469d03
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="07166bf386a918d130ee50067f3c14b3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK2c4406345313c1f92c408fc735a68e46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="robby",realm="nist.gov",nonce="07166bf386a918d130ee50067f3c14b3",uri="sip:192.168.1.51:5061;transport=udp",response="6742135788fa9760bb7d98f4902fb895",algorithm=MD5,opaque=""
From: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: robby for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: robby@nist.gov
Authentication failed for user: robby
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK2c4406345313c1f92c408fc735a68e46
Max-Forwards: 70
From: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="bd4c63a24a35b504ab70819cbab89a41",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc0ff92caf677f461db551e5eb72993aa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="bd4c63a24a35b504ab70819cbab89a41",uri="sip:192.168.1.51:5061;transport=udp",response="c3286926ea26f1f52bb1519761525419",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bd4c63a24a35b504ab70819cbab89a41!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c3286926ea26f1f52bb1519761525419 with our computed response: c3286926ea26f1f52bb1519761525419
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc0ff92caf677f461db551e5eb72993aa
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc0ff92caf677f461db551e5eb72993aa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="bd4c63a24a35b504ab70819cbab89a41",uri="sip:192.168.1.51:5061;transport=udp",response="c3286926ea26f1f52bb1519761525419",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb579646ca78ec5a9b5bcbdf87bb79409
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb579646ca78ec5a9b5bcbdf87bb79409
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="bd81837a6884b15b284e3bc074163d60",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKaf14f5c0599b0dc2234f1d4244914d07
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bd81837a6884b15b284e3bc074163d60",uri="sip:192.168.1.51:5061;transport=udp",response="51f93d95fefe30c128ccd7dacb61dc7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bd81837a6884b15b284e3bc074163d60!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 51f93d95fefe30c128ccd7dacb61dc7a with our computed response: 51f93d95fefe30c128ccd7dacb61dc7a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:48504 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKaf14f5c0599b0dc2234f1d4244914d07
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKaf14f5c0599b0dc2234f1d4244914d07
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bd81837a6884b15b284e3bc074163d60",uri="sip:192.168.1.51:5061;transport=udp",response="51f93d95fefe30c128ccd7dacb61dc7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb53968352694bfd4f046b5894ab1a1b9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb53968352694bfd4f046b5894ab1a1b9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e4c1d9db14239ce9a768da905f9a8c2d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb53968352694bfd4f046b5894ab1a1b9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKcab4dbcf619199b02b0a40d94da571ad
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="e4c1d9db14239ce9a768da905f9a8c2d",uri="sip:roby@192.168.1.51:4000",response="ca9702aed4a2ab1d91521a85faecbc7c",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e4c1d9db14239ce9a768da905f9a8c2d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ca9702aed4a2ab1d91521a85faecbc7c with our computed response: ca9702aed4a2ab1d91521a85faecbc7c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1afd7b7d6d76a3cdb4adb89ac82f00e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1afd7b7d6d76a3cdb4adb89ac82f00e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9c9fe2fa4a9fb65b04685c5f1f2b6ac5",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0664a1ea671740f85d4919020af3d42b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="9c9fe2fa4a9fb65b04685c5f1f2b6ac5",uri="sip:192.168.1.51:5061;transport=udp",response="45029943532783edf068453b6ed5dfb2",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9c9fe2fa4a9fb65b04685c5f1f2b6ac5!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 45029943532783edf068453b6ed5dfb2 with our computed response: 45029943532783edf068453b6ed5dfb2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0664a1ea671740f85d4919020af3d42b
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0664a1ea671740f85d4919020af3d42b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="9c9fe2fa4a9fb65b04685c5f1f2b6ac5",uri="sip:192.168.1.51:5061;transport=udp",response="45029943532783edf068453b6ed5dfb2",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK6244e16c3928817c4c706333b8908e13
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK6244e16c3928817c4c706333b8908e13
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9021a39d096bc1c1fd5d8da07eb26cd3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK0f4f0bc7bf18b872aa896f5f8a4c8cb8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9021a39d096bc1c1fd5d8da07eb26cd3",uri="sip:192.168.1.51:5061;transport=udp",response="5d0220ed1dde479fa26478e5ea5a19b3",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9021a39d096bc1c1fd5d8da07eb26cd3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 5d0220ed1dde479fa26478e5ea5a19b3 with our computed response: 5d0220ed1dde479fa26478e5ea5a19b3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:6194 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK0f4f0bc7bf18b872aa896f5f8a4c8cb8
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK0f4f0bc7bf18b872aa896f5f8a4c8cb8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9021a39d096bc1c1fd5d8da07eb26cd3",uri="sip:192.168.1.51:5061;transport=udp",response="5d0220ed1dde479fa26478e5ea5a19b3",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66d82fbd5ced7a0c5f7688ebfc62bdd9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66d82fbd5ced7a0c5f7688ebfc62bdd9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66d82fbd5ced7a0c5f7688ebfc62bdd9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",uri="sip:roby@192.168.1.51:4000",response="48798f315e1bbdf5039b503742a89e2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a04f57a880a77c3bb5f0e1949abfcef3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 48798f315e1bbdf5039b503742a89e2b with our computed response: 48798f315e1bbdf5039b503742a89e2b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@66571597
dialog =  gov.nist.javax.sip.stack.SIPDialog@2bc3f5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:6194 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKec13208c7886dc8b92958b7d8580bc10,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",uri="sip:roby@192.168.1.51:4000",response="48798f315e1bbdf5039b503742a89e2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:6194 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:6194 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",uri="sip:roby@192.168.1.51:4000",response="48798f315e1bbdf5039b503742a89e2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7adf7516
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7adf7516
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7adf7516
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:28360136
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK02b8a7123b6f9c0164104520d7d378ce
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK02b8a7123b6f9c0164104520d7d378ce
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2ac1604864d0a3710414d99545aa5088",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb764ada644c322cb3457a48b16999f95
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2ac1604864d0a3710414d99545aa5088",uri="sip:192.168.1.51:5061;transport=udp",response="674351464f68ba62cc9876fadae36709",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2ac1604864d0a3710414d99545aa5088!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 674351464f68ba62cc9876fadae36709 with our computed response: 674351464f68ba62cc9876fadae36709
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb764ada644c322cb3457a48b16999f95
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb764ada644c322cb3457a48b16999f95
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2ac1604864d0a3710414d99545aa5088",uri="sip:192.168.1.51:5061;transport=udp",response="674351464f68ba62cc9876fadae36709",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKa2bab85a7adb86a17a58fa7b9a271770
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKa2bab85a7adb86a17a58fa7b9a271770
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c77a9bb8086bbb8444358887af560222",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKc425e2f2e8738c17c5412ee54265c291
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="c77a9bb8086bbb8444358887af560222",uri="sip:192.168.1.51:5061;transport=udp",response="96e40c0f1b5871a2552a9b2e2ae8cb80",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c77a9bb8086bbb8444358887af560222!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 96e40c0f1b5871a2552a9b2e2ae8cb80 with our computed response: 96e40c0f1b5871a2552a9b2e2ae8cb80
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:6194 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKc425e2f2e8738c17c5412ee54265c291
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKc425e2f2e8738c17c5412ee54265c291
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="c77a9bb8086bbb8444358887af560222",uri="sip:192.168.1.51:5061;transport=udp",response="96e40c0f1b5871a2552a9b2e2ae8cb80",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK651a3ae97f67c5e70e22d4ec12ee24f7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK651a3ae97f67c5e70e22d4ec12ee24f7
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3878185b1e0e757067389af5c6bc052c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK11f3f34ec2119ebbb52dc8208db439e3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="3878185b1e0e757067389af5c6bc052c",uri="sip:192.168.1.51:5061;transport=udp",response="e077d63e5dd33e769a43b300e711963d",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3878185b1e0e757067389af5c6bc052c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e077d63e5dd33e769a43b300e711963d with our computed response: e077d63e5dd33e769a43b300e711963d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK11f3f34ec2119ebbb52dc8208db439e3
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK11f3f34ec2119ebbb52dc8208db439e3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="3878185b1e0e757067389af5c6bc052c",uri="sip:192.168.1.51:5061;transport=udp",response="e077d63e5dd33e769a43b300e711963d",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK305809dae840e50a38ed30f8504dec20
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK305809dae840e50a38ed30f8504dec20
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ed2ef2f7d1823a7b5a8b278071a07b44",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKa527f457d1cbde50a0ab14cd7346bffb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="ed2ef2f7d1823a7b5a8b278071a07b44",uri="sip:192.168.1.51:5061;transport=udp",response="d1658266b04fc69dfd906ea2ea2267a6",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ed2ef2f7d1823a7b5a8b278071a07b44!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d1658266b04fc69dfd906ea2ea2267a6 with our computed response: d1658266b04fc69dfd906ea2ea2267a6
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:17182 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKa527f457d1cbde50a0ab14cd7346bffb
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKa527f457d1cbde50a0ab14cd7346bffb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="ed2ef2f7d1823a7b5a8b278071a07b44",uri="sip:192.168.1.51:5061;transport=udp",response="d1658266b04fc69dfd906ea2ea2267a6",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK71ee6e2cd797bb15a8d763f9b26df480
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK71ee6e2cd797bb15a8d763f9b26df480
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK71ee6e2cd797bb15a8d763f9b26df480
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",uri="sip:roby@192.168.1.51:4000",response="bcc4bf989f749cdb3a6048ae39c453fe",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:91bba33be2536e14e236a4f845b840f4!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: bcc4bf989f749cdb3a6048ae39c453fe with our computed response: bcc4bf989f749cdb3a6048ae39c453fe
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@2b3a7555
dialog =  gov.nist.javax.sip.stack.SIPDialog@1581593
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKfae7c6e33a88bbb158f068189cb0de5a,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",uri="sip:roby@192.168.1.51:4000",response="bcc4bf989f749cdb3a6048ae39c453fe",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK2b8876f1d85b1080d75ffd4a585c6206,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",uri="sip:roby@192.168.1.51:4000",response="bcc4bf989f749cdb3a6048ae39c453fe",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK2b8876f1d85b1080d75ffd4a585c6206,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d10407d3
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c09554
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK2b8876f1d85b1080d75ffd4a585c6206,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d10407d3
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c09554
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10313829
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK54b0ce74fc6894386f3cb6ff0a59a2d4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK54b0ce74fc6894386f3cb6ff0a59a2d4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="bcc00b675e4fe27c0f8c9bb0a62ec6df",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKac24de679a73723e5a8ec152b813177d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bcc00b675e4fe27c0f8c9bb0a62ec6df",uri="sip:192.168.1.51:5061;transport=udp",response="1efd986c1a2b6467c003c17698a71939",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bcc00b675e4fe27c0f8c9bb0a62ec6df!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1efd986c1a2b6467c003c17698a71939 with our computed response: 1efd986c1a2b6467c003c17698a71939
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:17182 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKac24de679a73723e5a8ec152b813177d
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKac24de679a73723e5a8ec152b813177d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bcc00b675e4fe27c0f8c9bb0a62ec6df",uri="sip:192.168.1.51:5061;transport=udp",response="1efd986c1a2b6467c003c17698a71939",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK491a3bc17c39c2b1298aebeb6c1c835d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK491a3bc17c39c2b1298aebeb6c1c835d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b42aabcdaf493fa395efee94a9f00d12",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc53124347fd93a89c12d4de79512f642
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="b42aabcdaf493fa395efee94a9f00d12",uri="sip:192.168.1.51:5061;transport=udp",response="834aef40ce7cb59540c62a2383ff4655",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b42aabcdaf493fa395efee94a9f00d12!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 834aef40ce7cb59540c62a2383ff4655 with our computed response: 834aef40ce7cb59540c62a2383ff4655
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc53124347fd93a89c12d4de79512f642
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc53124347fd93a89c12d4de79512f642
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="b42aabcdaf493fa395efee94a9f00d12",uri="sip:192.168.1.51:5061;transport=udp",response="834aef40ce7cb59540c62a2383ff4655",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaa914557cf848d0db01c73ef9a3da633
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaa914557cf848d0db01c73ef9a3da633
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1ca111228712abd0d6029038e473d1a0",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd998fec3741403789bbf8ac94b353afa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1ca111228712abd0d6029038e473d1a0",uri="sip:192.168.1.51:5061;transport=udp",response="7f9ce3de08f6fb17fec0526f88eb728e",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1ca111228712abd0d6029038e473d1a0!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 7f9ce3de08f6fb17fec0526f88eb728e with our computed response: 7f9ce3de08f6fb17fec0526f88eb728e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd998fec3741403789bbf8ac94b353afa
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd998fec3741403789bbf8ac94b353afa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1ca111228712abd0d6029038e473d1a0",uri="sip:192.168.1.51:5061;transport=udp",response="7f9ce3de08f6fb17fec0526f88eb728e",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc0ce251497bf2de62ff8e2e1e258441f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc0ce251497bf2de62ff8e2e1e258441f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="06c2047153cdf9936f3f22d1e41aeb90",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc83279a371b759c8c71516018599e1a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="06c2047153cdf9936f3f22d1e41aeb90",uri="sip:192.168.1.51:5061;transport=udp",response="e51f2885eeb804960c31b6d4a6bcddda",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:06c2047153cdf9936f3f22d1e41aeb90!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e51f2885eeb804960c31b6d4a6bcddda with our computed response: e51f2885eeb804960c31b6d4a6bcddda
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:28147 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc83279a371b759c8c71516018599e1a3
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc83279a371b759c8c71516018599e1a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="06c2047153cdf9936f3f22d1e41aeb90",uri="sip:192.168.1.51:5061;transport=udp",response="e51f2885eeb804960c31b6d4a6bcddda",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK36c01b2814449f583092efe5d30e5755
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK36c01b2814449f583092efe5d30e5755
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK36c01b2814449f583092efe5d30e5755
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",uri="sip:roby@192.168.1.51:4000",response="cd36b34cb46997b75d9184a04da66001",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:390cf7a12e0e817737a849f12cb714dc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: cd36b34cb46997b75d9184a04da66001 with our computed response: cd36b34cb46997b75d9184a04da66001
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3f38085c
dialog =  gov.nist.javax.sip.stack.SIPDialog@1e845c2
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:28147 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKd5cf40261c07420d458bffe673eb4a28,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",uri="sip:roby@192.168.1.51:4000",response="cd36b34cb46997b75d9184a04da66001",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:28147 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:28147 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK1477b2f1e8c7e7911cad905f0bdbb2f6,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",uri="sip:roby@192.168.1.51:4000",response="cd36b34cb46997b75d9184a04da66001",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK1477b2f1e8c7e7911cad905f0bdbb2f6,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@65417abb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c44b88
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK1477b2f1e8c7e7911cad905f0bdbb2f6,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@65417abb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c44b88
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:7226213
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.51:4000;transport=udp SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 ACK
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=39322e3136382e312e35313a3530363
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Route: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e169b847
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e845c2
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e169b847
dialog =  gov.nist.javax.sip.stack.SIPDialog@1e845c2
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@19ce060
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@3f38085c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1e845c2
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@65417abb, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.51:28147 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 ACK
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3e68ad1885370717fdb55f59060b39bb,SIP/2.0/UDP 192.168.1.51:5060;branch=39322e3136382e312e35313a3530363
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Route: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.51:4000;transport=udp SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 BYE
From: <sip:roby@192.168.1.51:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKa889e95fbec155d1f9c1113c4ce9f755
Route: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7cec291f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c44b88
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 BYE
From: <sip:roby@192.168.1.51:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKa889e95fbec155d1f9c1113c4ce9f755
Proxy-Authenticate: Digest realm="nist.gov",nonce="69803b749b07b50718fdfed3fd54ffda",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:roby@192.168.1.51:4000;transport=udp SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 BYE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK60bd388d192188ff20eabd83e143335b
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 BYE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK60bd388d192188ff20eabd83e143335b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6478d8189046b00d7598da01e43dcc66",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK188dc005e1e6c5353b8cb7fe530e14ef
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK188dc005e1e6c5353b8cb7fe530e14ef
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7baea1b05aaab7843e7835069dc57d39",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb58f7a987c50766b76222eeb06206210
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="7baea1b05aaab7843e7835069dc57d39",uri="sip:192.168.1.51:5061;transport=udp",response="ed8a91c631e72a1042f54079d015cdba",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7baea1b05aaab7843e7835069dc57d39!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ed8a91c631e72a1042f54079d015cdba with our computed response: ed8a91c631e72a1042f54079d015cdba
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb58f7a987c50766b76222eeb06206210
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb58f7a987c50766b76222eeb06206210
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="7baea1b05aaab7843e7835069dc57d39",uri="sip:192.168.1.51:5061;transport=udp",response="ed8a91c631e72a1042f54079d015cdba",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bK3cc00d2460e8e09acb8038ccd71446ec
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bK3cc00d2460e8e09acb8038ccd71446ec
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9972dff4de96cb8c4cab77be1f7edfbb",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKb1f6b32c89c05b28a3f20d41e98b4cc4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9972dff4de96cb8c4cab77be1f7edfbb",uri="sip:192.168.1.51:5061;transport=udp",response="aae89aacab152ca179a161bd99bab261",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9972dff4de96cb8c4cab77be1f7edfbb!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: aae89aacab152ca179a161bd99bab261 with our computed response: aae89aacab152ca179a161bd99bab261
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:28147 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKb1f6b32c89c05b28a3f20d41e98b4cc4
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKb1f6b32c89c05b28a3f20d41e98b4cc4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9972dff4de96cb8c4cab77be1f7edfbb",uri="sip:192.168.1.51:5061;transport=udp",response="aae89aacab152ca179a161bd99bab261",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK56d5a9f38b1a95d392d6518212c83981
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK56d5a9f38b1a95d392d6518212c83981
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1e5139673ba46c2495c836b16c49b052",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK965c2cbe47b769a46bf28dc08cf40be1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1e5139673ba46c2495c836b16c49b052",uri="sip:192.168.1.51:5061;transport=udp",response="91a8d9ffdc2ad221ea66c83fae317277",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1e5139673ba46c2495c836b16c49b052!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 91a8d9ffdc2ad221ea66c83fae317277 with our computed response: 91a8d9ffdc2ad221ea66c83fae317277
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK965c2cbe47b769a46bf28dc08cf40be1
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK965c2cbe47b769a46bf28dc08cf40be1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1e5139673ba46c2495c836b16c49b052",uri="sip:192.168.1.51:5061;transport=udp",response="91a8d9ffdc2ad221ea66c83fae317277",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK0ed0592a3f55e4a46f6a572d9d352a53
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK0ed0592a3f55e4a46f6a572d9d352a53
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1639933ba3b01f98d53c78ed7096f728",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKafd341debb8933b3fd3421adec4e8325
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1639933ba3b01f98d53c78ed7096f728",uri="sip:192.168.1.51:5061;transport=udp",response="8d457852b80ce24c140c3fc9ef384278",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1639933ba3b01f98d53c78ed7096f728!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 8d457852b80ce24c140c3fc9ef384278 with our computed response: 8d457852b80ce24c140c3fc9ef384278
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:37668 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKafd341debb8933b3fd3421adec4e8325
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKafd341debb8933b3fd3421adec4e8325
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1639933ba3b01f98d53c78ed7096f728",uri="sip:192.168.1.51:5061;transport=udp",response="8d457852b80ce24c140c3fc9ef384278",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK3f5512118575e20243847584e80bd2ab
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK3f5512118575e20243847584e80bd2ab
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e125f2558c20f793b4f4c322736378df",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK3f5512118575e20243847584e80bd2ab
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKb08d9129d421e46257f98f1bc5557c04
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="e125f2558c20f793b4f4c322736378df",uri="sip:roby@192.168.1.51:4000",response="45e9e200eaed12b6d0ae762b3834caaa",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e125f2558c20f793b4f4c322736378df!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 45e9e200eaed12b6d0ae762b3834caaa with our computed response: 45e9e200eaed12b6d0ae762b3834caaa
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb8b574b7d1400a74e53c0987ac02eec5
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb8b574b7d1400a74e53c0987ac02eec5
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2700ab36b618d0a88d8d0f5588ac4bea",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK685ad7ebc608d8780d882cc1a09a0d1f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2700ab36b618d0a88d8d0f5588ac4bea",uri="sip:192.168.1.51:5061;transport=udp",response="d4401cf65d913d1e5d26f9f244f407cf",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2700ab36b618d0a88d8d0f5588ac4bea!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d4401cf65d913d1e5d26f9f244f407cf with our computed response: d4401cf65d913d1e5d26f9f244f407cf
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK685ad7ebc608d8780d882cc1a09a0d1f
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK685ad7ebc608d8780d882cc1a09a0d1f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2700ab36b618d0a88d8d0f5588ac4bea",uri="sip:192.168.1.51:5061;transport=udp",response="d4401cf65d913d1e5d26f9f244f407cf",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK68979d2d12ea9f803c7ea8637dc6c8fd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK68979d2d12ea9f803c7ea8637dc6c8fd
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="4ab52624bd3ceb849331b5edef0aafc8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKe2d43e8bfaea9868a525d7a6f7015070
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="4ab52624bd3ceb849331b5edef0aafc8",uri="sip:192.168.1.51:5061;transport=udp",response="69eead00d0668d9b6a37397f611987e0",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4ab52624bd3ceb849331b5edef0aafc8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 69eead00d0668d9b6a37397f611987e0 with our computed response: 69eead00d0668d9b6a37397f611987e0
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:12929 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKe2d43e8bfaea9868a525d7a6f7015070
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKe2d43e8bfaea9868a525d7a6f7015070
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="4ab52624bd3ceb849331b5edef0aafc8",uri="sip:192.168.1.51:5061;transport=udp",response="69eead00d0668d9b6a37397f611987e0",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",uri="sip:roby@192.168.1.51:4000",response="e46e83ed861f3aa1dd19ed675ba5f6dd",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6acff9b52ab95253885f79f5a777019e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e46e83ed861f3aa1dd19ed675ba5f6dd with our computed response: e46e83ed861f3aa1dd19ed675ba5f6dd
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d32aac8c
dialog =  gov.nist.javax.sip.stack.SIPDialog@1bbd23f
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:12929 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK22ba2ebb22829dc2d3fbb332b89ab69b,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",uri="sip:roby@192.168.1.51:4000",response="e46e83ed861f3aa1dd19ed675ba5f6dd",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:12929 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:12929 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKef78b00a3570a7fce3914f83d7cb5493,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",uri="sip:roby@192.168.1.51:4000",response="e46e83ed861f3aa1dd19ed675ba5f6dd",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKef78b00a3570a7fce3914f83d7cb5493,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@56aa670c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19e8f17
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKef78b00a3570a7fce3914f83d7cb5493,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@56aa670c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19e8f17
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:14293164
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",uri="sip:deruelle@192.168.1.51:4000",response="02280ee93f61baed80adcfd692be859b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:deruelle@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:58e2effc93e3f0c223ee838ae100bc94!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:42ca63722d31d54520e53fc95a0656d3!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 02280ee93f61baed80adcfd692be859b with our computed response: 02280ee93f61baed80adcfd692be859b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d37f93d8
dialog =  gov.nist.javax.sip.stack.SIPDialog@179dce4
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK8378adac6f6ed3d2de8a35d2ab934698,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",uri="sip:deruelle@192.168.1.51:4000",response="02280ee93f61baed80adcfd692be859b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",uri="sip:deruelle@192.168.1.51:4000",response="02280ee93f61baed80adcfd692be859b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6292ae58
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1950198
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6292ae58
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1950198
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6292ae58
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1950198
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2221396
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKebb8639135d4da9c897b6c9ced8b2d4f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKebb8639135d4da9c897b6c9ced8b2d4f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a4691d75b4bda8f65106c426ee1ccce3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK829709cfc73e18e7c4bae9f4e4138d4f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="a4691d75b4bda8f65106c426ee1ccce3",uri="sip:192.168.1.51:5061;transport=udp",response="9a6f2563139555f40a015341ebf28b5c",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a4691d75b4bda8f65106c426ee1ccce3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9a6f2563139555f40a015341ebf28b5c with our computed response: 9a6f2563139555f40a015341ebf28b5c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:12929 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK829709cfc73e18e7c4bae9f4e4138d4f
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK829709cfc73e18e7c4bae9f4e4138d4f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="a4691d75b4bda8f65106c426ee1ccce3",uri="sip:192.168.1.51:5061;transport=udp",response="9a6f2563139555f40a015341ebf28b5c",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa479d501319c4cbd6573b9ac373a16ab
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa479d501319c4cbd6573b9ac373a16ab
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="83bd0a896b3130b34cf6a3f8cd7951d1",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22000264598983944f62c81aea1e6fce
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="83bd0a896b3130b34cf6a3f8cd7951d1",uri="sip:192.168.1.51:5061;transport=udp",response="80464844f43345f2a4bf1d9bc3ce4307",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:83bd0a896b3130b34cf6a3f8cd7951d1!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 80464844f43345f2a4bf1d9bc3ce4307 with our computed response: 80464844f43345f2a4bf1d9bc3ce4307
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22000264598983944f62c81aea1e6fce
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22000264598983944f62c81aea1e6fce
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="83bd0a896b3130b34cf6a3f8cd7951d1",uri="sip:192.168.1.51:5061;transport=udp",response="80464844f43345f2a4bf1d9bc3ce4307",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb59b62b34f11dceefc4decab2476ed14
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb59b62b34f11dceefc4decab2476ed14
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="27747a773d76f50e933283b3fb2f6e87",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9cefb77f6d84f7d7af2e4ed0a70b2da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="27747a773d76f50e933283b3fb2f6e87",uri="sip:192.168.1.51:5061;transport=udp",response="e9e067243bfb7a46dd5857f4c2f958f9",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:27747a773d76f50e933283b3fb2f6e87!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e9e067243bfb7a46dd5857f4c2f958f9 with our computed response: e9e067243bfb7a46dd5857f4c2f958f9
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9cefb77f6d84f7d7af2e4ed0a70b2da0
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9cefb77f6d84f7d7af2e4ed0a70b2da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="27747a773d76f50e933283b3fb2f6e87",uri="sip:192.168.1.51:5061;transport=udp",response="e9e067243bfb7a46dd5857f4c2f958f9",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK03bdfe436ad9886fe64285d92ff52fec
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK03bdfe436ad9886fe64285d92ff52fec
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a78a1e1de8f740cd4d901c8404bf3697",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK5a16c6d771ac773e3c054d0ab3562521
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a78a1e1de8f740cd4d901c8404bf3697",uri="sip:192.168.1.51:5061;transport=udp",response="30569b7b4b1fab355243538aa3cac956",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a78a1e1de8f740cd4d901c8404bf3697!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 30569b7b4b1fab355243538aa3cac956 with our computed response: 30569b7b4b1fab355243538aa3cac956
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:35656 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK5a16c6d771ac773e3c054d0ab3562521
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK5a16c6d771ac773e3c054d0ab3562521
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a78a1e1de8f740cd4d901c8404bf3697",uri="sip:192.168.1.51:5061;transport=udp",response="30569b7b4b1fab355243538aa3cac956",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKeb1a5be2161fb4caef8e273936c50a62
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKeb1a5be2161fb4caef8e273936c50a62
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1b5824edbdcc2278e0aac5be2e855688",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKeb1a5be2161fb4caef8e273936c50a62
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKe068966a28225f9e49a350c4203c4a60
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1b5824edbdcc2278e0aac5be2e855688",uri="sip:roby@192.168.1.51:4000",response="48ba4bbb99f180fb15492cb890613b94",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1b5824edbdcc2278e0aac5be2e855688!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 48ba4bbb99f180fb15492cb890613b94 with our computed response: 48ba4bbb99f180fb15492cb890613b94
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",uri="sip:deruelle@192.168.1.51:4000",response="e497adc6ce2f6cbdbf9d508012c49802",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:deruelle@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e34a7e2dbc0b2ba1080205b843ecfd7a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:42ca63722d31d54520e53fc95a0656d3!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e497adc6ce2f6cbdbf9d508012c49802 with our computed response: e497adc6ce2f6cbdbf9d508012c49802
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@277f7ea9
dialog =  gov.nist.javax.sip.stack.SIPDialog@5fcf29
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:35656 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKd70f85710191fc275f5f559001f447dc,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",uri="sip:deruelle@192.168.1.51:4000",response="e497adc6ce2f6cbdbf9d508012c49802",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:35656 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:35656 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKf5edc07a0747baea3067cf945a8fb354,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",uri="sip:deruelle@192.168.1.51:4000",response="e497adc6ce2f6cbdbf9d508012c49802",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKf5edc07a0747baea3067cf945a8fb354,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d36c64cf
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9cb0f4
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKf5edc07a0747baea3067cf945a8fb354,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d36c64cf
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9cb0f4
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13655059
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK50d64ebca997faf4b4860d8c2275dfaa
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK50d64ebca997faf4b4860d8c2275dfaa
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="165b681c74b4c395e0fe4068710f82fe",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK50d64ebca997faf4b4860d8c2275dfaa
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK735f9435be05cc268a94f6568f7978f6
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="165b681c74b4c395e0fe4068710f82fe",uri="sip:roby@192.168.1.51:4000",response="1a921e49e6175f0cd1c780ffbdabae94",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:165b681c74b4c395e0fe4068710f82fe!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1a921e49e6175f0cd1c780ffbdabae94 with our computed response: 1a921e49e6175f0cd1c780ffbdabae94
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK13772638cfd70ed1a89e3e0edd8578f4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK13772638cfd70ed1a89e3e0edd8578f4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f6a69c98b31f00c4c257bfa76807ac91",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb6b8dbc3918028b2c75abad956fb4afb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="f6a69c98b31f00c4c257bfa76807ac91",uri="sip:192.168.1.51:5061;transport=udp",response="f4f0127867fa70ac36eddf66481fe1e5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f6a69c98b31f00c4c257bfa76807ac91!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f4f0127867fa70ac36eddf66481fe1e5 with our computed response: f4f0127867fa70ac36eddf66481fe1e5
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb6b8dbc3918028b2c75abad956fb4afb
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb6b8dbc3918028b2c75abad956fb4afb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="f6a69c98b31f00c4c257bfa76807ac91",uri="sip:192.168.1.51:5061;transport=udp",response="f4f0127867fa70ac36eddf66481fe1e5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKb25a48bfac05aec67aebae48043b2e0b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKb25a48bfac05aec67aebae48043b2e0b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="61656311bcd4ef1803c217ded1d50470",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKc0c8edb532b68574c7a4d1d627cb511a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="61656311bcd4ef1803c217ded1d50470",uri="sip:192.168.1.51:5061;transport=udp",response="2a248cdc9fa4965205d058946b36f38f",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:61656311bcd4ef1803c217ded1d50470!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 2a248cdc9fa4965205d058946b36f38f with our computed response: 2a248cdc9fa4965205d058946b36f38f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:35656 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKc0c8edb532b68574c7a4d1d627cb511a
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKc0c8edb532b68574c7a4d1d627cb511a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="61656311bcd4ef1803c217ded1d50470",uri="sip:192.168.1.51:5061;transport=udp",response="2a248cdc9fa4965205d058946b36f38f",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfa63151a07f27a1138535b0e204e2445
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfa63151a07f27a1138535b0e204e2445
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b6ff5da7ddbb4833980425e8d9a84b50",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4a2f7f9cc93e8cd9507c325af596eb31
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b6ff5da7ddbb4833980425e8d9a84b50",uri="sip:192.168.1.51:5061;transport=udp",response="d5fd3333dad7654e1ff72cc647fde8eb",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: alex@nist.gov
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4a2f7f9cc93e8cd9507c325af596eb31
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="20074d961bcdba2f192684900126f83b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8b9759612530fc6bbe504df2dcf1dda5
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="20074d961bcdba2f192684900126f83b",uri="sip:192.168.1.51:5061;transport=udp",response="10412029509e0fa4cc9f6d3a23968ee9",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: alex@nist.gov
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8b9759612530fc6bbe504df2dcf1dda5
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="dcdbb0415418e7f902901dcf174480a1",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd3a0faeb505d53b0d9612e25876e1dcb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="dcdbb0415418e7f902901dcf174480a1",uri="sip:192.168.1.51:5061;transport=udp",response="2051b1f59ece40d7fe1394a916c3ccfb",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: alex@nist.gov
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd3a0faeb505d53b0d9612e25876e1dcb
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="74d94981383e3a33c6128ad1eb9ff516",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK44d70eb9346b5d40b4ae89b4b043a458
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="74d94981383e3a33c6128ad1eb9ff516",uri="sip:192.168.1.51:5061;transport=udp",response="835d4162421e5c4b1933eeb019afb47c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: thanos@nist.gov
Authentication failed for user: thanos
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK44d70eb9346b5d40b4ae89b4b043a458
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="c60648be2989cca247f90c02faf65f00",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 6 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4586f36bda18f42867eec9540d01e3ed
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="c60648be2989cca247f90c02faf65f00",uri="sip:192.168.1.51:5061;transport=udp",response="7d963c7ddd6c44fb95dad5f5b079292c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: thanos@nist.gov
Authentication failed for user: thanos
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 6 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4586f36bda18f42867eec9540d01e3ed
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="a13fff0665b1f679595144ca18e5bed3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK6eb89b1eb2cd5d5b0c010c093e443b3a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK6eb89b1eb2cd5d5b0c010c093e443b3a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="39358e90decc2b1018222600a3c6c970",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK277909b9d13cdeea669271ddaba33da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="39358e90decc2b1018222600a3c6c970",uri="sip:192.168.1.51:5061;transport=udp",response="37a6e1c26b52d433cf102280c8d19e11",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:39358e90decc2b1018222600a3c6c970!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 37a6e1c26b52d433cf102280c8d19e11 with our computed response: 37a6e1c26b52d433cf102280c8d19e11
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK277909b9d13cdeea669271ddaba33da0
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK277909b9d13cdeea669271ddaba33da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="39358e90decc2b1018222600a3c6c970",uri="sip:192.168.1.51:5061;transport=udp",response="37a6e1c26b52d433cf102280c8d19e11",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d41983859a2670f5999c062c95181d6
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d41983859a2670f5999c062c95181d6
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3e8cce40683ef9ef38eecd86b805407b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK2368e2e6fbb7f30313c37d1633b1208f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3e8cce40683ef9ef38eecd86b805407b",uri="sip:192.168.1.51:5061;transport=udp",response="f7b28b779f453d2313ee2b880a7ca3e9",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3e8cce40683ef9ef38eecd86b805407b!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f7b28b779f453d2313ee2b880a7ca3e9 with our computed response: f7b28b779f453d2313ee2b880a7ca3e9
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:45793 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK2368e2e6fbb7f30313c37d1633b1208f
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK2368e2e6fbb7f30313c37d1633b1208f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3e8cce40683ef9ef38eecd86b805407b",uri="sip:192.168.1.51:5061;transport=udp",response="f7b28b779f453d2313ee2b880a7ca3e9",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK58ba79ecec2ca154296d7a461251c029
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK58ba79ecec2ca154296d7a461251c029
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8ef880b135dfb497ba856d63f718534e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK58ba79ecec2ca154296d7a461251c029
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKfb624dcf9dc6ef7375a5f7398a9ff322
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8ef880b135dfb497ba856d63f718534e",uri="sip:alex@192.168.1.51:4000",response="b626bd03e3875c0b2b05863c00b0958e",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8ef880b135dfb497ba856d63f718534e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b626bd03e3875c0b2b05863c00b0958e with our computed response: b626bd03e3875c0b2b05863c00b0958e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKfb624dcf9dc6ef7375a5f7398a9ff322
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK5bac5aa30e53ac627c60db3fcac0afa1
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK5bac5aa30e53ac627c60db3fcac0afa1
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7abd89bb833cd190981a05791d1e963a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK5bac5aa30e53ac627c60db3fcac0afa1
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKb5166825c4641564053e245cb908d26e
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="7abd89bb833cd190981a05791d1e963a",uri="sip:alex@192.168.1.51:4000",response="6c2050ffa9e30feec88edca359941918",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7abd89bb833cd190981a05791d1e963a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 6c2050ffa9e30feec88edca359941918 with our computed response: 6c2050ffa9e30feec88edca359941918
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKb5166825c4641564053e245cb908d26e
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaecf610e327a556ac9c7c254155a7485
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaecf610e327a556ac9c7c254155a7485
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="0fd217d2f3a501e60b99d1e91ebf9808",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf3d069147eefc4102ef3f3da31a1f419
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0fd217d2f3a501e60b99d1e91ebf9808",uri="sip:192.168.1.51:5061;transport=udp",response="a421c09085ba4646f29b661e2376c30b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:0fd217d2f3a501e60b99d1e91ebf9808!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a421c09085ba4646f29b661e2376c30b with our computed response: a421c09085ba4646f29b661e2376c30b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf3d069147eefc4102ef3f3da31a1f419
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf3d069147eefc4102ef3f3da31a1f419
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0fd217d2f3a501e60b99d1e91ebf9808",uri="sip:192.168.1.51:5061;transport=udp",response="a421c09085ba4646f29b661e2376c30b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d84e74a35b4f3c1279fd1c65930a7d2
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d84e74a35b4f3c1279fd1c65930a7d2
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="baadee2fa539e76ec1734c818f6709c3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK8f822a73879cef3a3e0b5741bfb288aa
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="baadee2fa539e76ec1734c818f6709c3",uri="sip:192.168.1.51:5061;transport=udp",response="17cf65686816665e6d581f0ad2fcb74a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:baadee2fa539e76ec1734c818f6709c3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 17cf65686816665e6d581f0ad2fcb74a with our computed response: 17cf65686816665e6d581f0ad2fcb74a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:45793 has been removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK8f822a73879cef3a3e0b5741bfb288aa
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK8f822a73879cef3a3e0b5741bfb288aa
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="baadee2fa539e76ec1734c818f6709c3",uri="sip:192.168.1.51:5061;transport=udp",response="17cf65686816665e6d581f0ad2fcb74a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc2e4396c2362e346595daf4b2670b6e4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc2e4396c2362e346595daf4b2670b6e4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c0e1c03f2f764feed4d19b8e0e7639bf",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK05bb07424bdd3f69e3f358f0b246f06a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="c0e1c03f2f764feed4d19b8e0e7639bf",uri="sip:192.168.1.51:5061;transport=udp",response="175f377668a4587466d9c7154752cca1",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c0e1c03f2f764feed4d19b8e0e7639bf!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 175f377668a4587466d9c7154752cca1 with our computed response: 175f377668a4587466d9c7154752cca1
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.51:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK05bb07424bdd3f69e3f358f0b246f06a
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK05bb07424bdd3f69e3f358f0b246f06a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="c0e1c03f2f764feed4d19b8e0e7639bf",uri="sip:192.168.1.51:5061;transport=udp",response="175f377668a4587466d9c7154752cca1",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKa775e5ddbfef35ddce53fc487413237c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKa775e5ddbfef35ddce53fc487413237c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="99dda7c8262829d63d91a76b40bc3aa4",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKc6b719dbf7f0ae1a1f8b354b98791183
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="99dda7c8262829d63d91a76b40bc3aa4",uri="sip:192.168.1.51:5061;transport=udp",response="db3164eb6990acb11a530bdcc8bd601f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:99dda7c8262829d63d91a76b40bc3aa4!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: db3164eb6990acb11a530bdcc8bd601f with our computed response: db3164eb6990acb11a530bdcc8bd601f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:46999 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKc6b719dbf7f0ae1a1f8b354b98791183
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKc6b719dbf7f0ae1a1f8b354b98791183
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="99dda7c8262829d63d91a76b40bc3aa4",uri="sip:192.168.1.51:5061;transport=udp",response="db3164eb6990acb11a530bdcc8bd601f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK90a378b01d8ce539f0dfbbbedc019323
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK90a378b01d8ce539f0dfbbbedc019323
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="55854aedcf09606f93c9c49ef886569e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK90a378b01d8ce539f0dfbbbedc019323
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKe2cbcb65cf357c6a9774bd25dd87c228
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="55854aedcf09606f93c9c49ef886569e",uri="sip:roby@192.168.1.51:4000",response="59080cffd7438d610451d2fc5b005c30",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:55854aedcf09606f93c9c49ef886569e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 59080cffd7438d610451d2fc5b005c30 with our computed response: 59080cffd7438d610451d2fc5b005c30
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKe2cbcb65cf357c6a9774bd25dd87c228
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4daaa8d49383c31880f87f13c0f5bd5a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4daaa8d49383c31880f87f13c0f5bd5a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6ec43ae3984bc7e4a2527d559c960275",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK354cb2fc36b05a87d8cbf763f42070b5
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6ec43ae3984bc7e4a2527d559c960275",uri="sip:192.168.1.51:5061;transport=udp",response="e138e73490887fd7cae7156289742607",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6ec43ae3984bc7e4a2527d559c960275!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e138e73490887fd7cae7156289742607 with our computed response: e138e73490887fd7cae7156289742607
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK354cb2fc36b05a87d8cbf763f42070b5
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK354cb2fc36b05a87d8cbf763f42070b5
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6ec43ae3984bc7e4a2527d559c960275",uri="sip:192.168.1.51:5061;transport=udp",response="e138e73490887fd7cae7156289742607",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfaa97c11b030258f8335dd05b73651d0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfaa97c11b030258f8335dd05b73651d0
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1793a26b33fa1df52d065c6a255e8874",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK138174f8369880d2a1c9e154c17e56ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1793a26b33fa1df52d065c6a255e8874",uri="sip:192.168.1.51:5061;transport=udp",response="ff79251777e909674dcf658aef09cf9f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1793a26b33fa1df52d065c6a255e8874!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ff79251777e909674dcf658aef09cf9f with our computed response: ff79251777e909674dcf658aef09cf9f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK138174f8369880d2a1c9e154c17e56ab
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK138174f8369880d2a1c9e154c17e56ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1793a26b33fa1df52d065c6a255e8874",uri="sip:192.168.1.51:5061;transport=udp",response="ff79251777e909674dcf658aef09cf9f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK0b7382d93d548e3c0ce12b7733de67b0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK0b7382d93d548e3c0ce12b7733de67b0
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="48598ff8d2acfdab8f170edde698423f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKf09cac5cff4e0e44ac2b6fd7505b127f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="48598ff8d2acfdab8f170edde698423f",uri="sip:192.168.1.51:5061;transport=udp",response="74f8224d5eb8b87127a788caafb9f8c3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:48598ff8d2acfdab8f170edde698423f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 74f8224d5eb8b87127a788caafb9f8c3 with our computed response: 74f8224d5eb8b87127a788caafb9f8c3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:19792 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKf09cac5cff4e0e44ac2b6fd7505b127f
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKf09cac5cff4e0e44ac2b6fd7505b127f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="48598ff8d2acfdab8f170edde698423f",uri="sip:192.168.1.51:5061;transport=udp",response="74f8224d5eb8b87127a788caafb9f8c3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK5cdf625c9b766eecf68a1398a83e6aca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK5cdf625c9b766eecf68a1398a83e6aca
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b25dc75aeebd5688c633b18dfff87253",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK5cdf625c9b766eecf68a1398a83e6aca
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKb76e8fd6514ae3cecfd0797372f8299e
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b25dc75aeebd5688c633b18dfff87253",uri="sip:roby@192.168.1.51:4000",response="9ab48d66843b06f26db7d1df12ae091e",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b25dc75aeebd5688c633b18dfff87253!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9ab48d66843b06f26db7d1df12ae091e with our computed response: 9ab48d66843b06f26db7d1df12ae091e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKb76e8fd6514ae3cecfd0797372f8299e
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK37c7ebc8b26b7feaa457e9ef620f975e
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK37c7ebc8b26b7feaa457e9ef620f975e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ea8093ee0a3380bd7a263a3749dd56fd",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5263659408cec1019c75060976901cf0
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="ea8093ee0a3380bd7a263a3749dd56fd",uri="sip:192.168.1.51:5061;transport=udp",response="011f2d0b83bf8c4abd1c4a34d7b67dc5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ea8093ee0a3380bd7a263a3749dd56fd!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 011f2d0b83bf8c4abd1c4a34d7b67dc5 with our computed response: 011f2d0b83bf8c4abd1c4a34d7b67dc5
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5263659408cec1019c75060976901cf0
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5263659408cec1019c75060976901cf0
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="ea8093ee0a3380bd7a263a3749dd56fd",uri="sip:192.168.1.51:5061;transport=udp",response="011f2d0b83bf8c4abd1c4a34d7b67dc5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKab495f8f0cfea3e4b920214fa581a8f4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKab495f8f0cfea3e4b920214fa581a8f4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="0d65b7100fd571c0d39cba54de8b6cfd",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK6e5dbb958a7fa4a381b6fd8679a6d4cc
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0d65b7100fd571c0d39cba54de8b6cfd",uri="sip:192.168.1.51:5061;transport=udp",response="e5fd10b080b43c91affe319e9aff3d8d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:0d65b7100fd571c0d39cba54de8b6cfd!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e5fd10b080b43c91affe319e9aff3d8d with our computed response: e5fd10b080b43c91affe319e9aff3d8d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:19792 has been removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK6e5dbb958a7fa4a381b6fd8679a6d4cc
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK6e5dbb958a7fa4a381b6fd8679a6d4cc
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0d65b7100fd571c0d39cba54de8b6cfd",uri="sip:192.168.1.51:5061;transport=udp",response="e5fd10b080b43c91affe319e9aff3d8d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3706b344a324eed30ef727d074161b5b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3706b344a324eed30ef727d074161b5b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f1b92a12c60bdd883ed13e69edd5e05d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c9b74b5b8d6e30dc4f36134342829801 with our computed response: c9b74b5b8d6e30dc4f36134342829801
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f1b92a12c60bdd883ed13e69edd5e05d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c9b74b5b8d6e30dc4f36134342829801 with our computed response: c9b74b5b8d6e30dc4f36134342829801
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
Contact to add:sip:192.168.1.51:5060 ?
Contact in the list:sip:192.168.1.51:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.1.51:5060 has been updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.51:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bKb29ee16844fb03efcf7f0fdfbc1c653c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bKb29ee16844fb03efcf7f0fdfbc1c653c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="066a283850715962a9b2adf8dc2f64e8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK9f1a2f4c47d443424e214ff644df17d7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="066a283850715962a9b2adf8dc2f64e8",uri="sip:192.168.1.51:5061;transport=udp",response="f334a3bd0d6e03d2f91791a7835d9fd2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:066a283850715962a9b2adf8dc2f64e8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f334a3bd0d6e03d2f91791a7835d9fd2 with our computed response: f334a3bd0d6e03d2f91791a7835d9fd2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:6218 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK9f1a2f4c47d443424e214ff644df17d7
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK9f1a2f4c47d443424e214ff644df17d7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="066a283850715962a9b2adf8dc2f64e8",uri="sip:192.168.1.51:5061;transport=udp",response="f334a3bd0d6e03d2f91791a7835d9fd2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK2e0af6f8a5c62a47a614f49730bda8cd
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK2e0af6f8a5c62a47a614f49730bda8cd
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7e6d6919bde2f7e1c51b7b7dd1fd9e59",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK2e0af6f8a5c62a47a614f49730bda8cd
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK6d4c359246895fe3fb99bf4e3816ecd7
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="7e6d6919bde2f7e1c51b7b7dd1fd9e59",uri="sip:alex@192.168.1.51:4000",response="f3e5f35c3b0139bb18f92106e9339790",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7e6d6919bde2f7e1c51b7b7dd1fd9e59!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f3e5f35c3b0139bb18f92106e9339790 with our computed response: f3e5f35c3b0139bb18f92106e9339790
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK6d4c359246895fe3fb99bf4e3816ecd7
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0b0fcb1e92312ccf13fb2f2b2d9a721a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0b0fcb1e92312ccf13fb2f2b2d9a721a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:99af9b846b29ede887862146150f0438!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 87bb2f3283e472ccb22ce03ba1f7b9ca with our computed response: 87bb2f3283e472ccb22ce03ba1f7b9ca
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:99af9b846b29ede887862146150f0438!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 87bb2f3283e472ccb22ce03ba1f7b9ca with our computed response: 87bb2f3283e472ccb22ce03ba1f7b9ca
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
Contact to add:sip:192.168.1.51:5060 ?
Contact in the list:sip:192.168.1.51:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.1.51:5060 has been updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.51:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK134d96231f2b88e19e80e249bc0fbcc4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK134d96231f2b88e19e80e249bc0fbcc4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8c6c13db02c92d6a788d56e6c2ee44cc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bKda4604edc8e7655fa7dde0fbcaa05e46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="8c6c13db02c92d6a788d56e6c2ee44cc",uri="sip:192.168.1.51:5061;transport=udp",response="af1a1113b8ec9340bc9fdb14e5695ede",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8c6c13db02c92d6a788d56e6c2ee44cc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: af1a1113b8ec9340bc9fdb14e5695ede with our computed response: af1a1113b8ec9340bc9fdb14e5695ede
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:36438 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bKda4604edc8e7655fa7dde0fbcaa05e46
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bKda4604edc8e7655fa7dde0fbcaa05e46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="8c6c13db02c92d6a788d56e6c2ee44cc",uri="sip:192.168.1.51:5061;transport=udp",response="af1a1113b8ec9340bc9fdb14e5695ede",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",uri="sip:thanos@192.168.1.51:4000",response="227020d49e2adf9bfdde97959cb0c216",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:432ee37a90b6150e08038ddaa00bdbfc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:75618bc93c776b4798ff131741888cec!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 227020d49e2adf9bfdde97959cb0c216 with our computed response: 227020d49e2adf9bfdde97959cb0c216
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6e659716
dialog =  gov.nist.javax.sip.stack.SIPDialog@2bc3f5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK152dbf13ec773b1dd15620735c1fa237,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",uri="sip:thanos@192.168.1.51:4000",response="227020d49e2adf9bfdde97959cb0c216",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK77ff58000b96a83dd95604fc80a8590a,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",uri="sip:thanos@192.168.1.51:4000",response="227020d49e2adf9bfdde97959cb0c216",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK77ff58000b96a83dd95604fc80a8590a,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a6fc53d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK77ff58000b96a83dd95604fc80a8590a,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a6fc53d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:20391510
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52bc6535c68f1f3989b3331ad10c48a1
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52bc6535c68f1f3989b3331ad10c48a1
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9522da42b073c8ba16d7e6e0cce3c8bf",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK601f938b677ecb2ab9e19734b5b51329
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9522da42b073c8ba16d7e6e0cce3c8bf",uri="sip:192.168.1.51:5061;transport=udp",response="a08ebe53baa5d401534bdff7b369cb24",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9522da42b073c8ba16d7e6e0cce3c8bf!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a08ebe53baa5d401534bdff7b369cb24 with our computed response: a08ebe53baa5d401534bdff7b369cb24
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK601f938b677ecb2ab9e19734b5b51329
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK601f938b677ecb2ab9e19734b5b51329
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9522da42b073c8ba16d7e6e0cce3c8bf",uri="sip:192.168.1.51:5061;transport=udp",response="a08ebe53baa5d401534bdff7b369cb24",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8694b3e1db8f7eb6a6b8fd6d76b8782e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8694b3e1db8f7eb6a6b8fd6d76b8782e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="fe673d71e821c5b7b997409e8bf0fd94",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9324561a6d831eb22820a64cc29125a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="fe673d71e821c5b7b997409e8bf0fd94",uri="sip:192.168.1.51:5061;transport=udp",response="3fd247d6904cd6554ca39ca39f7a076f",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:fe673d71e821c5b7b997409e8bf0fd94!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 3fd247d6904cd6554ca39ca39f7a076f with our computed response: 3fd247d6904cd6554ca39ca39f7a076f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9324561a6d831eb22820a64cc29125a3
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9324561a6d831eb22820a64cc29125a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="fe673d71e821c5b7b997409e8bf0fd94",uri="sip:192.168.1.51:5061;transport=udp",response="3fd247d6904cd6554ca39ca39f7a076f",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK964e9740d78b91eb1b482d087fde7b86
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK964e9740d78b91eb1b482d087fde7b86
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="21dd6ec9728e5c544ecce9871f130afc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK82107e4296456e3b6168d689d225e67c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21dd6ec9728e5c544ecce9871f130afc",uri="sip:192.168.1.51:5061;transport=udp",response="d7bf563493b96b5f2d2f3a691eeadccd",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:21dd6ec9728e5c544ecce9871f130afc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d7bf563493b96b5f2d2f3a691eeadccd with our computed response: d7bf563493b96b5f2d2f3a691eeadccd
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:63040 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK82107e4296456e3b6168d689d225e67c
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK82107e4296456e3b6168d689d225e67c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21dd6ec9728e5c544ecce9871f130afc",uri="sip:192.168.1.51:5061;transport=udp",response="d7bf563493b96b5f2d2f3a691eeadccd",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK5ce5914991d14abe8c4a8da56b6b24e9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK5ce5914991d14abe8c4a8da56b6b24e9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e1dd45d7b9b544e913a9d9912ebd6d21",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK5ce5914991d14abe8c4a8da56b6b24e9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK0ad0e4fbb3f90469cc9c670d4e8a69f1
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e1dd45d7b9b544e913a9d9912ebd6d21",uri="sip:alex@192.168.1.51:4000",response="b9a540ef6a2c065afdef6e3cec9e2c01",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e1dd45d7b9b544e913a9d9912ebd6d21!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b9a540ef6a2c065afdef6e3cec9e2c01 with our computed response: b9a540ef6a2c065afdef6e3cec9e2c01
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22fc30595c9dc9631f4af95b82602e4d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22fc30595c9dc9631f4af95b82602e4d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b4e9d499b84f97517cef52766652973d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK827a55aa615d39ef67e45d88caa41256
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="b4e9d499b84f97517cef52766652973d",uri="sip:192.168.1.51:5061;transport=udp",response="05100755b75805298b87f8c312bcc7b2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b4e9d499b84f97517cef52766652973d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 05100755b75805298b87f8c312bcc7b2 with our computed response: 05100755b75805298b87f8c312bcc7b2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK827a55aa615d39ef67e45d88caa41256
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK827a55aa615d39ef67e45d88caa41256
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="b4e9d499b84f97517cef52766652973d",uri="sip:192.168.1.51:5061;transport=udp",response="05100755b75805298b87f8c312bcc7b2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK484240145ae40361d231db214c99c993
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK484240145ae40361d231db214c99c993
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="85b39236b2da0fd2da0a87cd29532e65",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK9b5e2226c5a7232c2a9e9049f424f8d1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="85b39236b2da0fd2da0a87cd29532e65",uri="sip:192.168.1.51:5061;transport=udp",response="786411031bb017081fa07b8780ada3dc",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:85b39236b2da0fd2da0a87cd29532e65!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 786411031bb017081fa07b8780ada3dc with our computed response: 786411031bb017081fa07b8780ada3dc
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:41395 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK9b5e2226c5a7232c2a9e9049f424f8d1
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK9b5e2226c5a7232c2a9e9049f424f8d1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="85b39236b2da0fd2da0a87cd29532e65",uri="sip:192.168.1.51:5061;transport=udp",response="786411031bb017081fa07b8780ada3dc",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7e651f22dc103c49ae4d6b9aa5237046
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7e651f22dc103c49ae4d6b9aa5237046
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c64943c08f7c930d9b3cfe4b20a3405f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7e651f22dc103c49ae4d6b9aa5237046
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7883ef2220ff0805f55d49e283354373
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="c64943c08f7c930d9b3cfe4b20a3405f",uri="sip:thanos@192.168.1.51:4000",response="9fab570abb3dc8d95193f58598bbfe33",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c64943c08f7c930d9b3cfe4b20a3405f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:75618bc93c776b4798ff131741888cec!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9fab570abb3dc8d95193f58598bbfe33 with our computed response: 9fab570abb3dc8d95193f58598bbfe33
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb15c7617f5ea70c23034bd9181f2a366
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb15c7617f5ea70c23034bd9181f2a366
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="40a40ca60bbbd43fb47c3457e017a878",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb15c7617f5ea70c23034bd9181f2a366
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK50dedeb1f28186283ce2e8052bbd10c4
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="40a40ca60bbbd43fb47c3457e017a878",uri="sip:alex@192.168.1.51:4000",response="bf445d656b8e0f95629965443b070fba",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:40a40ca60bbbd43fb47c3457e017a878!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: bf445d656b8e0f95629965443b070fba with our computed response: bf445d656b8e0f95629965443b070fba
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52cc76bd1755e0601f25152318a65838
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52cc76bd1755e0601f25152318a65838
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3bdc2f59a0068c30598f48270cc7062e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK47d64ec797accdf8d71e3af56e852f1e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="3bdc2f59a0068c30598f48270cc7062e",uri="sip:192.168.1.51:5061;transport=udp",response="6a26ffd09ac8dbdc29819a3c43de4e35",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3bdc2f59a0068c30598f48270cc7062e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 6a26ffd09ac8dbdc29819a3c43de4e35 with our computed response: 6a26ffd09ac8dbdc29819a3c43de4e35
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK47d64ec797accdf8d71e3af56e852f1e
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK47d64ec797accdf8d71e3af56e852f1e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="3bdc2f59a0068c30598f48270cc7062e",uri="sip:192.168.1.51:5061;transport=udp",response="6a26ffd09ac8dbdc29819a3c43de4e35",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK98ec57a408507d6a804f467a2521df34
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK98ec57a408507d6a804f467a2521df34
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6ee0eebf85110214bf948b0c613a6eb9",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKa0d5366b41b5b42b7c52825ab16d4aea
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6ee0eebf85110214bf948b0c613a6eb9",uri="sip:192.168.1.51:5061;transport=udp",response="dda3316f0d1eecb5f776561731ae4c71",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6ee0eebf85110214bf948b0c613a6eb9!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: dda3316f0d1eecb5f776561731ae4c71 with our computed response: dda3316f0d1eecb5f776561731ae4c71
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:33452 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKa0d5366b41b5b42b7c52825ab16d4aea
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKa0d5366b41b5b42b7c52825ab16d4aea
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6ee0eebf85110214bf948b0c613a6eb9",uri="sip:192.168.1.51:5061;transport=udp",response="dda3316f0d1eecb5f776561731ae4c71",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKe44e7c6d5bfbb768a3b6e761eddef3ff
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKe44e7c6d5bfbb768a3b6e761eddef3ff
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKe44e7c6d5bfbb768a3b6e761eddef3ff
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",uri="sip:alex@192.168.1.51:4000",response="a7742fbb568b38ffd997e4f9fd1ce8b8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2af44d8e94cb9c94d9a33ab335af8d14!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a7742fbb568b38ffd997e4f9fd1ce8b8 with our computed response: a7742fbb568b38ffd997e4f9fd1ce8b8
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6c99b953
dialog =  gov.nist.javax.sip.stack.SIPDialog@9be79a
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK18c65e8d7e7ffde3c7414f7fc25d8086,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",uri="sip:alex@192.168.1.51:4000",response="a7742fbb568b38ffd997e4f9fd1ce8b8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKaa5508769bfa3950cf206abeca7f6a22,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",uri="sip:alex@192.168.1.51:4000",response="a7742fbb568b38ffd997e4f9fd1ce8b8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKaa5508769bfa3950cf206abeca7f6a22,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@770de712
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164dbd5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKaa5508769bfa3950cf206abeca7f6a22,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@770de712
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164dbd5
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:31983818
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1a6037cefa4730ca3d4a279632e94e9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1a6037cefa4730ca3d4a279632e94e9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c42945c9a5c1f29a0c4f930dbbddd784",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1a6037cefa4730ca3d4a279632e94e9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa4b275f6a11ee9a8dcc77fcaf0b62d8d
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="c42945c9a5c1f29a0c4f930dbbddd784",uri="sip:thanos@192.168.1.51:4000",response="fb4e16ba96c6e035f946cacf7bc55be2",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c42945c9a5c1f29a0c4f930dbbddd784!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:75618bc93c776b4798ff131741888cec!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: fb4e16ba96c6e035f946cacf7bc55be2 with our computed response: fb4e16ba96c6e035f946cacf7bc55be2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",uri="sip:alex@192.168.1.51:4000",response="800e0559c573aeeb278830b453e89e47",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:66117fb12ef70fc69bc1128252172afc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 800e0559c573aeeb278830b453e89e47 with our computed response: 800e0559c573aeeb278830b453e89e47
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d606e3aa
dialog =  gov.nist.javax.sip.stack.SIPDialog@1bcdbf6
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK9e6245b5280ec3e341776dd3fdec3b5a,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",uri="sip:alex@192.168.1.51:4000",response="800e0559c573aeeb278830b453e89e47",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKa0ea8ac400be309c84a78e1a23bd84ff,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",uri="sip:alex@192.168.1.51:4000",response="800e0559c573aeeb278830b453e89e47",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKa0ea8ac400be309c84a78e1a23bd84ff,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@185d06bc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cf66b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKa0ea8ac400be309c84a78e1a23bd84ff,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@185d06bc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cf66b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13878947
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK17465202957c001f280bbe6845bd524f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK17465202957c001f280bbe6845bd524f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a1c0ffefa6b6ae18e98a0ed99bf93fec",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK472f7e73f6c2701f3cd90c579b61bb1f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="a1c0ffefa6b6ae18e98a0ed99bf93fec",uri="sip:192.168.1.51:5061;transport=udp",response="1cde7ae959ecf11c04132553cd0a6465",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a1c0ffefa6b6ae18e98a0ed99bf93fec!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1cde7ae959ecf11c04132553cd0a6465 with our computed response: 1cde7ae959ecf11c04132553cd0a6465
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK472f7e73f6c2701f3cd90c579b61bb1f
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK472f7e73f6c2701f3cd90c579b61bb1f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="a1c0ffefa6b6ae18e98a0ed99bf93fec",uri="sip:192.168.1.51:5061;transport=udp",response="1cde7ae959ecf11c04132553cd0a6465",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK3fe3d0bd8d1cea08c56b7e27fd5774f1
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK3fe3d0bd8d1cea08c56b7e27fd5774f1
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e3a661ec5d82f4f78a4abdff4b91ab00",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK165f0d8a2afa739def0b70e111fa8a16
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e3a661ec5d82f4f78a4abdff4b91ab00",uri="sip:192.168.1.51:5061;transport=udp",response="748c79c8f6ffcf79822d96a10740329c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e3a661ec5d82f4f78a4abdff4b91ab00!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 748c79c8f6ffcf79822d96a10740329c with our computed response: 748c79c8f6ffcf79822d96a10740329c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:33452 has been removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK165f0d8a2afa739def0b70e111fa8a16
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK165f0d8a2afa739def0b70e111fa8a16
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e3a661ec5d82f4f78a4abdff4b91ab00",uri="sip:192.168.1.51:5061;transport=udp",response="748c79c8f6ffcf79822d96a10740329c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK644441657cca7896c744dff304b5fa5e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK644441657cca7896c744dff304b5fa5e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="d14b7336dfbbac4230d450aca3c63b80",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK66941baf5dcabe0c18de4e8c9c325ac5
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="d14b7336dfbbac4230d450aca3c63b80",uri="sip:192.168.1.50:5061;transport=udp",response="c77ccaca4aa2eb77de66a4a49d0574ee",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:d14b7336dfbbac4230d450aca3c63b80!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c77ccaca4aa2eb77de66a4a49d0574ee with our computed response: bd72667b3e33cfa28592fe7574c41189
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK66941baf5dcabe0c18de4e8c9c325ac5
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="54fe8f19d9224d8441164c486d6eef34",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe3ebb2b4ccf20f254ec2e80ba16019aa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="54fe8f19d9224d8441164c486d6eef34",uri="sip:192.168.1.50:5061;transport=udp",response="0597eb3172148115d4c0e803d8bc4d01",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:54fe8f19d9224d8441164c486d6eef34!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 0597eb3172148115d4c0e803d8bc4d01 with our computed response: bdb6be83a91ccfa36981f34b7f144a3f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe3ebb2b4ccf20f254ec2e80ba16019aa
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="ab855de960c48818cbcea05583c1ef72",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb9a3b7e48fee205b4b11e493b865eb01
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="ab855de960c48818cbcea05583c1ef72",uri="sip:192.168.1.50:5061;transport=udp",response="f13e634c4eb5c7e8e6f6c13d30516261",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ab855de960c48818cbcea05583c1ef72!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f13e634c4eb5c7e8e6f6c13d30516261 with our computed response: b68e40f6f9af69ec8dffe59274ee8897
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb9a3b7e48fee205b4b11e493b865eb01
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="21625ee4481707f0835a7768b337d894",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK30a6b3ad92586d67c16dde315f221ed4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="21625ee4481707f0835a7768b337d894",uri="sip:192.168.1.50:5061;transport=udp",response="5c70f0c02239e8520299bc26fb47701e",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:21625ee4481707f0835a7768b337d894!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 5c70f0c02239e8520299bc26fb47701e with our computed response: 5c70f0c02239e8520299bc26fb47701e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK30a6b3ad92586d67c16dde315f221ed4
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK30a6b3ad92586d67c16dde315f221ed4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="21625ee4481707f0835a7768b337d894",uri="sip:192.168.1.50:5061;transport=udp",response="5c70f0c02239e8520299bc26fb47701e",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK788cc76dafc4d77e6f62a913b08785db
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK788cc76dafc4d77e6f62a913b08785db
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e81d5a7fd3a23f0456ca46d7b16a2854",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbc0f469ea3694a2b5c229771e829bd2a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="e81d5a7fd3a23f0456ca46d7b16a2854",uri="sip:192.168.1.50:5061;transport=udp",response="179cf46137325803846a8371b381ba1a",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e81d5a7fd3a23f0456ca46d7b16a2854!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 179cf46137325803846a8371b381ba1a with our computed response: 179cf46137325803846a8371b381ba1a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbc0f469ea3694a2b5c229771e829bd2a
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d17dc7f3e3686d7ce3752927ac5670a4@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbc0f469ea3694a2b5c229771e829bd2a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="e81d5a7fd3a23f0456ca46d7b16a2854",uri="sip:192.168.1.50:5061;transport=udp",response="179cf46137325803846a8371b381ba1a",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1b28f3f4c59cdbdbd1ef8c8fb3b78073
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1b28f3f4c59cdbdbd1ef8c8fb3b78073
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="210bd96f46db546ebc53e91a0e607d5f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa74a8e53783da524316f80838e468c42
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="210bd96f46db546ebc53e91a0e607d5f",uri="sip:192.168.1.50:5061;transport=udp",response="1eafc4bb9c956ad22f89d0d9589e4b5b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:210bd96f46db546ebc53e91a0e607d5f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1eafc4bb9c956ad22f89d0d9589e4b5b with our computed response: 3b63d9732b155ba78f0865b8186fc78f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa74a8e53783da524316f80838e468c42
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="ff83e6c76b9324dacb64833daea007b0",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK8d6b24fc367f79a2af541bef03273038
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="ff83e6c76b9324dacb64833daea007b0",uri="sip:192.168.1.50:5061;transport=udp",response="b93e097c0c50d7c7475bc77b5463ba6d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ff83e6c76b9324dacb64833daea007b0!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b93e097c0c50d7c7475bc77b5463ba6d with our computed response: a44b25785263f210d174e93860ba7bd2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK8d6b24fc367f79a2af541bef03273038
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="8c64556ba249f3c1bf5f727cf77dcd6f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK25a4136cd4754ef3e3a46c76cc0aaea1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="8c64556ba249f3c1bf5f727cf77dcd6f",uri="sip:192.168.1.50:5061;transport=udp",response="c09a2ed29332095d2d4edb7775afc228",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8c64556ba249f3c1bf5f727cf77dcd6f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c09a2ed29332095d2d4edb7775afc228 with our computed response: 25431a7c90659a5d5f1b8c811920ac0a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK25a4136cd4754ef3e3a46c76cc0aaea1
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="27b58c57e915e0609f0e7308bf8cea41",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4f0ef31ff9ca50cf0c6903ac118067f9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="27b58c57e915e0609f0e7308bf8cea41",uri="sip:192.168.1.50:5061;transport=udp",response="b5286cc1a660fad159681993d50b4d62",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:27b58c57e915e0609f0e7308bf8cea41!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b5286cc1a660fad159681993d50b4d62 with our computed response: a701ac8afb80f92885b351e130135a4b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4f0ef31ff9ca50cf0c6903ac118067f9
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="4ccc3b6894e6beebdd0d5c0c6a2d6a46",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 6 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK061b745a9c93c788dd42a0b0778c1b67
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="4ccc3b6894e6beebdd0d5c0c6a2d6a46",uri="sip:192.168.1.50:5061;transport=udp",response="77221aca36fb84e63858109c182da3c4",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4ccc3b6894e6beebdd0d5c0c6a2d6a46!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 77221aca36fb84e63858109c182da3c4 with our computed response: 8220e0add5244e1b57fda93aca6f5d5a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 6 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK061b745a9c93c788dd42a0b0778c1b67
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="6ab6f0db06dfa5c84518c343585acd50",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 7 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKff178af5133a3ee11f1159aacbc64399
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="6ab6f0db06dfa5c84518c343585acd50",uri="sip:192.168.1.50:5061;transport=udp",response="3454f064dcf42ed271ea26e76119bae4",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6ab6f0db06dfa5c84518c343585acd50!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 3454f064dcf42ed271ea26e76119bae4 with our computed response: ab6abc581593207c9f603c4b7b8245ee
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 7 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKff178af5133a3ee11f1159aacbc64399
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="05ab20b2395c42615ef61c8e1abe7834",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 8 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK548b72609accbbea6130bd7dfb801e0f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="05ab20b2395c42615ef61c8e1abe7834",uri="sip:192.168.1.50:5061;transport=udp",response="977445c6f9a06eac368ea5e1fb6c0906",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:05ab20b2395c42615ef61c8e1abe7834!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 977445c6f9a06eac368ea5e1fb6c0906 with our computed response: 3df896527c23eada81d9c9ba4a450134
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 8 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK548b72609accbbea6130bd7dfb801e0f
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="6f66bdeed572cd8d77cf41ed6b444a35",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 9 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6f6f0e2a578341487f092ee234a11b0f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="6f66bdeed572cd8d77cf41ed6b444a35",uri="sip:192.168.1.50:5061;transport=udp",response="ba7f827d7646a1e49d741ea11ed81867",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6f66bdeed572cd8d77cf41ed6b444a35!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ba7f827d7646a1e49d741ea11ed81867 with our computed response: 64de5f688e85737b4ad4cb617ff70a93
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 9 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6f6f0e2a578341487f092ee234a11b0f
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="5ac7fd0201fffb8b1c606e9c002a6312",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 10 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK205549f269b8783c76967df6d3edda0d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="5ac7fd0201fffb8b1c606e9c002a6312",uri="sip:192.168.1.50:5061;transport=udp",response="831e853ad029177a7ba71d12dfa4171a",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:5ac7fd0201fffb8b1c606e9c002a6312!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 831e853ad029177a7ba71d12dfa4171a with our computed response: eacf7701ce8b227c23e613cc6fbec33a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 10 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK205549f269b8783c76967df6d3edda0d
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="a37237b725f118fefabd52e3b0ae4ec7",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 11 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc67a17d0c78e07d2af67438fe3e2095e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="a37237b725f118fefabd52e3b0ae4ec7",uri="sip:192.168.1.50:5061;transport=udp",response="6eddaf7056737c9920ac0354eea2cb48",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a37237b725f118fefabd52e3b0ae4ec7!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 6eddaf7056737c9920ac0354eea2cb48 with our computed response: 38f4389188e90f627f8c591391760e0a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 11 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc67a17d0c78e07d2af67438fe3e2095e
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="1be59b17580c2d3b6e658afdf3387b81",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 12 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe95325a041b95cc65679a66afd74d39e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="1be59b17580c2d3b6e658afdf3387b81",uri="sip:192.168.1.50:5061;transport=udp",response="31d8dd3696700ee4ec32e283bf29a8b3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1be59b17580c2d3b6e658afdf3387b81!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 31d8dd3696700ee4ec32e283bf29a8b3 with our computed response: ad7901404002fcbe44181716c5295bac
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 12 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe95325a041b95cc65679a66afd74d39e
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="bc7759c5d3448c3fbbbfcc11d355c533",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 13 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK11f131e24902d7d2a330e2f2911f718a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="bc7759c5d3448c3fbbbfcc11d355c533",uri="sip:192.168.1.50:5061;transport=udp",response="64e0140b527aaa04601e54f0bd3891ae",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bc7759c5d3448c3fbbbfcc11d355c533!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 64e0140b527aaa04601e54f0bd3891ae with our computed response: 0f7aa266b5ff6b9194f73b78b0cd33b6
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 13 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK11f131e24902d7d2a330e2f2911f718a
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="989589e76699c24e770c4c28803d5350",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 14 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3304bacd2b6eeb019929239ddf730db1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="989589e76699c24e770c4c28803d5350",uri="sip:192.168.1.50:5061;transport=udp",response="7b3f772d60070995d1b9f4d238bb2122",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:989589e76699c24e770c4c28803d5350!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 7b3f772d60070995d1b9f4d238bb2122 with our computed response: ba078fca238ef09d1fe1c7d6a755e458
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 14 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3304bacd2b6eeb019929239ddf730db1
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="d7b094c900c6923567c9253e45af796d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 15 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe793827d17c322d95fee635380ca1710
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="d7b094c900c6923567c9253e45af796d",uri="sip:192.168.1.50:5061;transport=udp",response="89854c43a423290d1489c875999377b5",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:d7b094c900c6923567c9253e45af796d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 89854c43a423290d1489c875999377b5 with our computed response: 8b7f078ce6c3f6afbb5850b8c95d1a1c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User not authenticated...
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 15 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe793827d17c322d95fee635380ca1710
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="4d82210c27340d3150058aa1485260db",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 16 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf69213c2ff7bad76d98d58ba4ea45232
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="4d82210c27340d3150058aa1485260db",uri="sip:192.168.1.50:5061;transport=udp",response="755b20eb648b94fbf639743932c82910",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4d82210c27340d3150058aa1485260db!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 755b20eb648b94fbf639743932c82910 with our computed response: 755b20eb648b94fbf639743932c82910
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 16 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf69213c2ff7bad76d98d58ba4ea45232
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 87a84600cf09cec4edf41e9b7e9b3714@192.168.1.50
CSeq: 16 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf69213c2ff7bad76d98d58ba4ea45232
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="4d82210c27340d3150058aa1485260db",uri="sip:192.168.1.50:5061;transport=udp",response="755b20eb648b94fbf639743932c82910",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc3cd0bcf592313e4b2ece354283bbeec
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc3cd0bcf592313e4b2ece354283bbeec
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="861ec851a07ee32449b758422535a935",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK209192937954adb4314553b08cbe32b4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="861ec851a07ee32449b758422535a935",uri="sip:192.168.1.50:5061;transport=udp",response="f7ce33dc1de95f655878faacdde3847c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:861ec851a07ee32449b758422535a935!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f7ce33dc1de95f655878faacdde3847c with our computed response: f7ce33dc1de95f655878faacdde3847c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
Contact to add:sip:192.168.1.50:5060 ?
Contact in the list:sip:192.168.1.50:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.1.50:5060 has been updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK209192937954adb4314553b08cbe32b4
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK209192937954adb4314553b08cbe32b4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="861ec851a07ee32449b758422535a935",uri="sip:192.168.1.50:5061;transport=udp",response="f7ce33dc1de95f655878faacdde3847c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK209192937954adb4314553b08cbe32b4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="861ec851a07ee32449b758422535a935",uri="sip:192.168.1.50:5061;transport=udp",response="f7ce33dc1de95f655878faacdde3847c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:861ec851a07ee32449b758422535a935!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f7ce33dc1de95f655878faacdde3847c with our computed response: f7ce33dc1de95f655878faacdde3847c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
Contact to add:sip:192.168.1.50:5060 ?
Contact in the list:sip:192.168.1.50:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.1.50:5060 has been updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK209192937954adb4314553b08cbe32b4
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK209192937954adb4314553b08cbe32b4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="861ec851a07ee32449b758422535a935",uri="sip:192.168.1.50:5061;transport=udp",response="f7ce33dc1de95f655878faacdde3847c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK88034a0cad71bbd31e1f5c71f877aea7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK88034a0cad71bbd31e1f5c71f877aea7
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="74095361b271922d56e3322648bce567",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK9a50997720ba806fd706af91dc558e8e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="74095361b271922d56e3322648bce567",uri="sip:192.168.1.50:5061;transport=udp",response="95aaf69a5ccccb4aa7dffad32fcd5474",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:74095361b271922d56e3322648bce567!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 95aaf69a5ccccb4aa7dffad32fcd5474 with our computed response: 95aaf69a5ccccb4aa7dffad32fcd5474
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:22787 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>;expires=3600

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK9a50997720ba806fd706af91dc558e8e
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK9a50997720ba806fd706af91dc558e8e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="74095361b271922d56e3322648bce567",uri="sip:192.168.1.50:5061;transport=udp",response="95aaf69a5ccccb4aa7dffad32fcd5474",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: faea502d10eaf3461e7e6160bd896b00@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK46a142246a45170cec7443b603216bd4
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: faea502d10eaf3461e7e6160bd896b00@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK46a142246a45170cec7443b603216bd4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ad335ae3ff9febecb18c9d6e02974912",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: faea502d10eaf3461e7e6160bd896b00@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK46a142246a45170cec7443b603216bd4
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: faea502d10eaf3461e7e6160bd896b00@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKd4ded930ea9dee87be2749c5cb4a1bac
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="ad335ae3ff9febecb18c9d6e02974912",uri="sip:thanos@192.168.1.50:4000",response="586dfb3751558622c5575c37724e94e4",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ad335ae3ff9febecb18c9d6e02974912!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:6da61ade1890dd3c7fdb167cf70a24a0!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 586dfb3751558622c5575c37724e94e4 with our computed response: 586dfb3751558622c5575c37724e94e4
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 7b43b400980d92231de3b73f4a33360e@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK95edb2b98d3773d0e892b4ba34bff968
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7b43b400980d92231de3b73f4a33360e@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK95edb2b98d3773d0e892b4ba34bff968
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="df003b026bcdf6449bd905ce528336a3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 7b43b400980d92231de3b73f4a33360e@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK95edb2b98d3773d0e892b4ba34bff968
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 7b43b400980d92231de3b73f4a33360e@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKea7d845e2ac3018a03bdb9d35f2364fc
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="df003b026bcdf6449bd905ce528336a3",uri="sip:thanos@192.168.1.50:4000",response="bdf359a97002c614574ecadd68d86a88",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:df003b026bcdf6449bd905ce528336a3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:6da61ade1890dd3c7fdb167cf70a24a0!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: bdf359a97002c614574ecadd68d86a88 with our computed response: bdf359a97002c614574ecadd68d86a88
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa643db5c3ebfa29135fbece6e4a88266
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa643db5c3ebfa29135fbece6e4a88266
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ecdeed168140d8fee4ade515ce57d6b8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa643db5c3ebfa29135fbece6e4a88266
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="ecdeed168140d8fee4ade515ce57d6b8",uri="sip:alex@192.168.1.50:4000",response="1ce9b6d466e97393823514bceacbab70",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ecdeed168140d8fee4ade515ce57d6b8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1ce9b6d466e97393823514bceacbab70 with our computed response: 1ce9b6d466e97393823514bceacbab70
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@8e46254f
dialog =  gov.nist.javax.sip.stack.SIPDialog@c8376b
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:22787 SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK8fa7a3533e6dffcfe70f0e969271c606,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="ecdeed168140d8fee4ade515ce57d6b8",uri="sip:alex@192.168.1.50:4000",response="1ce9b6d466e97393823514bceacbab70",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:22787 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:22787 SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5c6c72f2f2931a22bfc1ae2ca028798,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="ecdeed168140d8fee4ade515ce57d6b8",uri="sip:alex@192.168.1.50:4000",response="1ce9b6d466e97393823514bceacbab70",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5c6c72f2f2931a22bfc1ae2ca028798,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8d05e680
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15fc40c
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28523022
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5c6c72f2f2931a22bfc1ae2ca028798,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8d05e680
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15fc40c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28523022
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28523022
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5c6c72f2f2931a22bfc1ae2ca028798,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8d05e680
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15fc40c
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:28523022
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28523022
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4056f38988fa6248d0469aa5a0a511eb
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=28523022
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Route: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@a004b813
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c8376b
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a004b813
dialog =  gov.nist.javax.sip.stack.SIPDialog@c8376b
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@d56b37
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@8e46254f
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@c8376b
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@8d05e680, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:22787 SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=28523022
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK2e7a4c3c1f4e6941d06b409bd963b8d0,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Route: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK29ab44a11f39bd0c2bfee5ebdac9027e
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK29ab44a11f39bd0c2bfee5ebdac9027e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="cc241400830496d3198dcd64165ba719",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 1c0993554cdbf0b3a773940f9dbb7067@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKc5c82701541dab566f3eac621b8376df
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 1c0993554cdbf0b3a773940f9dbb7067@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKc5c82701541dab566f3eac621b8376df
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="975ceccba60ed9f9cbd98b1895a9e385",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 1c0993554cdbf0b3a773940f9dbb7067@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKc5c82701541dab566f3eac621b8376df
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 1c0993554cdbf0b3a773940f9dbb7067@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK7f78e987c666702608195a12ed320fe2
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="975ceccba60ed9f9cbd98b1895a9e385",uri="sip:thanos@192.168.1.50:4000",response="57af7aeedeb93de89908ec06b6e644e9",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:975ceccba60ed9f9cbd98b1895a9e385!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:6da61ade1890dd3c7fdb167cf70a24a0!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 57af7aeedeb93de89908ec06b6e644e9 with our computed response: 57af7aeedeb93de89908ec06b6e644e9
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=28523022
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKf9874348683ffde6af158ead567c7383
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@ead4e7f5
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15fc40c
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c646067a751b1e367e09e05079987e47@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=28523022
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKf9874348683ffde6af158ead567c7383
Proxy-Authenticate: Digest realm="nist.gov",nonce="3db70542096932fca861280b2f9a8d36",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK2847edbc52ad9980853df6d77ce92acb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bK2847edbc52ad9980853df6d77ce92acb
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="dc2c512db3ebb370dff70801f3cc881f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKbda79bd9d905c233d82ad6d6acf5cd1c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="dc2c512db3ebb370dff70801f3cc881f",uri="sip:192.168.1.50:5061;transport=udp",response="b5feba26367d74512563bb883ca9deef",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:dc2c512db3ebb370dff70801f3cc881f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b5feba26367d74512563bb883ca9deef with our computed response: b5feba26367d74512563bb883ca9deef
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:22787 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKbda79bd9d905c233d82ad6d6acf5cd1c
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 158087bd6f6518460c3b2005fe221e0a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22787;branch=z9hG4bKbda79bd9d905c233d82ad6d6acf5cd1c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:22787;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="dc2c512db3ebb370dff70801f3cc881f",uri="sip:192.168.1.50:5061;transport=udp",response="b5feba26367d74512563bb883ca9deef",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bKf9086b3adfe6005baee082dd268de4f9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bKf9086b3adfe6005baee082dd268de4f9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="54141e1e90e5446b7e720c9eb97d34f0",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bKdb16b8b9db018f22ad4d3b1f0cd84159
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="54141e1e90e5446b7e720c9eb97d34f0",uri="sip:192.168.1.50:5061;transport=udp",response="507a25355ca5b7d09e2b3044d888b0b5",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:54141e1e90e5446b7e720c9eb97d34f0!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 507a25355ca5b7d09e2b3044d888b0b5 with our computed response: 507a25355ca5b7d09e2b3044d888b0b5
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:2642 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>;expires=3600

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bKdb16b8b9db018f22ad4d3b1f0cd84159
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bKdb16b8b9db018f22ad4d3b1f0cd84159
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="54141e1e90e5446b7e720c9eb97d34f0",uri="sip:192.168.1.50:5061;transport=udp",response="507a25355ca5b7d09e2b3044d888b0b5",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK4762290418e62405301bb3f1465051bc
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK4762290418e62405301bb3f1465051bc
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9880eb579a9f0447664c8312aeadc1e6",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK4762290418e62405301bb3f1465051bc
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK2cbf5b56e95c1e7fce2ef1353d5b8535
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="9880eb579a9f0447664c8312aeadc1e6",uri="sip:thanos@192.168.1.50:4000",response="0baa56d03f85775c6f70b682f57d116d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9880eb579a9f0447664c8312aeadc1e6!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:6da61ade1890dd3c7fdb167cf70a24a0!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 0baa56d03f85775c6f70b682f57d116d with our computed response: 0baa56d03f85775c6f70b682f57d116d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a57c2586
dialog =  gov.nist.javax.sip.stack.SIPDialog@18352d8
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKccc15b46ce5ec5659eea6bdd345413cd,SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK2cbf5b56e95c1e7fce2ef1353d5b8535
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="9880eb579a9f0447664c8312aeadc1e6",uri="sip:thanos@192.168.1.50:4000",response="0baa56d03f85775c6f70b682f57d116d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK2fc4f2f2e9369a067c96ce7bda432869,SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK2cbf5b56e95c1e7fce2ef1353d5b8535
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="9880eb579a9f0447664c8312aeadc1e6",uri="sip:thanos@192.168.1.50:4000",response="0baa56d03f85775c6f70b682f57d116d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>;tag=22552192
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK2fc4f2f2e9369a067c96ce7bda432869,SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK2cbf5b56e95c1e7fce2ef1353d5b8535
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ea6e513c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b40ec4
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>;tag=22552192
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK2cbf5b56e95c1e7fce2ef1353d5b8535
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>;tag=22552192
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK2fc4f2f2e9369a067c96ce7bda432869,SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK2cbf5b56e95c1e7fce2ef1353d5b8535
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ea6e513c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b40ec4
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:22552192
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 86ab774658b8610b667da83f83d0a3c9@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>;tag=22552192
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK2cbf5b56e95c1e7fce2ef1353d5b8535
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bKc5c5b77d7624027e51a6eb3edb498252
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bKc5c5b77d7624027e51a6eb3edb498252
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2e38b938b49c1e5ef5a903a6becf611a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK4f0cd693ef0d55c0c3b559e9792fc3b3
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="2e38b938b49c1e5ef5a903a6becf611a",uri="sip:192.168.1.50:5061;transport=udp",response="96a80f7c8dfa58a40571c30685d4e06b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2e38b938b49c1e5ef5a903a6becf611a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 96a80f7c8dfa58a40571c30685d4e06b with our computed response: 96a80f7c8dfa58a40571c30685d4e06b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:2642 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK4f0cd693ef0d55c0c3b559e9792fc3b3
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: eb0532edd2e66c1a363ab8f80f771d48@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:2642;branch=z9hG4bK4f0cd693ef0d55c0c3b559e9792fc3b3
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:2642;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="2e38b938b49c1e5ef5a903a6becf611a",uri="sip:192.168.1.50:5061;transport=udp",response="96a80f7c8dfa58a40571c30685d4e06b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=29310343
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd7c608d47bf2cee3ee86ae9b0478da0d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd7c608d47bf2cee3ee86ae9b0478da0d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6a1c8f0f7f9319f3d29a52f70dcbd0ca",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK8542945ca187be90e0895d9b150c3a9f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6a1c8f0f7f9319f3d29a52f70dcbd0ca",uri="sip:192.168.1.50:5061;transport=udp",response="666581136873af3f969a98ef14d17c49",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6a1c8f0f7f9319f3d29a52f70dcbd0ca!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 666581136873af3f969a98ef14d17c49 with our computed response: 666581136873af3f969a98ef14d17c49
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK8542945ca187be90e0895d9b150c3a9f
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 12d58f11f49c51d400d82f5cb024cc7c@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK8542945ca187be90e0895d9b150c3a9f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6a1c8f0f7f9319f3d29a52f70dcbd0ca",uri="sip:192.168.1.50:5061;transport=udp",response="666581136873af3f969a98ef14d17c49",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
ExpiresTask, run(), we  removed the contact: sip:192.168.1.50:5060 for the user: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
ExpiresTask, run(), we  removed the contact: sip:192.168.1.50:22787 for the user: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
ExpiresTask, run(), we  removed the contact: sip:192.168.1.50:2642 for the user: sip:alex@192.168.1.50:4000

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0032bd2c69c54224aaa9c38447e9b9cf
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0032bd2c69c54224aaa9c38447e9b9cf
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="72a11998000891fa08af2eb73c61da62",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0eccd3c6b167008d8ffadf872110decf
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="72a11998000891fa08af2eb73c61da62",uri="sip:192.168.1.50:5061;transport=udp",response="a26468f6d727e0a92fcc7995d7e2e26b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:72a11998000891fa08af2eb73c61da62!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a26468f6d727e0a92fcc7995d7e2e26b with our computed response: a26468f6d727e0a92fcc7995d7e2e26b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0eccd3c6b167008d8ffadf872110decf
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0eccd3c6b167008d8ffadf872110decf
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="72a11998000891fa08af2eb73c61da62",uri="sip:192.168.1.50:5061;transport=udp",response="a26468f6d727e0a92fcc7995d7e2e26b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0eccd3c6b167008d8ffadf872110decf
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="72a11998000891fa08af2eb73c61da62",uri="sip:192.168.1.50:5061;transport=udp",response="a26468f6d727e0a92fcc7995d7e2e26b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:72a11998000891fa08af2eb73c61da62!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a26468f6d727e0a92fcc7995d7e2e26b with our computed response: a26468f6d727e0a92fcc7995d7e2e26b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
Contact to add:sip:192.168.1.50:5060 ?
Contact in the list:sip:192.168.1.50:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.1.50:5060 has been updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0eccd3c6b167008d8ffadf872110decf
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK0eccd3c6b167008d8ffadf872110decf
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="72a11998000891fa08af2eb73c61da62",uri="sip:192.168.1.50:5061;transport=udp",response="a26468f6d727e0a92fcc7995d7e2e26b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK774fbaaf250e4740ea5921d73eff1bce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK774fbaaf250e4740ea5921d73eff1bce
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1c86e452c22851f94cf85a11ac66138b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK19b2f2157ac1ce3221fecccdc7c55933
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1c86e452c22851f94cf85a11ac66138b",uri="sip:192.168.1.50:5061;transport=udp",response="bcc5de4da1cc2d94ffc54de5dd392d1d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1c86e452c22851f94cf85a11ac66138b!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: bcc5de4da1cc2d94ffc54de5dd392d1d with our computed response: bcc5de4da1cc2d94ffc54de5dd392d1d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:13166 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK19b2f2157ac1ce3221fecccdc7c55933
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK19b2f2157ac1ce3221fecccdc7c55933
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1c86e452c22851f94cf85a11ac66138b",uri="sip:192.168.1.50:5061;transport=udp",response="bcc5de4da1cc2d94ffc54de5dd392d1d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bKed6429e70603a9741e3956c7b9195426
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bKed6429e70603a9741e3956c7b9195426
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="fb9f99e36cd10361c9fa93274194952b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bKed6429e70603a9741e3956c7b9195426
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fb9f99e36cd10361c9fa93274194952b",uri="sip:alex@192.168.1.50:4000",response="ee7695e6ba5649d44de1465158b79cee",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:fb9f99e36cd10361c9fa93274194952b!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ee7695e6ba5649d44de1465158b79cee with our computed response: ee7695e6ba5649d44de1465158b79cee
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7ae138a4
dialog =  gov.nist.javax.sip.stack.SIPDialog@1309e87
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKe1ce2a3a0dc3cb2dc60ed64748688d14,SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fb9f99e36cd10361c9fa93274194952b",uri="sip:alex@192.168.1.50:4000",response="ee7695e6ba5649d44de1465158b79cee",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK4e7656fa4a79953278b736553cf36462,SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fb9f99e36cd10361c9fa93274194952b",uri="sip:alex@192.168.1.50:4000",response="ee7695e6ba5649d44de1465158b79cee",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK4e7656fa4a79953278b736553cf36462,SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9a6145c5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d95492
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=27187756
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK4e7656fa4a79953278b736553cf36462,SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9a6145c5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d95492
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=27187756
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=27187756
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK4e7656fa4a79953278b736553cf36462,SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9a6145c5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d95492
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:27187756
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=27187756
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK4820e917a903401fac0f9d013e8d7266
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=27187756
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=322e3136382e312e35303a313331363
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1cb5cc65
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1309e87
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1cb5cc65
dialog =  gov.nist.javax.sip.stack.SIPDialog@1309e87
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@67064
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@7ae138a4
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1309e87
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@9a6145c5, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:5060 SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=27187756
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKed984308da1ebef5559792efdf1e168e,SIP/2.0/UDP 192.168.1.50:13166;branch=322e3136382e312e35303a313331363
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK6f438f6754d3b5bba749ec1308d2839d
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK6f438f6754d3b5bba749ec1308d2839d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="d56f09f568b3b7ad5ff696779ecb510f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bKc3cfc28cfb5361872a43b584518cf79d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bKc3cfc28cfb5361872a43b584518cf79d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2aac79766aff9e7dbd5a591e3ede535c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK842253a149b50023f3e20941bc617e12
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2aac79766aff9e7dbd5a591e3ede535c",uri="sip:192.168.1.50:5061;transport=udp",response="1370fca6bdc6e2e218d4c477b9d20364",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2aac79766aff9e7dbd5a591e3ede535c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1370fca6bdc6e2e218d4c477b9d20364 with our computed response: 1370fca6bdc6e2e218d4c477b9d20364
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:13166 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK842253a149b50023f3e20941bc617e12
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f41bcc387158a6977944a4b4c1783f3d@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:13166;branch=z9hG4bK842253a149b50023f3e20941bc617e12
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2aac79766aff9e7dbd5a591e3ede535c",uri="sip:192.168.1.50:5061;transport=udp",response="1370fca6bdc6e2e218d4c477b9d20364",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=27187756
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK957ecc80a6c7d9365bba9c8eb1b8b7fc
Route: "jmaria" <sip:192.168.1.50:13166;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b867101c
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d95492
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7a6463cc9b39957b300699cedd20d045@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=27187756
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=13676443
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK957ecc80a6c7d9365bba9c8eb1b8b7fc
Proxy-Authenticate: Digest realm="nist.gov",nonce="425e291b031673f440ae3ea20e0d2786",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfe987c817ee54c8e88598c7191523c1f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a0a309c13d3070f603df751bda00335b@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfe987c817ee54c8e88598c7191523c1f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="539d4eb60ed467b32dbab0b0ec9db694",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 11cc5965353c5f9b4a11c5442a8c6922@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=26171428
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK734c804473a5d004fe744748d0cdb017
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 11cc5965353c5f9b4a11c5442a8c6922@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=26171428
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK734c804473a5d004fe744748d0cdb017
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="21912a76ad52f82ce32b7df0bbd49aa5",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 11cc5965353c5f9b4a11c5442a8c6922@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK824bef82368a10d8d5ca2ea443b4214b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21912a76ad52f82ce32b7df0bbd49aa5",uri="sip:192.168.1.50:5061;transport=udp",response="41ba40b1958d0d8cea71770f1dfbc931",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=26171428
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:21912a76ad52f82ce32b7df0bbd49aa5!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 41ba40b1958d0d8cea71770f1dfbc931 with our computed response: 41ba40b1958d0d8cea71770f1dfbc931
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 11cc5965353c5f9b4a11c5442a8c6922@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK824bef82368a10d8d5ca2ea443b4214b
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=26171428
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 11cc5965353c5f9b4a11c5442a8c6922@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK824bef82368a10d8d5ca2ea443b4214b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21912a76ad52f82ce32b7df0bbd49aa5",uri="sip:192.168.1.50:5061;transport=udp",response="41ba40b1958d0d8cea71770f1dfbc931",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=26171428
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfcb752ef95e3eb5852aeeae1e6952f5d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfcb752ef95e3eb5852aeeae1e6952f5d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="de69c657c52349dc1a58b62321658299",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa9cc89aab656f51dda72586524e47fe1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="de69c657c52349dc1a58b62321658299",uri="sip:192.168.1.50:5061;transport=udp",response="3969af8d0e7b6831a2e319040564336b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:de69c657c52349dc1a58b62321658299!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 3969af8d0e7b6831a2e319040564336b with our computed response: 3969af8d0e7b6831a2e319040564336b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa9cc89aab656f51dda72586524e47fe1
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa9cc89aab656f51dda72586524e47fe1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="de69c657c52349dc1a58b62321658299",uri="sip:192.168.1.50:5061;transport=udp",response="3969af8d0e7b6831a2e319040564336b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc0a2dc00f4228d7619d8750f433ef3cd
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc0a2dc00f4228d7619d8750f433ef3cd
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="fe0807c3da4f5be1819099d96056e073",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2a63a290758a1069a89bc1db76e92722
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fe0807c3da4f5be1819099d96056e073",uri="sip:192.168.1.50:5061;transport=udp",response="c02be3beada673833d0832ac7560004b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:fe0807c3da4f5be1819099d96056e073!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c02be3beada673833d0832ac7560004b with our computed response: c02be3beada673833d0832ac7560004b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2a63a290758a1069a89bc1db76e92722
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 9bf36c9c28a8f759d1e8a8b902ada2db@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2a63a290758a1069a89bc1db76e92722
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fe0807c3da4f5be1819099d96056e073",uri="sip:192.168.1.50:5061;transport=udp",response="c02be3beada673833d0832ac7560004b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4bfc4e0d27e8d5106f3a9a54096521f8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK4bfc4e0d27e8d5106f3a9a54096521f8
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1846a9cfb74349f850c573e00a9b499b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKcd50f48b379a4ba78faf43293e143b74
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="1846a9cfb74349f850c573e00a9b499b",uri="sip:192.168.1.50:5061;transport=udp",response="b1b6fd8d866ff34ac38951dbfa73a040",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1846a9cfb74349f850c573e00a9b499b!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b1b6fd8d866ff34ac38951dbfa73a040 with our computed response: b1b6fd8d866ff34ac38951dbfa73a040
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKcd50f48b379a4ba78faf43293e143b74
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKcd50f48b379a4ba78faf43293e143b74
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="1846a9cfb74349f850c573e00a9b499b",uri="sip:192.168.1.50:5061;transport=udp",response="b1b6fd8d866ff34ac38951dbfa73a040",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK49518e4359265cc187101631d25e9972
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK49518e4359265cc187101631d25e9972
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="81004dc6134a196d4e81d2ab95c93aa8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKc573b09e1e06ab60a2109879b48daa64
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="81004dc6134a196d4e81d2ab95c93aa8",uri="sip:192.168.1.50:5061;transport=udp",response="d82442f71945811eefffef0c3993638f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:81004dc6134a196d4e81d2ab95c93aa8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d82442f71945811eefffef0c3993638f with our computed response: d82442f71945811eefffef0c3993638f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:47948 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKc573b09e1e06ab60a2109879b48daa64
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKc573b09e1e06ab60a2109879b48daa64
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="81004dc6134a196d4e81d2ab95c93aa8",uri="sip:192.168.1.50:5061;transport=udp",response="d82442f71945811eefffef0c3993638f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKf65d998122136236f9b5ab40d85f0ed4
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKf65d998122136236f9b5ab40d85f0ed4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c3e6e0255601ca0984f8f340d9156711",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKf65d998122136236f9b5ab40d85f0ed4
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="c3e6e0255601ca0984f8f340d9156711",uri="sip:alex@192.168.1.50:4000",response="46661d0a7939a22a2f76c4feab55947a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c3e6e0255601ca0984f8f340d9156711!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 46661d0a7939a22a2f76c4feab55947a with our computed response: 46661d0a7939a22a2f76c4feab55947a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5de4a41c
dialog =  gov.nist.javax.sip.stack.SIPDialog@76ab2f
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK3646caeb6bfb5c977d347fbf75a783fc,SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="c3e6e0255601ca0984f8f340d9156711",uri="sip:alex@192.168.1.50:4000",response="46661d0a7939a22a2f76c4feab55947a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK7761cc1281b90ef9cfcc3d776e64c073,SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="c3e6e0255601ca0984f8f340d9156711",uri="sip:alex@192.168.1.50:4000",response="46661d0a7939a22a2f76c4feab55947a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK7761cc1281b90ef9cfcc3d776e64c073,SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a8bb725d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b4e29b
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11343231
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK7761cc1281b90ef9cfcc3d776e64c073,SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a8bb725d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b4e29b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11343231
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11343231
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK7761cc1281b90ef9cfcc3d776e64c073,SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a8bb725d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b4e29b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:11343231
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: ac47be0a53fb1588bf3b2efd3b6dc6f2@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11343231
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK5fd0c7514852dabd433d1509d925c4f0
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKdeec2b9071e034dd54409259f0cf9972
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKdeec2b9071e034dd54409259f0cf9972
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f6fd88733d3e9310e355f98b7908906c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK058ee305dcf76081a0e5853ee2505b40
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f6fd88733d3e9310e355f98b7908906c",uri="sip:192.168.1.50:5061;transport=udp",response="80019b5585153738da22280fe4bcd13f",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f6fd88733d3e9310e355f98b7908906c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 80019b5585153738da22280fe4bcd13f with our computed response: 80019b5585153738da22280fe4bcd13f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK058ee305dcf76081a0e5853ee2505b40
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f836367cdb0110fb780b0ea50c962052@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK058ee305dcf76081a0e5853ee2505b40
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f6fd88733d3e9310e355f98b7908906c",uri="sip:192.168.1.50:5061;transport=udp",response="80019b5585153738da22280fe4bcd13f",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKd13e673178b7f7ca59c4e9a479a4d5ce
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bKd13e673178b7f7ca59c4e9a479a4d5ce
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8809366fa17f1a0cea74aa35d6efce58",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK2a8698b63c1145a3731942b897c4c604
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8809366fa17f1a0cea74aa35d6efce58",uri="sip:192.168.1.50:5061;transport=udp",response="f62ef5186a0c974cde177cb3645e93e4",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8809366fa17f1a0cea74aa35d6efce58!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f62ef5186a0c974cde177cb3645e93e4 with our computed response: f62ef5186a0c974cde177cb3645e93e4
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:47948 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK2a8698b63c1145a3731942b897c4c604
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 64d915cf7e74c3d28bac0d82f4d118fe@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:47948;branch=z9hG4bK2a8698b63c1145a3731942b897c4c604
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:47948;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8809366fa17f1a0cea74aa35d6efce58",uri="sip:192.168.1.50:5061;transport=udp",response="f62ef5186a0c974cde177cb3645e93e4",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK907d60d2183862f5735e04b3b2362978
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK907d60d2183862f5735e04b3b2362978
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7370236634f3c32eacff22b4eaaf9d52",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd7c910bc157ea23d5b66c6ad1f9fc595
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="7370236634f3c32eacff22b4eaaf9d52",uri="sip:192.168.1.50:5061;transport=udp",response="7aa11f6fbcf2170fc84e7202ccc47d53",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7370236634f3c32eacff22b4eaaf9d52!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 7aa11f6fbcf2170fc84e7202ccc47d53 with our computed response: 7aa11f6fbcf2170fc84e7202ccc47d53
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd7c910bc157ea23d5b66c6ad1f9fc595
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd7c910bc157ea23d5b66c6ad1f9fc595
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="7370236634f3c32eacff22b4eaaf9d52",uri="sip:192.168.1.50:5061;transport=udp",response="7aa11f6fbcf2170fc84e7202ccc47d53",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10deb621566ecb353d825ec5be238e09@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bKe8724c7d2acafa634ad7818b6256c97b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 10deb621566ecb353d825ec5be238e09@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bKe8724c7d2acafa634ad7818b6256c97b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="034be01b18c3d2364ee908545e686798",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10deb621566ecb353d825ec5be238e09@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bKb9044ce8e5e5820d9d12616cf78aa43a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="034be01b18c3d2364ee908545e686798",uri="sip:192.168.1.50:5061;transport=udp",response="73e830906e8dc3b26b3d40134f3cf3e3",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:034be01b18c3d2364ee908545e686798!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 73e830906e8dc3b26b3d40134f3cf3e3 with our computed response: 73e830906e8dc3b26b3d40134f3cf3e3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:39928 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 10deb621566ecb353d825ec5be238e09@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bKb9044ce8e5e5820d9d12616cf78aa43a
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10deb621566ecb353d825ec5be238e09@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bKb9044ce8e5e5820d9d12616cf78aa43a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="034be01b18c3d2364ee908545e686798",uri="sip:192.168.1.50:5061;transport=udp",response="73e830906e8dc3b26b3d40134f3cf3e3",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK2d7d352c9fcfcdb342a2f30442422780
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK2d7d352c9fcfcdb342a2f30442422780
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="5da4c7ad2692668041934fbfe3712296",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK2d7d352c9fcfcdb342a2f30442422780
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="5da4c7ad2692668041934fbfe3712296",uri="sip:alex@192.168.1.50:4000",response="60acdf3f26c29b5b026021ca9827f9e3",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:5da4c7ad2692668041934fbfe3712296!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 60acdf3f26c29b5b026021ca9827f9e3 with our computed response: 60acdf3f26c29b5b026021ca9827f9e3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a5b96560
dialog =  gov.nist.javax.sip.stack.SIPDialog@5e13ad
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK1c989c41c92e57474dd992ee882540e9,SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="5da4c7ad2692668041934fbfe3712296",uri="sip:alex@192.168.1.50:4000",response="60acdf3f26c29b5b026021ca9827f9e3",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK1a1cadcdc8b8d43a6b4647d2b0c70263,SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="5da4c7ad2692668041934fbfe3712296",uri="sip:alex@192.168.1.50:4000",response="60acdf3f26c29b5b026021ca9827f9e3",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK1a1cadcdc8b8d43a6b4647d2b0c70263,SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@917ed4ce
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=22238933
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK1a1cadcdc8b8d43a6b4647d2b0c70263,SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@917ed4ce
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=22238933
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=22238933
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK1a1cadcdc8b8d43a6b4647d2b0c70263,SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@917ed4ce
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:22238933
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=22238933
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK41ee5d71cee7b4d3d1d422fd29ab0ce5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=22238933
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=322e3136382e312e35303a333939323
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b6228eef
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5e13ad
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b6228eef
dialog =  gov.nist.javax.sip.stack.SIPDialog@5e13ad
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@bad8a8
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@a5b96560
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@5e13ad
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@917ed4ce, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:5060 SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=22238933
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK77edc7cb5fb825d7b863c2ccf1108262,SIP/2.0/UDP 192.168.1.50:39928;branch=322e3136382e312e35303a333939323
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=22238933
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7c50c7c0e0d473a4e0f25ae3f312ec7a
Route: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@efd68fd8
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=22238933
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7c50c7c0e0d473a4e0f25ae3f312ec7a
Proxy-Authenticate: Digest realm="nist.gov",nonce="a175aac8b0491e1331b6493291bda884",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK05efe0db9be8f8767a44d31b4b01d2ff
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f7f06309c8e5e3fba823aaa744d3c62d@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bK05efe0db9be8f8767a44d31b4b01d2ff
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="fbbd5c403b377f1750b4f9dba32a50b2",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10deb621566ecb353d825ec5be238e09@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bKdc52af6a36f1a68fc3a0d5d9ed262926
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 10deb621566ecb353d825ec5be238e09@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:39928;branch=z9hG4bKdc52af6a36f1a68fc3a0d5d9ed262926
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="195ba8219188ac049f4c60f4679ceb46",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc32e4847f18b6f0ef97f5d3840440837
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc32e4847f18b6f0ef97f5d3840440837
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="4a4e771d91542417b8cd2d3fcccf7b16",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe321fc8bc394df706f70d64938cbf45a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="4a4e771d91542417b8cd2d3fcccf7b16",uri="sip:192.168.1.50:5061;transport=udp",response="ef175d560870215cbce4459e75b5ab27",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4a4e771d91542417b8cd2d3fcccf7b16!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ef175d560870215cbce4459e75b5ab27 with our computed response: ef175d560870215cbce4459e75b5ab27
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:39928;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe321fc8bc394df706f70d64938cbf45a
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3c83a85894cdef77e205fe81150da9@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe321fc8bc394df706f70d64938cbf45a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="4a4e771d91542417b8cd2d3fcccf7b16",uri="sip:192.168.1.50:5061;transport=udp",response="ef175d560870215cbce4459e75b5ab27",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2420de6fc493bf25f4643852f24bab37
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2420de6fc493bf25f4643852f24bab37
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="76d1c95ae7bead224adca80fdfd1ebbc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf542194c6c74c8ec2efee83d71e19c51
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="76d1c95ae7bead224adca80fdfd1ebbc",uri="sip:192.168.1.50:5061;transport=udp",response="46dfa22e6c355cb7641eea1844572826",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:76d1c95ae7bead224adca80fdfd1ebbc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 46dfa22e6c355cb7641eea1844572826 with our computed response: 46dfa22e6c355cb7641eea1844572826
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf542194c6c74c8ec2efee83d71e19c51
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf542194c6c74c8ec2efee83d71e19c51
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="76d1c95ae7bead224adca80fdfd1ebbc",uri="sip:192.168.1.50:5061;transport=udp",response="46dfa22e6c355cb7641eea1844572826",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bKa8bdd7d12b97066ffff4ab08ed3df2e8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bKa8bdd7d12b97066ffff4ab08ed3df2e8
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1ac29fb24623c249f0664fa207a77d7c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK20a576d05ec665a0228f00c0d26b2ed2
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1ac29fb24623c249f0664fa207a77d7c",uri="sip:192.168.1.50:5061;transport=udp",response="1a530f469daf63ef07c13524af3d32fa",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1ac29fb24623c249f0664fa207a77d7c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1a530f469daf63ef07c13524af3d32fa with our computed response: 1a530f469daf63ef07c13524af3d32fa
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:48019 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK20a576d05ec665a0228f00c0d26b2ed2
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK20a576d05ec665a0228f00c0d26b2ed2
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1ac29fb24623c249f0664fa207a77d7c",uri="sip:192.168.1.50:5061;transport=udp",response="1a530f469daf63ef07c13524af3d32fa",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bKf73114ab1c1f396456d9562ab4793a3f
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bKf73114ab1c1f396456d9562ab4793a3f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9c65b295a562d7dfd2d523b36b1ecf0b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bKf73114ab1c1f396456d9562ab4793a3f
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9c65b295a562d7dfd2d523b36b1ecf0b",uri="sip:alex@192.168.1.50:4000",response="f46ec6d2eb37010e001d34a43ebc695d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9c65b295a562d7dfd2d523b36b1ecf0b!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f46ec6d2eb37010e001d34a43ebc695d with our computed response: f46ec6d2eb37010e001d34a43ebc695d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@adb1b4e4
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a28362
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK345fad6ef6eeedee0556b86e492eb72b,SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9c65b295a562d7dfd2d523b36b1ecf0b",uri="sip:alex@192.168.1.50:4000",response="f46ec6d2eb37010e001d34a43ebc695d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKb8a16253e28c59339921c2fe93e95256,SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9c65b295a562d7dfd2d523b36b1ecf0b",uri="sip:alex@192.168.1.50:4000",response="f46ec6d2eb37010e001d34a43ebc695d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKb8a16253e28c59339921c2fe93e95256,SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1d798ed4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125844f
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11463270
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKb8a16253e28c59339921c2fe93e95256,SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1d798ed4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125844f
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11463270
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11463270
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKb8a16253e28c59339921c2fe93e95256,SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1d798ed4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125844f
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:11463270
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11463270
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK24501130632ca0d8fb9dfa4018ddfe0f
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=11463270
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=322e3136382e312e35303a343830313
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@806eeaca
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a28362
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@806eeaca
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a28362
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@79e304
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@adb1b4e4
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1a28362
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@1d798ed4, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:5060 SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=11463270
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK85625945ca1773cd81613dc9811f4331,SIP/2.0/UDP 192.168.1.50:48019;branch=322e3136382e312e35303a343830313
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=11463270
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK51d8d0a7ba2c261e692912ebd747d3d6
Route: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1f5899f8
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125844f
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=11463270
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK51d8d0a7ba2c261e692912ebd747d3d6
Proxy-Authenticate: Digest realm="nist.gov",nonce="803a842438163fb117d55a49a832d70f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK1dbda78c331b39bfb346af5f51d65ccd
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c5bb2966d6b0cae4194efe6b158eb285@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK1dbda78c331b39bfb346af5f51d65ccd
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8cff2b8f3be98196286751e575ba4ed6",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bKed2fdcce5ed57ec66069a1314ea4816f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bKed2fdcce5ed57ec66069a1314ea4816f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1800f60d3dd4a309963e6cc5a1216870",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK7f463b5974d9a7536af77633c2e52411
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1800f60d3dd4a309963e6cc5a1216870",uri="sip:192.168.1.50:5061;transport=udp",response="83235fe8083972084dc9f06842a51640",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1800f60d3dd4a309963e6cc5a1216870!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 83235fe8083972084dc9f06842a51640 with our computed response: 83235fe8083972084dc9f06842a51640
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:48019 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK7f463b5974d9a7536af77633c2e52411
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3f90a9820280ba6c5d8728468a3c88fd@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:48019;branch=z9hG4bK7f463b5974d9a7536af77633c2e52411
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:48019;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1800f60d3dd4a309963e6cc5a1216870",uri="sip:192.168.1.50:5061;transport=udp",response="83235fe8083972084dc9f06842a51640",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3f1e77588f27055730d91146ba147155
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3f1e77588f27055730d91146ba147155
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6e3deb8a1d20bd6ec8c28c5f5115a17a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3dc64a11fae437631a7e85ab3aee237b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="6e3deb8a1d20bd6ec8c28c5f5115a17a",uri="sip:192.168.1.50:5061;transport=udp",response="988099929fed0ab54411bca8952cd0d8",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6e3deb8a1d20bd6ec8c28c5f5115a17a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 988099929fed0ab54411bca8952cd0d8 with our computed response: 988099929fed0ab54411bca8952cd0d8
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3dc64a11fae437631a7e85ab3aee237b
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 239171f6a705352de432f1e16423f75a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3dc64a11fae437631a7e85ab3aee237b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="6e3deb8a1d20bd6ec8c28c5f5115a17a",uri="sip:192.168.1.50:5061;transport=udp",response="988099929fed0ab54411bca8952cd0d8",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf47007af14f7f5f7162d9d70f3235e02
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf47007af14f7f5f7162d9d70f3235e02
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f16296399f3c586effa2ee150d0f6c95",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK5e7d2860822731b25e7444c5d4ce8b4d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="f16296399f3c586effa2ee150d0f6c95",uri="sip:192.168.1.50:5061;transport=udp",response="9768e3ead3803f52ad141b4171a62683",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f16296399f3c586effa2ee150d0f6c95!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9768e3ead3803f52ad141b4171a62683 with our computed response: 9768e3ead3803f52ad141b4171a62683
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK5e7d2860822731b25e7444c5d4ce8b4d
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK5e7d2860822731b25e7444c5d4ce8b4d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="f16296399f3c586effa2ee150d0f6c95",uri="sip:192.168.1.50:5061;transport=udp",response="9768e3ead3803f52ad141b4171a62683",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 74d6b40452cc3901191ffebf9c0f29cf@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK79de9d012a4f9faed499b4ebccbd224d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 74d6b40452cc3901191ffebf9c0f29cf@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK79de9d012a4f9faed499b4ebccbd224d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3649ee51eefe14e51fd6affbf8fc8d20",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 74d6b40452cc3901191ffebf9c0f29cf@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK701bca7c9511b4b849a99acd39d4670a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="3649ee51eefe14e51fd6affbf8fc8d20",uri="sip:192.168.1.50:5061;transport=udp",response="70c7b0aa105e2374c4245ec3cbb8e9f3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3649ee51eefe14e51fd6affbf8fc8d20!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 70c7b0aa105e2374c4245ec3cbb8e9f3 with our computed response: 70c7b0aa105e2374c4245ec3cbb8e9f3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:22332 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>;expires=3600

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 74d6b40452cc3901191ffebf9c0f29cf@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK701bca7c9511b4b849a99acd39d4670a
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 74d6b40452cc3901191ffebf9c0f29cf@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK701bca7c9511b4b849a99acd39d4670a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="3649ee51eefe14e51fd6affbf8fc8d20",uri="sip:192.168.1.50:5061;transport=udp",response="70c7b0aa105e2374c4245ec3cbb8e9f3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 55c181de26cdf0ebdb8ebf2acc36a33e@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK77efb37966fd8b37eb5c6fd3cd266045
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 55c181de26cdf0ebdb8ebf2acc36a33e@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK77efb37966fd8b37eb5c6fd3cd266045
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f23a16098b35a5f64c204b49cc80d244",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 55c181de26cdf0ebdb8ebf2acc36a33e@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK77efb37966fd8b37eb5c6fd3cd266045
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 55c181de26cdf0ebdb8ebf2acc36a33e@192.168.1.50
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK32c8dabab1b779469a06575fa833743f
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f23a16098b35a5f64c204b49cc80d244",uri="sip:thanos@192.168.1.50:4000",response="9636dce4b1cd1e739f8e144a8493b595",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f23a16098b35a5f64c204b49cc80d244!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:6da61ade1890dd3c7fdb167cf70a24a0!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9636dce4b1cd1e739f8e144a8493b595 with our computed response: 9636dce4b1cd1e739f8e144a8493b595
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK9c24471a7f15b56d6aac59427aaceb9b
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK9c24471a7f15b56d6aac59427aaceb9b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1eb7f6145ac7fd2f154d8bb48554b156",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK9c24471a7f15b56d6aac59427aaceb9b
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK93e97b01555b77a50ca0773d3798b671
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1eb7f6145ac7fd2f154d8bb48554b156",uri="sip:alex@192.168.1.50:4000",response="a64ebbabce9fc8f89d61f6b6c397553a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1eb7f6145ac7fd2f154d8bb48554b156!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a64ebbabce9fc8f89d61f6b6c397553a with our computed response: a64ebbabce9fc8f89d61f6b6c397553a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bfc31c5e
dialog =  gov.nist.javax.sip.stack.SIPDialog@1d1e730
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:22332 SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKddefd28e117306ad117392ce73629e6d,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK93e97b01555b77a50ca0773d3798b671
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1eb7f6145ac7fd2f154d8bb48554b156",uri="sip:alex@192.168.1.50:4000",response="a64ebbabce9fc8f89d61f6b6c397553a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:22332 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:22332 SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK89333b391f1e36eb4bada484110f8f63,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK93e97b01555b77a50ca0773d3798b671
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1eb7f6145ac7fd2f154d8bb48554b156",uri="sip:alex@192.168.1.50:4000",response="a64ebbabce9fc8f89d61f6b6c397553a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11733267
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK89333b391f1e36eb4bada484110f8f63,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK93e97b01555b77a50ca0773d3798b671
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@24641e3f
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4f459c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11733267
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK93e97b01555b77a50ca0773d3798b671
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11733267
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK89333b391f1e36eb4bada484110f8f63,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK93e97b01555b77a50ca0773d3798b671
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@24641e3f
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4f459c
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:11733267
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11733267
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK93e97b01555b77a50ca0773d3798b671
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=11733267
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Route: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bd742d31
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d1e730
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bd742d31
dialog =  gov.nist.javax.sip.stack.SIPDialog@1d1e730
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1c5fde0
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bfc31c5e
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1d1e730
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@24641e3f, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:22332 SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=11733267
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK0fc624bf30a3ba58166d1914f4066a27,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Route: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK5442f202d17d0114d2e5ea293de2ba35
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK5442f202d17d0114d2e5ea293de2ba35
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9d659be3525b90f64facbc7b01fb65bb",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK55e1c7647c2b7218859d0438f6530ace
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK55e1c7647c2b7218859d0438f6530ace
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="cc19b0c867ffcf843cdd8ab859707d45",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKef3235680d07e7a4eac0db716ffd140d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="cc19b0c867ffcf843cdd8ab859707d45",uri="sip:192.168.1.50:5061;transport=udp",response="752e3d507538ff16c9b8a1eea0647d6b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:cc19b0c867ffcf843cdd8ab859707d45!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 752e3d507538ff16c9b8a1eea0647d6b with our computed response: 752e3d507538ff16c9b8a1eea0647d6b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>;expires=3600

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKef3235680d07e7a4eac0db716ffd140d
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b72b514b72ef0d0fa25ed71e3a798340@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKef3235680d07e7a4eac0db716ffd140d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="cc19b0c867ffcf843cdd8ab859707d45",uri="sip:192.168.1.50:5061;transport=udp",response="752e3d507538ff16c9b8a1eea0647d6b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=11733267
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK3dfc0d939f613a3fa35474fa8dba4ba2
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d2420c37
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4f459c
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 017a74fb1d1b01a945d5da6ce2975c4d@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=11733267
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=5218268
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK3dfc0d939f613a3fa35474fa8dba4ba2
Proxy-Authenticate: Digest realm="nist.gov",nonce="254dd0344e5d794ff2d66488642203f6",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 74d6b40452cc3901191ffebf9c0f29cf@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK0bbe87f77879493e6c76928055b6c147
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:22332;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 74d6b40452cc3901191ffebf9c0f29cf@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22332;branch=z9hG4bK0bbe87f77879493e6c76928055b6c147
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="4ea287cf3cf5a5dfc08804db9b649564",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 1437d369b98e43ce3a48279d0764cea7@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK73f4e93e0938bcfb132fa9dcd0ddaaee
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 1437d369b98e43ce3a48279d0764cea7@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK73f4e93e0938bcfb132fa9dcd0ddaaee
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="78d89fe28b7345c72d01673a87c56ebd",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 1437d369b98e43ce3a48279d0764cea7@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK477f141f250b61130829f6af4dea2d38
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="78d89fe28b7345c72d01673a87c56ebd",uri="sip:192.168.1.50:5061;transport=udp",response="42e2bbb785d0f1b92bc751b8d97e0100",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:78d89fe28b7345c72d01673a87c56ebd!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 42e2bbb785d0f1b92bc751b8d97e0100 with our computed response: 42e2bbb785d0f1b92bc751b8d97e0100
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1437d369b98e43ce3a48279d0764cea7@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK477f141f250b61130829f6af4dea2d38
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 1437d369b98e43ce3a48279d0764cea7@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK477f141f250b61130829f6af4dea2d38
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="78d89fe28b7345c72d01673a87c56ebd",uri="sip:192.168.1.50:5061;transport=udp",response="42e2bbb785d0f1b92bc751b8d97e0100",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bKe1f9765662c4e94affd7bbc7d42cb50a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bKe1f9765662c4e94affd7bbc7d42cb50a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e23990855f50b0022d066adfe192dbc4",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bKc69bdd76b0cb1bb303ee471667d10dcb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e23990855f50b0022d066adfe192dbc4",uri="sip:192.168.1.50:5061;transport=udp",response="9be64e5b8be396cd6b84b52fc7e2b034",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e23990855f50b0022d066adfe192dbc4!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9be64e5b8be396cd6b84b52fc7e2b034 with our computed response: 9be64e5b8be396cd6b84b52fc7e2b034
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:1206 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bKc69bdd76b0cb1bb303ee471667d10dcb
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bKc69bdd76b0cb1bb303ee471667d10dcb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e23990855f50b0022d066adfe192dbc4",uri="sip:192.168.1.50:5061;transport=udp",response="9be64e5b8be396cd6b84b52fc7e2b034",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK320c07d220cbe82db99b9da2510af8a4
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK320c07d220cbe82db99b9da2510af8a4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="bd647e40f96bc56720fc9913cd5a9449",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK320c07d220cbe82db99b9da2510af8a4
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK107a6abaf4ba730ae7fb6ea9fdc989d5
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="bd647e40f96bc56720fc9913cd5a9449",uri="sip:alex@192.168.1.50:4000",response="c548b3282785515ac416e4f597c7638d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bd647e40f96bc56720fc9913cd5a9449!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c548b3282785515ac416e4f597c7638d with our computed response: c548b3282785515ac416e4f597c7638d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5f782607
dialog =  gov.nist.javax.sip.stack.SIPDialog@e53220
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK811bd4598f14ef57e7e6de61c2c61330,SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK107a6abaf4ba730ae7fb6ea9fdc989d5
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="bd647e40f96bc56720fc9913cd5a9449",uri="sip:alex@192.168.1.50:4000",response="c548b3282785515ac416e4f597c7638d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK24cb7efbf6d6b4b5a8793ae8cdaa103d,SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK107a6abaf4ba730ae7fb6ea9fdc989d5
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="bd647e40f96bc56720fc9913cd5a9449",uri="sip:alex@192.168.1.50:4000",response="c548b3282785515ac416e4f597c7638d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=13986615
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK24cb7efbf6d6b4b5a8793ae8cdaa103d,SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK107a6abaf4ba730ae7fb6ea9fdc989d5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@67133bbc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5660d6
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=13986615
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK107a6abaf4ba730ae7fb6ea9fdc989d5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=13986615
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK24cb7efbf6d6b4b5a8793ae8cdaa103d,SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK107a6abaf4ba730ae7fb6ea9fdc989d5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@67133bbc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5660d6
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13986615
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 3dfea5a9de859e6efb988769a260757f@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=13986615
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK107a6abaf4ba730ae7fb6ea9fdc989d5
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bKdd1ae89b4d69b8bfa11e1c272b39967f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bKdd1ae89b4d69b8bfa11e1c272b39967f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="eb3008a9da839116e30292608376d642",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK68d01b1828dd333a943694635b43e33c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="eb3008a9da839116e30292608376d642",uri="sip:192.168.1.50:5061;transport=udp",response="dc0802c6e934c971df04fe99810709bb",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:eb3008a9da839116e30292608376d642!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: dc0802c6e934c971df04fe99810709bb with our computed response: dc0802c6e934c971df04fe99810709bb
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:1206 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK68d01b1828dd333a943694635b43e33c
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ec3721ba45e6113facbe322659b5af1a@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:1206;branch=z9hG4bK68d01b1828dd333a943694635b43e33c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:1206;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="eb3008a9da839116e30292608376d642",uri="sip:192.168.1.50:5061;transport=udp",response="dc0802c6e934c971df04fe99810709bb",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK43ae16c426bf4e409843c1f14f5c2ffa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK43ae16c426bf4e409843c1f14f5c2ffa
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="964deb14e40f06bf1eba892af210f79d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK984cdc650fceea164f32a1e00583db76
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="964deb14e40f06bf1eba892af210f79d",uri="sip:147.102.232.82:5061;transport=udp",response="dc17f61e1d96f83fb63c3a5587f4dad7",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:964deb14e40f06bf1eba892af210f79d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: dc17f61e1d96f83fb63c3a5587f4dad7 with our computed response: dc17f61e1d96f83fb63c3a5587f4dad7
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK984cdc650fceea164f32a1e00583db76
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK984cdc650fceea164f32a1e00583db76
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="964deb14e40f06bf1eba892af210f79d",uri="sip:147.102.232.82:5061;transport=udp",response="dc17f61e1d96f83fb63c3a5587f4dad7",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKcb528a4cd88b42aa9c8d68c0f81d67ec
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKcb528a4cd88b42aa9c8d68c0f81d67ec
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="20773d623e8c6344259e742d335694c7",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0a73ed10078ec5e7ca645a056224081a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="20773d623e8c6344259e742d335694c7",uri="sip:147.102.232.82:5061;transport=udp",response="9637f68eda935f5c942a8ac724a064de",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:20773d623e8c6344259e742d335694c7!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9637f68eda935f5c942a8ac724a064de with our computed response: 9637f68eda935f5c942a8ac724a064de
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5060 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0a73ed10078ec5e7ca645a056224081a
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 00b09f141e591d85ec76b413a8c4003b@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0a73ed10078ec5e7ca645a056224081a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="20773d623e8c6344259e742d335694c7",uri="sip:147.102.232.82:5061;transport=udp",response="9637f68eda935f5c942a8ac724a064de",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc46c83e2319cfdc38b6d5d97e08b640e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc46c83e2319cfdc38b6d5d97e08b640e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2d95e6df0741581eba17c8f3ab66a25f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc619d8e59bc51de8e17e6d93982d75ed
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2d95e6df0741581eba17c8f3ab66a25f",uri="sip:147.102.232.82:5061;transport=udp",response="c511fde8eb06f5aeacbe8291e0fa8b7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2d95e6df0741581eba17c8f3ab66a25f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c511fde8eb06f5aeacbe8291e0fa8b7a with our computed response: c511fde8eb06f5aeacbe8291e0fa8b7a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.82:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc619d8e59bc51de8e17e6d93982d75ed
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc619d8e59bc51de8e17e6d93982d75ed
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2d95e6df0741581eba17c8f3ab66a25f",uri="sip:147.102.232.82:5061;transport=udp",response="c511fde8eb06f5aeacbe8291e0fa8b7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: eed3c54293225ea974ce08b4eb97a8f8@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK6a2f144c0c0f4e60258142277e5cfa19
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: eed3c54293225ea974ce08b4eb97a8f8@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK6a2f144c0c0f4e60258142277e5cfa19
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ad9de7d570745f05dae47b29fa75e086",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: eed3c54293225ea974ce08b4eb97a8f8@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK49a9635317cd0a881391b5d008392862
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="ad9de7d570745f05dae47b29fa75e086",uri="sip:147.102.232.82:5061;transport=udp",response="0122eb8e55591b715fa334a79a7f365d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ad9de7d570745f05dae47b29fa75e086!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 0122eb8e55591b715fa334a79a7f365d with our computed response: 0122eb8e55591b715fa334a79a7f365d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:53340 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: eed3c54293225ea974ce08b4eb97a8f8@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK49a9635317cd0a881391b5d008392862
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: eed3c54293225ea974ce08b4eb97a8f8@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK49a9635317cd0a881391b5d008392862
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="ad9de7d570745f05dae47b29fa75e086",uri="sip:147.102.232.82:5061;transport=udp",response="0122eb8e55591b715fa334a79a7f365d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@147.102.232.82:4000 SIP/2.0
Call-ID: 57baa801425ff46a51fcdb75bb6d1699@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: <sip:thanos@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK68df3757cad01f067a4df616c9c85def
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 57baa801425ff46a51fcdb75bb6d1699@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: <sip:thanos@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK68df3757cad01f067a4df616c9c85def
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7994bb1fcdf9a7855fde2b8c40203188",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@147.102.232.82:4000 SIP/2.0
Call-ID: 57baa801425ff46a51fcdb75bb6d1699@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: <sip:thanos@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bK68df3757cad01f067a4df616c9c85def
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@147.102.232.82:4000 SIP/2.0
Call-ID: 57baa801425ff46a51fcdb75bb6d1699@147.102.232.82
CSeq: 2 INVITE
To: <sip:thanos@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bKfad16c020541043d3514e1ccc09fcfad
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="7994bb1fcdf9a7855fde2b8c40203188",uri="sip:thanos@147.102.232.82:4000",response="d6ba8900534e755a35aeebed244f11d3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7994bb1fcdf9a7855fde2b8c40203188!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:385fe94af835bc191590a9cf6603ff25!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d6ba8900534e755a35aeebed244f11d3 with our computed response: d6ba8900534e755a35aeebed244f11d3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKfec68e5b9f3cdbe92cdb91718f191c2d
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKfec68e5b9f3cdbe92cdb91718f191c2d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3f7ad01a3c1fc27ded53b3399402445a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKfec68e5b9f3cdbe92cdb91718f191c2d
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3f7ad01a3c1fc27ded53b3399402445a",uri="sip:alex@147.102.232.82:4000",response="6529e46977dbe28816d2cac62c788beb",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3f7ad01a3c1fc27ded53b3399402445a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 6529e46977dbe28816d2cac62c788beb with our computed response: 6529e46977dbe28816d2cac62c788beb
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bb4cc507
dialog =  gov.nist.javax.sip.stack.SIPDialog@18a49e0
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:53340 SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK515f5c7b4333f5e76c1d61f4678a648e,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3f7ad01a3c1fc27ded53b3399402445a",uri="sip:alex@147.102.232.82:4000",response="6529e46977dbe28816d2cac62c788beb",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:53340 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:53340 SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK195ac1a0239eb85f3d20b3fefb3ad167,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3f7ad01a3c1fc27ded53b3399402445a",uri="sip:alex@147.102.232.82:4000",response="6529e46977dbe28816d2cac62c788beb",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK195ac1a0239eb85f3d20b3fefb3ad167,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@eff74efb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@154864a
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21565109
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK195ac1a0239eb85f3d20b3fefb3ad167,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@eff74efb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@154864a
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21565109
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21565109
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK195ac1a0239eb85f3d20b3fefb3ad167,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@eff74efb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@154864a
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:21565109
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21565109
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK7228866b9958570eaec633d8d41665ae
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=21565109
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Route: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@696c7783
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18a49e0
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@696c7783
dialog =  gov.nist.javax.sip.stack.SIPDialog@18a49e0
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@82d37
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bb4cc507
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@18a49e0
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@eff74efb, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:53340 SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=21565109
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKb7d593591a606dceec0867d295513655,SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Route: "jmaria" <sip:147.102.232.82:53340;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=21565109
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bKfbcfb22299fa74d94e6a8a6216a942c1
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@84bd0a45
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@154864a
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=21565109
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
Via: SIP/2.0/UDP 147.102.232.82:53340;branch=z9hG4bKfbcfb22299fa74d94e6a8a6216a942c1
Proxy-Authenticate: Digest realm="nist.gov",nonce="d6c6e76aa25d0e645c1de1359d684a09",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK280825ddfd8ae590f9345239450a5fb9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f3abd4a5c71ccafff7696b079ee8f2e4@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK280825ddfd8ae590f9345239450a5fb9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a1ce59b7f7320e3d1d4b958a4c5ea48a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKcbbcfe7e0a8ef90a90ddf7b7321e3b8f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKcbbcfe7e0a8ef90a90ddf7b7321e3b8f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3fff6f05afa8c3d776d9f7a684eddbd0",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK23eb67cbea81fa34a266d2ca37838ceb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3fff6f05afa8c3d776d9f7a684eddbd0",uri="sip:147.102.232.82:5061;transport=udp",response="31f2092ba2b5f8fe71e0d869ce54ba87",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3fff6f05afa8c3d776d9f7a684eddbd0!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 31f2092ba2b5f8fe71e0d869ce54ba87 with our computed response: 31f2092ba2b5f8fe71e0d869ce54ba87
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5060 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:53340;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK23eb67cbea81fa34a266d2ca37838ceb
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 65dc55317744d7d6d30f3f54c29e748b@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK23eb67cbea81fa34a266d2ca37838ceb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3fff6f05afa8c3d776d9f7a684eddbd0",uri="sip:147.102.232.82:5061;transport=udp",response="31f2092ba2b5f8fe71e0d869ce54ba87",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKbc4c4331b73ce384b966e9cb50c4771c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKbc4c4331b73ce384b966e9cb50c4771c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2946ac073cf1c6559bf69242041a5250",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKbc2e0feee6817d5769e4488aeb5e3b46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="2946ac073cf1c6559bf69242041a5250",uri="sip:147.102.232.82:5061;transport=udp",response="eb46d527cef610e534a904b1a1084b98",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2946ac073cf1c6559bf69242041a5250!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: eb46d527cef610e534a904b1a1084b98 with our computed response: eb46d527cef610e534a904b1a1084b98
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKbc2e0feee6817d5769e4488aeb5e3b46
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKbc2e0feee6817d5769e4488aeb5e3b46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="2946ac073cf1c6559bf69242041a5250",uri="sip:147.102.232.82:5061;transport=udp",response="eb46d527cef610e534a904b1a1084b98",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK7c1a074cf27e5c401907c7e40567face
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK7c1a074cf27e5c401907c7e40567face
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="313ca4089b2ba0b5bf18199298be845e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bKe0cfa2017e7ff7cc9f6c04730c2eef88
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="313ca4089b2ba0b5bf18199298be845e",uri="sip:147.102.232.82:5061;transport=udp",response="0fab9445ef03a8ad7a516d104b795609",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:313ca4089b2ba0b5bf18199298be845e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 0fab9445ef03a8ad7a516d104b795609 with our computed response: 0fab9445ef03a8ad7a516d104b795609
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:6113 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bKe0cfa2017e7ff7cc9f6c04730c2eef88
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bKe0cfa2017e7ff7cc9f6c04730c2eef88
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="313ca4089b2ba0b5bf18199298be845e",uri="sip:147.102.232.82:5061;transport=udp",response="0fab9445ef03a8ad7a516d104b795609",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="822683914f95eb9b2e361e794fdb7318",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK789efaac2c626722a8a006812c0a428f
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="822683914f95eb9b2e361e794fdb7318",uri="sip:alex@147.102.232.82:4000",response="ecc4050482b81ef34a9eb830884d389f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:822683914f95eb9b2e361e794fdb7318!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ecc4050482b81ef34a9eb830884d389f with our computed response: ecc4050482b81ef34a9eb830884d389f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7d46a
dialog =  gov.nist.javax.sip.stack.SIPDialog@56f631
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKaead778d2e4af8725694ce348a8fb4fd,SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK789efaac2c626722a8a006812c0a428f
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="822683914f95eb9b2e361e794fdb7318",uri="sip:alex@147.102.232.82:4000",response="ecc4050482b81ef34a9eb830884d389f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK32c4fa11363174f1f181066fad479c5b,SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK789efaac2c626722a8a006812c0a428f
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="822683914f95eb9b2e361e794fdb7318",uri="sip:alex@147.102.232.82:4000",response="ecc4050482b81ef34a9eb830884d389f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=27187756
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK32c4fa11363174f1f181066fad479c5b,SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK789efaac2c626722a8a006812c0a428f
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a29a68ca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18235ed
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=27187756
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK789efaac2c626722a8a006812c0a428f
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=27187756
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK32c4fa11363174f1f181066fad479c5b,SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK789efaac2c626722a8a006812c0a428f
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a29a68ca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18235ed
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:27187756
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=27187756
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK789efaac2c626722a8a006812c0a428f
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKbd0d151b983900b2afc9987c9a1ee0ff
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKbd0d151b983900b2afc9987c9a1ee0ff
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="35c2b13a92afa635c326dd35d7dda014",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKce75243b24ef51f085df100939645386
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="35c2b13a92afa635c326dd35d7dda014",uri="sip:147.102.232.82:5061;transport=udp",response="8f76a32c675b374b18ae075620340438",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:35c2b13a92afa635c326dd35d7dda014!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 8f76a32c675b374b18ae075620340438 with our computed response: 8f76a32c675b374b18ae075620340438
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5060 has been removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKce75243b24ef51f085df100939645386
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69962ff7942c9ed43cfce2e0470cb6b7@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKce75243b24ef51f085df100939645386
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="35c2b13a92afa635c326dd35d7dda014",uri="sip:147.102.232.82:5061;transport=udp",response="8f76a32c675b374b18ae075620340438",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request CANCEL received:
CANCEL sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 3aa628feb5d4a135693dbc63dedda08b@147.102.232.82
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK168500c0fd9c0abf84f1669ba55fed20
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bKe07044461be2ac7f2a649a4fb5a4cf67
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bKe07044461be2ac7f2a649a4fb5a4cf67
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c4b65aa99b0e6bbb60714df9107f9673",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK4a0ec224c37581b75276b8e66aaae6b3
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="c4b65aa99b0e6bbb60714df9107f9673",uri="sip:147.102.232.82:5061;transport=udp",response="554399de38d7de7f1c7e3b0a2dde60b2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c4b65aa99b0e6bbb60714df9107f9673!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 554399de38d7de7f1c7e3b0a2dde60b2 with our computed response: 554399de38d7de7f1c7e3b0a2dde60b2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:6113 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK4a0ec224c37581b75276b8e66aaae6b3
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 615dc9a42c57e34b72779d74b5b202b4@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:6113;branch=z9hG4bK4a0ec224c37581b75276b8e66aaae6b3
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:6113;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="c4b65aa99b0e6bbb60714df9107f9673",uri="sip:147.102.232.82:5061;transport=udp",response="554399de38d7de7f1c7e3b0a2dde60b2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: b669ad3736fcf68c2b1223cd701d4e91@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK2ba65a2a4ca249f04e07badf10daa335
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b669ad3736fcf68c2b1223cd701d4e91@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK2ba65a2a4ca249f04e07badf10daa335
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6322671401b7fe2246238c17bd0a22b5",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: b669ad3736fcf68c2b1223cd701d4e91@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK723851fc05191d01e1f960b0c7103ddf
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6322671401b7fe2246238c17bd0a22b5",uri="sip:147.102.232.82:5061;transport=udp",response="ecddcfefc8010ec27fbb24765e094568",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6322671401b7fe2246238c17bd0a22b5!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ecddcfefc8010ec27fbb24765e094568 with our computed response: ecddcfefc8010ec27fbb24765e094568
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b669ad3736fcf68c2b1223cd701d4e91@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK723851fc05191d01e1f960b0c7103ddf
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: b669ad3736fcf68c2b1223cd701d4e91@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK723851fc05191d01e1f960b0c7103ddf
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6322671401b7fe2246238c17bd0a22b5",uri="sip:147.102.232.82:5061;transport=udp",response="ecddcfefc8010ec27fbb24765e094568",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: c77e0c6aad1427405556122029d8f62c@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bKa86704074b308178ede52fd7d9ba2953
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c77e0c6aad1427405556122029d8f62c@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bKa86704074b308178ede52fd7d9ba2953
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6ce9c66cfd6e800b19899d778cbed4a9",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: c77e0c6aad1427405556122029d8f62c@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bK9e8d8e8f6e108d4dbeb484bb9ec45f43
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="6ce9c66cfd6e800b19899d778cbed4a9",uri="sip:147.102.232.82:5061;transport=udp",response="fa386ff7d9eb6ca757f9a390d9423762",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6ce9c66cfd6e800b19899d778cbed4a9!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: fa386ff7d9eb6ca757f9a390d9423762 with our computed response: fa386ff7d9eb6ca757f9a390d9423762
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:28317 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c77e0c6aad1427405556122029d8f62c@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bK9e8d8e8f6e108d4dbeb484bb9ec45f43
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: c77e0c6aad1427405556122029d8f62c@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bK9e8d8e8f6e108d4dbeb484bb9ec45f43
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="6ce9c66cfd6e800b19899d778cbed4a9",uri="sip:147.102.232.82:5061;transport=udp",response="fa386ff7d9eb6ca757f9a390d9423762",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5d9473d1e24414395fec8fe6d481d911
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5d9473d1e24414395fec8fe6d481d911
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="142b2eaa5a9d7c2057c3946a42f21d64",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5d9473d1e24414395fec8fe6d481d911
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0910ac20fe395ecfc718472a5a0bc21e
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="142b2eaa5a9d7c2057c3946a42f21d64",uri="sip:alex@147.102.232.82:4000",response="8eb8155fb579734a0ee4aa47b593fe7d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:142b2eaa5a9d7c2057c3946a42f21d64!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 8eb8155fb579734a0ee4aa47b593fe7d with our computed response: 8eb8155fb579734a0ee4aa47b593fe7d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@8bfe1b2d
dialog =  gov.nist.javax.sip.stack.SIPDialog@1497b1
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:28317 SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK310f43dd880043f795daba32374fb7d7,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0910ac20fe395ecfc718472a5a0bc21e
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="142b2eaa5a9d7c2057c3946a42f21d64",uri="sip:alex@147.102.232.82:4000",response="8eb8155fb579734a0ee4aa47b593fe7d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:28317 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:28317 SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK721cb04481ffddc4fe227127de8def10,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0910ac20fe395ecfc718472a5a0bc21e
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="142b2eaa5a9d7c2057c3946a42f21d64",uri="sip:alex@147.102.232.82:4000",response="8eb8155fb579734a0ee4aa47b593fe7d",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK721cb04481ffddc4fe227127de8def10,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0910ac20fe395ecfc718472a5a0bc21e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@78283def
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@13c1b69
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0910ac20fe395ecfc718472a5a0bc21e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK721cb04481ffddc4fe227127de8def10,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0910ac20fe395ecfc718472a5a0bc21e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@78283def
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@13c1b69
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:7226213
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0910ac20fe395ecfc718472a5a0bc21e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Route: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f3baed1b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1497b1
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@f3baed1b
dialog =  gov.nist.javax.sip.stack.SIPDialog@1497b1
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1526e3
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@8bfe1b2d
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1497b1
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@78283def, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:28317 SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKa76c5cfffb1a38b70aa3e71bf94cca1e,SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Route: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6db6394b281d9b2cfebda1b9e5ed8079
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6db6394b281d9b2cfebda1b9e5ed8079
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="db963ca7b012ed6118833cc62b99258f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bKb1e8ee996361fb471a777ee6eb8c6e07
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b0538065
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@13c1b69
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 07e17c572d83a261bdf3b00116051e80@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bKb1e8ee996361fb471a777ee6eb8c6e07
Proxy-Authenticate: Digest realm="nist.gov",nonce="dffe34bfd5fba2c8106b68c0abfd5eec",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKf28a124805c4fbff2bab7ecc9ed91867
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKf28a124805c4fbff2bab7ecc9ed91867
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="845c6f53610208b3d8bfe48705b43b46",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKf28a124805c4fbff2bab7ecc9ed91867
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK77cac1cecb1d6298164b23d2576fc2af
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="845c6f53610208b3d8bfe48705b43b46",uri="sip:alex@147.102.232.82:4000",response="4178d6f8b94059e758c83df0aad1f564",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:845c6f53610208b3d8bfe48705b43b46!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 4178d6f8b94059e758c83df0aad1f564 with our computed response: 4178d6f8b94059e758c83df0aad1f564
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d270eba2
dialog =  gov.nist.javax.sip.stack.SIPDialog@7a3a30
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:28317 SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKc96172cad483008b0fd501d6c2ad42cc,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK77cac1cecb1d6298164b23d2576fc2af
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="845c6f53610208b3d8bfe48705b43b46",uri="sip:alex@147.102.232.82:4000",response="4178d6f8b94059e758c83df0aad1f564",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:28317 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:28317 SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK41c632fc76bebab4143ff9c2b392fc7a,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK77cac1cecb1d6298164b23d2576fc2af
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="845c6f53610208b3d8bfe48705b43b46",uri="sip:alex@147.102.232.82:4000",response="4178d6f8b94059e758c83df0aad1f564",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=33000296
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK41c632fc76bebab4143ff9c2b392fc7a,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK77cac1cecb1d6298164b23d2576fc2af
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@106015a7
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@825cf3
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=33000296
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK77cac1cecb1d6298164b23d2576fc2af
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=33000296
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK41c632fc76bebab4143ff9c2b392fc7a,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK77cac1cecb1d6298164b23d2576fc2af
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@106015a7
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@825cf3
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:33000296
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=33000296
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK77cac1cecb1d6298164b23d2576fc2af
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=33000296
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Route: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d3b5
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@7a3a30
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d3b5
dialog =  gov.nist.javax.sip.stack.SIPDialog@7a3a30
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@a42c31
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@d270eba2
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@7a3a30
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@106015a7, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:28317 SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=33000296
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK4fd23629da32477865a82faface134aa,SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Route: "jmaria" <sip:147.102.232.82:28317;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5d05f8cba542587d9a5c5f5cf3c20209
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5d05f8cba542587d9a5c5f5cf3c20209
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b167c9cb5d6463b7678249890da36736",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=33000296
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bK2ff731477fea3a1c1edf0ab8ed65756d
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f2f51f7
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@825cf3
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9804dfb8351b0b2dc87835945b590bde@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=33000296
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=10272075
Via: SIP/2.0/UDP 147.102.232.82:28317;branch=z9hG4bK2ff731477fea3a1c1edf0ab8ed65756d
Proxy-Authenticate: Digest realm="nist.gov",nonce="6d61ebf0ac912299e6667c42c53d509e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 3518cc7b4fb586bbf98f62c729922b14@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK45c180adafc9931c6ee93e5f0dbf4270
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3518cc7b4fb586bbf98f62c729922b14@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK45c180adafc9931c6ee93e5f0dbf4270
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b1025a7148f639d1d00d61d7c20a8eca",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 3518cc7b4fb586bbf98f62c729922b14@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKcb7412f9345a642e7027dfe8e7421662
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b1025a7148f639d1d00d61d7c20a8eca",uri="sip:147.102.232.82:5061;transport=udp",response="9bf13ccb3e7bb68da2efd8f9e7e61ca7",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b1025a7148f639d1d00d61d7c20a8eca!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9bf13ccb3e7bb68da2efd8f9e7e61ca7 with our computed response: 9bf13ccb3e7bb68da2efd8f9e7e61ca7
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3518cc7b4fb586bbf98f62c729922b14@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKcb7412f9345a642e7027dfe8e7421662
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 3518cc7b4fb586bbf98f62c729922b14@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKcb7412f9345a642e7027dfe8e7421662
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b1025a7148f639d1d00d61d7c20a8eca",uri="sip:147.102.232.82:5061;transport=udp",response="9bf13ccb3e7bb68da2efd8f9e7e61ca7",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 7a4efa5b87bd6bcb700051dcea2a19b1@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bK6aeef3883edb3750b54acbafc1f1834f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7a4efa5b87bd6bcb700051dcea2a19b1@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bK6aeef3883edb3750b54acbafc1f1834f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1acd04884c93862edaee704e5697a2d3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 7a4efa5b87bd6bcb700051dcea2a19b1@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKdccf42260b6257150cfe23418a730be0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1acd04884c93862edaee704e5697a2d3",uri="sip:147.102.232.82:5061;transport=udp",response="e5763e338b83146af96d03d5f44d6224",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1acd04884c93862edaee704e5697a2d3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e5763e338b83146af96d03d5f44d6224 with our computed response: e5763e338b83146af96d03d5f44d6224
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:59772 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7a4efa5b87bd6bcb700051dcea2a19b1@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKdccf42260b6257150cfe23418a730be0
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 7a4efa5b87bd6bcb700051dcea2a19b1@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKdccf42260b6257150cfe23418a730be0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1acd04884c93862edaee704e5697a2d3",uri="sip:147.102.232.82:5061;transport=udp",response="e5763e338b83146af96d03d5f44d6224",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bK384ecb091b0473b075740c0de38be4f6
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bK384ecb091b0473b075740c0de38be4f6
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="5d50b3930d658a259ef1446e01434035",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bK384ecb091b0473b075740c0de38be4f6
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="5d50b3930d658a259ef1446e01434035",uri="sip:alex@147.102.232.82:4000",response="1b73acaac81b3fd274520868d37e1eaf",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:5d50b3930d658a259ef1446e01434035!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1b73acaac81b3fd274520868d37e1eaf with our computed response: 1b73acaac81b3fd274520868d37e1eaf
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@64eb838f
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a06e38
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK8b1c39cb02ac6a1b5372d42ff9d78262,SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="5d50b3930d658a259ef1446e01434035",uri="sip:alex@147.102.232.82:4000",response="1b73acaac81b3fd274520868d37e1eaf",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK7f04b6604282622f9ff6d0838d4f8515,SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:59772;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="5d50b3930d658a259ef1446e01434035",uri="sip:alex@147.102.232.82:4000",response="1b73acaac81b3fd274520868d37e1eaf",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK7f04b6604282622f9ff6d0838d4f8515,SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c7cf016b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5dd582
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9788629
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK7f04b6604282622f9ff6d0838d4f8515,SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c7cf016b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5dd582
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9788629
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9788629
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK7f04b6604282622f9ff6d0838d4f8515,SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c7cf016b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5dd582
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:9788629
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9788629
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bKaffd612fd2a1e75dbd9b97707ab8ecba
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=9788629
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=3130322e3233322e38323a353937373
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@fd55c817
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a06e38
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@fd55c817
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a06e38
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@39e5b5
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@64eb838f
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1a06e38
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@c7cf016b, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:5060 SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=9788629
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK681390cd41a0256fcd756764865f09ac,SIP/2.0/UDP 147.102.232.82:59772;branch=3130322e3233322e38323a353937373
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=9788629
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc8b60a6f2a3371f6f3c355401b4be026
Route: "jmaria" <sip:147.102.232.82:59772;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5607cca9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5dd582
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=9788629
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc8b60a6f2a3371f6f3c355401b4be026
Proxy-Authenticate: Digest realm="nist.gov",nonce="695117eb80a232661f51e408d187ed68",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bK43ac5a4d4c7014b67a6ab932237d3a36
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 2c07fd1332cad199cf5e1965ab58ef36@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=16579154
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:59772;branch=z9hG4bK43ac5a4d4c7014b67a6ab932237d3a36
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a11db93c0c7818bd58dd5f0b3d2987f1",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK832b3a67ffc9a39bb996064d6530ce67
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK832b3a67ffc9a39bb996064d6530ce67
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2020f5eec3b1ebfa5c2029e254434722",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa1e901fa4b4580c8266a4f63da5030f6
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2020f5eec3b1ebfa5c2029e254434722",uri="sip:147.102.232.82:5061;transport=udp",response="947b6480c9d3e1c92ed047291da557c8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2020f5eec3b1ebfa5c2029e254434722!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 947b6480c9d3e1c92ed047291da557c8 with our computed response: 947b6480c9d3e1c92ed047291da557c8
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa1e901fa4b4580c8266a4f63da5030f6
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa1e901fa4b4580c8266a4f63da5030f6
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2020f5eec3b1ebfa5c2029e254434722",uri="sip:147.102.232.82:5061;transport=udp",response="947b6480c9d3e1c92ed047291da557c8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK41542e1de2697dffac8b95628706b995
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK41542e1de2697dffac8b95628706b995
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="19c8e17ac029179c609c9076b441a97d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK5e0af148f539490b96ceb225497c2813
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="19c8e17ac029179c609c9076b441a97d",uri="sip:147.102.232.82:5061;transport=udp",response="9a8113d6439a677bf42309be911eec03",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:19c8e17ac029179c609c9076b441a97d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9a8113d6439a677bf42309be911eec03 with our computed response: 9a8113d6439a677bf42309be911eec03
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:30811 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK5e0af148f539490b96ceb225497c2813
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK5e0af148f539490b96ceb225497c2813
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="19c8e17ac029179c609c9076b441a97d",uri="sip:147.102.232.82:5061;transport=udp",response="9a8113d6439a677bf42309be911eec03",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK8ddb9292adb704b6c25b97c2b1142897
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK8ddb9292adb704b6c25b97c2b1142897
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1a8393b91c49c70b26ffd3210c991221",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK8ddb9292adb704b6c25b97c2b1142897
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1a8393b91c49c70b26ffd3210c991221",uri="sip:alex@147.102.232.82:4000",response="3d20ae205ddaadcc8d4243c53086d410",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1a8393b91c49c70b26ffd3210c991221!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 3d20ae205ddaadcc8d4243c53086d410 with our computed response: 3d20ae205ddaadcc8d4243c53086d410
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@97fb897d
dialog =  gov.nist.javax.sip.stack.SIPDialog@df1832
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:30811 SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK0713b678f7b40755e9b5f99cbb7d326c,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1a8393b91c49c70b26ffd3210c991221",uri="sip:alex@147.102.232.82:4000",response="3d20ae205ddaadcc8d4243c53086d410",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:30811 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:30811 SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKea16389f5581ca06113390f4f90551ed,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1a8393b91c49c70b26ffd3210c991221",uri="sip:alex@147.102.232.82:4000",response="3d20ae205ddaadcc8d4243c53086d410",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKea16389f5581ca06113390f4f90551ed,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@69224aa7
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11381e7
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9492714
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKea16389f5581ca06113390f4f90551ed,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@69224aa7
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11381e7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9492714
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9492714
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKea16389f5581ca06113390f4f90551ed,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@69224aa7
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11381e7
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:9492714
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=9492714
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK93b857234c7674c33a0ac6f964d15ba4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=9492714
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Route: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@df4b2252
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@df1832
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@df4b2252
dialog =  gov.nist.javax.sip.stack.SIPDialog@df1832
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@b03be0
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@97fb897d
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@df1832
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@69224aa7, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:30811 SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=9492714
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKd500d94c1d3f3034ec47fa159f7f86e4,SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Route: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKb5623454299272ec89296828c9bff3ce
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKb5623454299272ec89296828c9bff3ce
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="30599cee542e8dffbee10e59d1530fed",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=9492714
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK09d9a0db6e1f2bc0f65f28288cd99da7
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1701b599
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11381e7
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 70d6daaf45eb7934699b1571c0b5f08d@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=9492714
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK09d9a0db6e1f2bc0f65f28288cd99da7
Proxy-Authenticate: Digest realm="nist.gov",nonce="1a86a29c9fb84df3243c7c0d3e1fddf7",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK9f15f69b2bdb4acc6e1f8c8adfb91c80
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK9f15f69b2bdb4acc6e1f8c8adfb91c80
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="cff68d87edb4694a70ad9069a6b64f85",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK503cfda768cc5378a8f705ca303fb42d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="cff68d87edb4694a70ad9069a6b64f85",uri="sip:147.102.232.82:5061;transport=udp",response="079aca5d3470ee266a2d011619f45aa7",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:cff68d87edb4694a70ad9069a6b64f85!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 079aca5d3470ee266a2d011619f45aa7 with our computed response: 079aca5d3470ee266a2d011619f45aa7
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5060 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK503cfda768cc5378a8f705ca303fb42d
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ec8e3e9ff101ea72205c44a5c7f31b4f@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK503cfda768cc5378a8f705ca303fb42d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="cff68d87edb4694a70ad9069a6b64f85",uri="sip:147.102.232.82:5061;transport=udp",response="079aca5d3470ee266a2d011619f45aa7",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bKa340085a065ee706b204a7ea4386ebf9
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bKa340085a065ee706b204a7ea4386ebf9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="55763b7f3680f2e230f3fb686a065de8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK7fc956a9426d4f1df9dd01829c696748
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="55763b7f3680f2e230f3fb686a065de8",uri="sip:147.102.232.82:5061;transport=udp",response="f86af76589a8e9c65052accb41177cec",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:55763b7f3680f2e230f3fb686a065de8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f86af76589a8e9c65052accb41177cec with our computed response: f86af76589a8e9c65052accb41177cec
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:30811 has been removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK7fc956a9426d4f1df9dd01829c696748
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: cb2d2f49c209cffb51fac54611afbb44@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:30811;branch=z9hG4bK7fc956a9426d4f1df9dd01829c696748
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:30811;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="55763b7f3680f2e230f3fb686a065de8",uri="sip:147.102.232.82:5061;transport=udp",response="f86af76589a8e9c65052accb41177cec",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK4e4352fb18227f0db4ac531eed4827aa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK4e4352fb18227f0db4ac531eed4827aa
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="5ced2fc32c575c265e66d69bce07c639",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK614ab75ee4644d7287c2b60f1babd77b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="5ced2fc32c575c265e66d69bce07c639",uri="sip:147.102.232.82:5061;transport=udp",response="4a51b66bc8b4db6fd8a8ed8e7de1cd55",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:5ced2fc32c575c265e66d69bce07c639!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 4a51b66bc8b4db6fd8a8ed8e7de1cd55 with our computed response: 4a51b66bc8b4db6fd8a8ed8e7de1cd55
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK614ab75ee4644d7287c2b60f1babd77b
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK614ab75ee4644d7287c2b60f1babd77b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="5ced2fc32c575c265e66d69bce07c639",uri="sip:147.102.232.82:5061;transport=udp",response="4a51b66bc8b4db6fd8a8ed8e7de1cd55",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bKd5fb57afb38b6867e3d13acddc317c9f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bKd5fb57afb38b6867e3d13acddc317c9f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="04906951bffdf66a6fcf9d38a0a8735b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK4c18f8721f86138741efc5dbeb93f15a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="04906951bffdf66a6fcf9d38a0a8735b",uri="sip:147.102.232.82:5061;transport=udp",response="4f38d1f4f7c7959ac82d873d8c01cef3",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:04906951bffdf66a6fcf9d38a0a8735b!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 4f38d1f4f7c7959ac82d873d8c01cef3 with our computed response: 4f38d1f4f7c7959ac82d873d8c01cef3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:4870 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK4c18f8721f86138741efc5dbeb93f15a
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK4c18f8721f86138741efc5dbeb93f15a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="04906951bffdf66a6fcf9d38a0a8735b",uri="sip:147.102.232.82:5061;transport=udp",response="4f38d1f4f7c7959ac82d873d8c01cef3",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bKb9e5e81eeaf0fedf6ee55848e2523b07
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bKb9e5e81eeaf0fedf6ee55848e2523b07
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="dc8f7a063e0976b2ae7ca72e7ce82b48",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bKb9e5e81eeaf0fedf6ee55848e2523b07
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="dc8f7a063e0976b2ae7ca72e7ce82b48",uri="sip:alex@147.102.232.82:4000",response="62e34a083d8291ce879380cc7060d066",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:dc8f7a063e0976b2ae7ca72e7ce82b48!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 62e34a083d8291ce879380cc7060d066 with our computed response: 62e34a083d8291ce879380cc7060d066
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bb85f42c
dialog =  gov.nist.javax.sip.stack.SIPDialog@1171b26
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK85166bd17a811c08ca58762b96a0885b,SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="dc8f7a063e0976b2ae7ca72e7ce82b48",uri="sip:alex@147.102.232.82:4000",response="62e34a083d8291ce879380cc7060d066",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKd5eba5fe05948c6c9dd38e4b73d771c1,SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="dc8f7a063e0976b2ae7ca72e7ce82b48",uri="sip:alex@147.102.232.82:4000",response="62e34a083d8291ce879380cc7060d066",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKd5eba5fe05948c6c9dd38e4b73d771c1,SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1c8376c4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@12a55aa
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=30340343
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKd5eba5fe05948c6c9dd38e4b73d771c1,SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1c8376c4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@12a55aa
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=30340343
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=30340343
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKd5eba5fe05948c6c9dd38e4b73d771c1,SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1c8376c4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@12a55aa
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:30340343
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=30340343
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK71503acf71c58a4621606a45b94aa9e4
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=30340343
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=2e3130322e3233322e38323a3438373
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3167ff82
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1171b26
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3167ff82
dialog =  gov.nist.javax.sip.stack.SIPDialog@1171b26
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@331059
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bb85f42c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1171b26
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@1c8376c4, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:5060 SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=30340343
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKda25204b397db3664c23a9643a69c36a,SIP/2.0/UDP 147.102.232.82:4870;branch=2e3130322e3233322e38323a3438373
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=30340343
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK9a785264bd551db2703d17ec0969962a
Route: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b2482d8e
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@12a55aa
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=30340343
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK9a785264bd551db2703d17ec0969962a
Proxy-Authenticate: Digest realm="nist.gov",nonce="f22389b6034a7d33e9a02c8d57d86cf0",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK7d50a871a6d7e2bd2dcb86f068ebe2cf
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ef101f6fe4a029a0bf83e0375f74215e@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK7d50a871a6d7e2bd2dcb86f068ebe2cf
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="546542cfd2cc5afb3fbe500af9ad2fc2",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK3b2b381bd39405af50b689f17792430a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK3b2b381bd39405af50b689f17792430a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="33d7720c745d9358e589380cfba159f2",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK301415e42d13343a102e99538c993757
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="33d7720c745d9358e589380cfba159f2",uri="sip:147.102.232.82:5061;transport=udp",response="1a79c66159d5e7b0ce2f2d8cbc22d160",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:33d7720c745d9358e589380cfba159f2!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1a79c66159d5e7b0ce2f2d8cbc22d160 with our computed response: 1a79c66159d5e7b0ce2f2d8cbc22d160
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:41243 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK301415e42d13343a102e99538c993757
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK301415e42d13343a102e99538c993757
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="33d7720c745d9358e589380cfba159f2",uri="sip:147.102.232.82:5061;transport=udp",response="1a79c66159d5e7b0ce2f2d8cbc22d160",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bK4e54094e34f31bd351112e6f1ee0fd66
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bK4e54094e34f31bd351112e6f1ee0fd66
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b651ec37765238bbb3605ce503f33556",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bK049825d032844e8f1c3334922bc640fd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b651ec37765238bbb3605ce503f33556",uri="sip:147.102.232.82:5061;transport=udp",response="953febd10be81522c6d61f155f3b42c0",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b651ec37765238bbb3605ce503f33556!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 953febd10be81522c6d61f155f3b42c0 with our computed response: 953febd10be81522c6d61f155f3b42c0
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5751 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bK049825d032844e8f1c3334922bc640fd
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bK049825d032844e8f1c3334922bc640fd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b651ec37765238bbb3605ce503f33556",uri="sip:147.102.232.82:5061;transport=udp",response="953febd10be81522c6d61f155f3b42c0",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc665e56eed91a88d70d1b5d82d01b13c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKc665e56eed91a88d70d1b5d82d01b13c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="60330303f597de964cd5468e009f06e4",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK906b2fd0a29edc2d3ba1f51e6c4a59eb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="60330303f597de964cd5468e009f06e4",uri="sip:147.102.232.82:5061;transport=udp",response="e89d459ef4436e479d3b066146abc5a2",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:60330303f597de964cd5468e009f06e4!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e89d459ef4436e479d3b066146abc5a2 with our computed response: e89d459ef4436e479d3b066146abc5a2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK906b2fd0a29edc2d3ba1f51e6c4a59eb
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 371148073b6ccba09201cd35dfe9a6dd@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK906b2fd0a29edc2d3ba1f51e6c4a59eb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="60330303f597de964cd5468e009f06e4",uri="sip:147.102.232.82:5061;transport=udp",response="e89d459ef4436e479d3b066146abc5a2",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bKa3c46c376f5f036e54d905b0589478a5
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bKa3c46c376f5f036e54d905b0589478a5
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b8533b1531bee9de303e2940feccdf58",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK47c2dd0d5996f1b8b7b203fd35c82f36
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="b8533b1531bee9de303e2940feccdf58",uri="sip:147.102.232.82:5061;transport=udp",response="09832b6ae6d5eb62b57ac798a11c690f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b8533b1531bee9de303e2940feccdf58!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 09832b6ae6d5eb62b57ac798a11c690f with our computed response: 09832b6ae6d5eb62b57ac798a11c690f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK47c2dd0d5996f1b8b7b203fd35c82f36
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 589d3f9b363dd140e612c506b8393176@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:4870;branch=z9hG4bK47c2dd0d5996f1b8b7b203fd35c82f36
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:4870;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="b8533b1531bee9de303e2940feccdf58",uri="sip:147.102.232.82:5061;transport=udp",response="09832b6ae6d5eb62b57ac798a11c690f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK58d079f2b933d1426fd804ec3503d4a2
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK58d079f2b933d1426fd804ec3503d4a2
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="4d913e5cb76d0d9a5e1833b4b9365744",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK52c2414f198fa037dafd4a325994481f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="4d913e5cb76d0d9a5e1833b4b9365744",uri="sip:147.102.232.82:5061;transport=udp",response="9f9c7a9bff327c72d1ce873cd4f56508",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4d913e5cb76d0d9a5e1833b4b9365744!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9f9c7a9bff327c72d1ce873cd4f56508 with our computed response: 9f9c7a9bff327c72d1ce873cd4f56508
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:41243 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK52c2414f198fa037dafd4a325994481f
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 67fcfddef4ad083a1a1b344f62d7064c@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:41243;branch=z9hG4bK52c2414f198fa037dafd4a325994481f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:41243;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="4d913e5cb76d0d9a5e1833b4b9365744",uri="sip:147.102.232.82:5061;transport=udp",response="9f9c7a9bff327c72d1ce873cd4f56508",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bK26d18175f038dbfadbaaa0a75c65215e
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bK26d18175f038dbfadbaaa0a75c65215e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="d4cc41358b2704e8855f66ea89cf0b13",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bKddc9658a1e68b5b6ddbe47813bc4eb83
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="d4cc41358b2704e8855f66ea89cf0b13",uri="sip:147.102.232.82:5061;transport=udp",response="e2a16bed35c2c66729bb2a33ddc81418",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:d4cc41358b2704e8855f66ea89cf0b13!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e2a16bed35c2c66729bb2a33ddc81418 with our computed response: e2a16bed35c2c66729bb2a33ddc81418
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5751 has been removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bKddc9658a1e68b5b6ddbe47813bc4eb83
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: ac275013492a91ab1fefda0fb802b2b3@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5751;branch=z9hG4bKddc9658a1e68b5b6ddbe47813bc4eb83
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5751;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="d4cc41358b2704e8855f66ea89cf0b13",uri="sip:147.102.232.82:5061;transport=udp",response="e2a16bed35c2c66729bb2a33ddc81418",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKefb25b6dac5824eeab926dc639be1d85
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKefb25b6dac5824eeab926dc639be1d85
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="4899e569b946cd0af4b17903de187547",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK46b1af39abb303cfa95a9878c8dac496
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="4899e569b946cd0af4b17903de187547",uri="sip:147.102.232.82:5061;transport=udp",response="37cc3d35e8ac243031d9818488565358",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4899e569b946cd0af4b17903de187547!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 37cc3d35e8ac243031d9818488565358 with our computed response: 37cc3d35e8ac243031d9818488565358
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK46b1af39abb303cfa95a9878c8dac496
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK46b1af39abb303cfa95a9878c8dac496
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="4899e569b946cd0af4b17903de187547",uri="sip:147.102.232.82:5061;transport=udp",response="37cc3d35e8ac243031d9818488565358",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK46b1af39abb303cfa95a9878c8dac496
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="4899e569b946cd0af4b17903de187547",uri="sip:147.102.232.82:5061;transport=udp",response="37cc3d35e8ac243031d9818488565358",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4899e569b946cd0af4b17903de187547!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 37cc3d35e8ac243031d9818488565358 with our computed response: 37cc3d35e8ac243031d9818488565358
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
Contact to add:sip:147.102.232.82:5060 ?
Contact in the list:sip:147.102.232.82:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:147.102.232.82:5060 has been updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.82:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK46b1af39abb303cfa95a9878c8dac496
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK46b1af39abb303cfa95a9878c8dac496
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="4899e569b946cd0af4b17903de187547",uri="sip:147.102.232.82:5061;transport=udp",response="37cc3d35e8ac243031d9818488565358",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69fdbbc04cd97615189edf85dc8e5031@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK8d80f5f416fb196a5886159d18e17bda
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 69fdbbc04cd97615189edf85dc8e5031@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK8d80f5f416fb196a5886159d18e17bda
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ccd314c9919f6439d8b3329c570c2077",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69fdbbc04cd97615189edf85dc8e5031@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK63a1e34b3e5f32b0eda6ab3bbb613b79
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="ccd314c9919f6439d8b3329c570c2077",uri="sip:147.102.232.82:5061;transport=udp",response="a80b7a0d80555e657c4ba854b9e18c73",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ccd314c9919f6439d8b3329c570c2077!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a80b7a0d80555e657c4ba854b9e18c73 with our computed response: a80b7a0d80555e657c4ba854b9e18c73
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:12905 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 69fdbbc04cd97615189edf85dc8e5031@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK63a1e34b3e5f32b0eda6ab3bbb613b79
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 69fdbbc04cd97615189edf85dc8e5031@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK63a1e34b3e5f32b0eda6ab3bbb613b79
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="ccd314c9919f6439d8b3329c570c2077",uri="sip:147.102.232.82:5061;transport=udp",response="a80b7a0d80555e657c4ba854b9e18c73",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK08c9a1c3e2103d35f1d578395594d12d
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK08c9a1c3e2103d35f1d578395594d12d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="fb00198609f4c6fa4fd8beb9684ee14e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK08c9a1c3e2103d35f1d578395594d12d
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK38905676184add029ea5d5da700674d6
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fb00198609f4c6fa4fd8beb9684ee14e",uri="sip:alex@147.102.232.82:4000",response="beae575ec34099c5f0c3729e21b1b5d8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:fb00198609f4c6fa4fd8beb9684ee14e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: beae575ec34099c5f0c3729e21b1b5d8 with our computed response: beae575ec34099c5f0c3729e21b1b5d8
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@91b5336d
dialog =  gov.nist.javax.sip.stack.SIPDialog@b60b93
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK4ae26bf454dbc8093d03603023a482a0,SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK38905676184add029ea5d5da700674d6
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fb00198609f4c6fa4fd8beb9684ee14e",uri="sip:alex@147.102.232.82:4000",response="beae575ec34099c5f0c3729e21b1b5d8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK7f1d9ec9e7a370a5f593b3f66b35a228,SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK38905676184add029ea5d5da700674d6
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:12905;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="fb00198609f4c6fa4fd8beb9684ee14e",uri="sip:alex@147.102.232.82:4000",response="beae575ec34099c5f0c3729e21b1b5d8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK7f1d9ec9e7a370a5f593b3f66b35a228,SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK38905676184add029ea5d5da700674d6
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b6250723
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@178460d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK38905676184add029ea5d5da700674d6
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK7f1d9ec9e7a370a5f593b3f66b35a228,SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK38905676184add029ea5d5da700674d6
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b6250723
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@178460d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13359904
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bK38905676184add029ea5d5da700674d6
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=3130322e3233322e38323a313239303
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5726dce
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b60b93
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5726dce
dialog =  gov.nist.javax.sip.stack.SIPDialog@b60b93
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1e808ca
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@91b5336d
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@b60b93
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@b6250723, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:5060 SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKf837d2687cb8161288fb6f638c1706d2,SIP/2.0/UDP 147.102.232.82:12905;branch=3130322e3233322e38323a313239303
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bKd622cca146e16a29c4eccb8cd22ce38e
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:12905;branch=z9hG4bKd622cca146e16a29c4eccb8cd22ce38e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c057dabdbd5ec8cbe68eaa3449bc53c5",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=13359904
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdc2cd77ba16aa9f7ea4985a939268cae
Route: "jmaria" <sip:147.102.232.82:12905;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@db65f640
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@178460d
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 886f242f6df45e0f7d2c50d07283e269@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=13359904
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=24446859
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdc2cd77ba16aa9f7ea4985a939268cae
Proxy-Authenticate: Digest realm="nist.gov",nonce="bacea31cea31e6026a15874e7d88ab75",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKb1c4a199c3dc411b6451ba3d94174375
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKb1c4a199c3dc411b6451ba3d94174375
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="400115e8bda9f189196b59b04e450c2c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK52a469bb752f5726f132c0e0b9bc365d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="400115e8bda9f189196b59b04e450c2c",uri="sip:147.102.232.82:5061;transport=udp",response="c7626aad0e9ea30d64501643e7c3c1d7",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:400115e8bda9f189196b59b04e450c2c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c7626aad0e9ea30d64501643e7c3c1d7 with our computed response: c7626aad0e9ea30d64501643e7c3c1d7
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK52a469bb752f5726f132c0e0b9bc365d
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 041835130d0305855b121673b8227a64@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK52a469bb752f5726f132c0e0b9bc365d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="400115e8bda9f189196b59b04e450c2c",uri="sip:147.102.232.82:5061;transport=udp",response="c7626aad0e9ea30d64501643e7c3c1d7",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK8d91d503b645406dd93d25d606afaffb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK8d91d503b645406dd93d25d606afaffb
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1c9a2d1d3ae9fadce34a7c0b06ee1c2a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdb2cf74c014c230fe0134d3e0b220b7d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1c9a2d1d3ae9fadce34a7c0b06ee1c2a",uri="sip:147.102.232.82:5061;transport=udp",response="ea7e54f8aff0a1dd5f592b2e243568ac",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1c9a2d1d3ae9fadce34a7c0b06ee1c2a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ea7e54f8aff0a1dd5f592b2e243568ac with our computed response: ea7e54f8aff0a1dd5f592b2e243568ac
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdb2cf74c014c230fe0134d3e0b220b7d
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdb2cf74c014c230fe0134d3e0b220b7d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1c9a2d1d3ae9fadce34a7c0b06ee1c2a",uri="sip:147.102.232.82:5061;transport=udp",response="ea7e54f8aff0a1dd5f592b2e243568ac",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK4f279ec8e4f2a9bde5a6abe39710f546
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK4f279ec8e4f2a9bde5a6abe39710f546
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="5a319873d92cdcfd9fabf5e1e142aede",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK6b9a257846edcbd2b28a7a659e435c3d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="5a319873d92cdcfd9fabf5e1e142aede",uri="sip:147.102.232.82:5061;transport=udp",response="a030ec12c4ab71e9f610ae649d72f9c2",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:5a319873d92cdcfd9fabf5e1e142aede!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a030ec12c4ab71e9f610ae649d72f9c2 with our computed response: a030ec12c4ab71e9f610ae649d72f9c2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:1711 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK6b9a257846edcbd2b28a7a659e435c3d
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK6b9a257846edcbd2b28a7a659e435c3d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="5a319873d92cdcfd9fabf5e1e142aede",uri="sip:147.102.232.82:5061;transport=udp",response="a030ec12c4ab71e9f610ae649d72f9c2",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa88e116adc4d83263e7a1a54ead3103a
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa88e116adc4d83263e7a1a54ead3103a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="08725ad7422ccd71b5a9653d033a47bb",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa88e116adc4d83263e7a1a54ead3103a
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0b7fec13adffb57b3a47feacd2091a68
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="08725ad7422ccd71b5a9653d033a47bb",uri="sip:alex@147.102.232.82:4000",response="abfb58fce4b62fbea7ae86cd4fe7d555",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:08725ad7422ccd71b5a9653d033a47bb!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: abfb58fce4b62fbea7ae86cd4fe7d555 with our computed response: abfb58fce4b62fbea7ae86cd4fe7d555
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@9e81d69c
dialog =  gov.nist.javax.sip.stack.SIPDialog@153c375
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:1711 SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK32357e131f8b5445fe9276bee7a872fa,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0b7fec13adffb57b3a47feacd2091a68
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="08725ad7422ccd71b5a9653d033a47bb",uri="sip:alex@147.102.232.82:4000",response="abfb58fce4b62fbea7ae86cd4fe7d555",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:1711 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:1711 SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK81ef2fb019a6a9583c320bc4befbc273,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0b7fec13adffb57b3a47feacd2091a68
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="08725ad7422ccd71b5a9653d033a47bb",uri="sip:alex@147.102.232.82:4000",response="abfb58fce4b62fbea7ae86cd4fe7d555",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21680077
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK81ef2fb019a6a9583c320bc4befbc273,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0b7fec13adffb57b3a47feacd2091a68
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e8acc3ef
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15ad5c6
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21680077
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0b7fec13adffb57b3a47feacd2091a68
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21680077
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK81ef2fb019a6a9583c320bc4befbc273,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0b7fec13adffb57b3a47feacd2091a68
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e8acc3ef
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15ad5c6
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:21680077
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=21680077
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK0b7fec13adffb57b3a47feacd2091a68
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=21680077
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Route: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@58675a04
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@153c375
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@58675a04
dialog =  gov.nist.javax.sip.stack.SIPDialog@153c375
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@179dce4
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@9e81d69c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@153c375
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@e8acc3ef, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:1711 SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=21680077
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK6f0b1aea3cc57dfc5e45150149e477a3,SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Route: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=21680077
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK5e486015db9a1089b6d03b349125340b
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@956a1b95
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15ad5c6
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=21680077
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK5e486015db9a1089b6d03b349125340b
Proxy-Authenticate: Digest realm="nist.gov",nonce="93e70968c3ea8d674981baf826b6fa02",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK3679821e9ce7c37b4ffb33d808ccee33
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3d4f77f81f0189d6f3b6141bb5633053@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK3679821e9ce7c37b4ffb33d808ccee33
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="d7dc527fdfab06d5524576bf838fa3fd",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK1d2bfcc45d0cce5da9c9a87fe42ae81d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK1d2bfcc45d0cce5da9c9a87fe42ae81d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="cb4793c0f3abc786a78b08c127434637",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKaf23438b3850beca6a7e948e4c277ff9
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="cb4793c0f3abc786a78b08c127434637",uri="sip:147.102.232.82:5061;transport=udp",response="712b75593633a0f8f448fc5dc3798af2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:cb4793c0f3abc786a78b08c127434637!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 712b75593633a0f8f448fc5dc3798af2 with our computed response: 712b75593633a0f8f448fc5dc3798af2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5060 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKaf23438b3850beca6a7e948e4c277ff9
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: a9ae97c8873412145b96f7766d41c186@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKaf23438b3850beca6a7e948e4c277ff9
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="cb4793c0f3abc786a78b08c127434637",uri="sip:147.102.232.82:5061;transport=udp",response="712b75593633a0f8f448fc5dc3798af2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK0d4cbe32797fd7100315f4f2246d67a7
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bK0d4cbe32797fd7100315f4f2246d67a7
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c96737b241d0295fd482457ff49a7d11",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bKdfe89f84664b2633de8942820bd57324
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="c96737b241d0295fd482457ff49a7d11",uri="sip:147.102.232.82:5061;transport=udp",response="3a4f4cdcbcc845ee12fe71df7e445029",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c96737b241d0295fd482457ff49a7d11!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 3a4f4cdcbcc845ee12fe71df7e445029 with our computed response: 3a4f4cdcbcc845ee12fe71df7e445029
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:1711 has been removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bKdfe89f84664b2633de8942820bd57324
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 8611b0819cd7ec6b4c938bfa79e127bc@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:1711;branch=z9hG4bKdfe89f84664b2633de8942820bd57324
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:1711;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="c96737b241d0295fd482457ff49a7d11",uri="sip:147.102.232.82:5061;transport=udp",response="3a4f4cdcbcc845ee12fe71df7e445029",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=15055830
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdf4ed92939850d6256cd76636a2aeaac
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdf4ed92939850d6256cd76636a2aeaac
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f03d46248b4d4c915861d7cd5d3e92d4",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKabbedebc7466314423516f005762643a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f03d46248b4d4c915861d7cd5d3e92d4",uri="sip:147.102.232.82:5061;transport=udp",response="e1a3b9793361848a4490844ca2e79798",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f03d46248b4d4c915861d7cd5d3e92d4!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e1a3b9793361848a4490844ca2e79798 with our computed response: e1a3b9793361848a4490844ca2e79798
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKabbedebc7466314423516f005762643a
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKabbedebc7466314423516f005762643a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f03d46248b4d4c915861d7cd5d3e92d4",uri="sip:147.102.232.82:5061;transport=udp",response="e1a3b9793361848a4490844ca2e79798",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKb904268c27b5284141ebbbb7e80be52d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKb904268c27b5284141ebbbb7e80be52d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="21739d9003ce06ce3db778b855775e42",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKea85c1a411c1ba8b8a515939d515f4d7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21739d9003ce06ce3db778b855775e42",uri="sip:147.102.232.82:5061;transport=udp",response="26ca203af81e5d45a856e1e1c992a5ab",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:21739d9003ce06ce3db778b855775e42!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 26ca203af81e5d45a856e1e1c992a5ab with our computed response: 26ca203af81e5d45a856e1e1c992a5ab
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:7700 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKea85c1a411c1ba8b8a515939d515f4d7
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKea85c1a411c1ba8b8a515939d515f4d7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21739d9003ce06ce3db778b855775e42",uri="sip:147.102.232.82:5061;transport=udp",response="26ca203af81e5d45a856e1e1c992a5ab",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKa296dc622c2ebbb22cb1efe4b81cd34a
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKa296dc622c2ebbb22cb1efe4b81cd34a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="4225d570e7b3055f4003a19c8b8fd496",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bKa296dc622c2ebbb22cb1efe4b81cd34a
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK2ff685ae57c17a16e8425aafc197b7e5
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="4225d570e7b3055f4003a19c8b8fd496",uri="sip:alex@147.102.232.82:4000",response="c6c1e97c0468d1c4e997f8399064790c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4225d570e7b3055f4003a19c8b8fd496!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c6c1e97c0468d1c4e997f8399064790c with our computed response: c6c1e97c0468d1c4e997f8399064790c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bef30716
dialog =  gov.nist.javax.sip.stack.SIPDialog@88e2dd
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK6ea42e879d7abf8687e36ed9d8b6d04f,SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK2ff685ae57c17a16e8425aafc197b7e5
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="4225d570e7b3055f4003a19c8b8fd496",uri="sip:alex@147.102.232.82:4000",response="c6c1e97c0468d1c4e997f8399064790c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKc1e1372f57fa38511d7a897e3ff89c03,SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK2ff685ae57c17a16e8425aafc197b7e5
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="4225d570e7b3055f4003a19c8b8fd496",uri="sip:alex@147.102.232.82:4000",response="c6c1e97c0468d1c4e997f8399064790c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKc1e1372f57fa38511d7a897e3ff89c03,SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK2ff685ae57c17a16e8425aafc197b7e5
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@79f9df2d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d1e730
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK2ff685ae57c17a16e8425aafc197b7e5
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKc1e1372f57fa38511d7a897e3ff89c03,SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK2ff685ae57c17a16e8425aafc197b7e5
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@79f9df2d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d1e730
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:7226213
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK2ff685ae57c17a16e8425aafc197b7e5
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=2e3130322e3233322e38323a3737303
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7c583321
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@88e2dd
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7c583321
dialog =  gov.nist.javax.sip.stack.SIPDialog@88e2dd
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@100363
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bef30716
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@88e2dd
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@79f9df2d, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:5060 SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=7226213
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK773cbaba6734ad67f419fc6cf07e4701,SIP/2.0/UDP 147.102.232.82:7700;branch=2e3130322e3233322e38323a3737303
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK364a45d91399b57c6729fcf7b285fa60
Route: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3f77f19e
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1d1e730
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK364a45d91399b57c6729fcf7b285fa60
Proxy-Authenticate: Digest realm="nist.gov",nonce="2a15ddc5c412839c8ece5146bcb66246",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK5b3293e00ca85999b4f4886503ca084d
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 292bcc5d36182bfd8a91ee9c3053243c@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK5b3293e00ca85999b4f4886503ca084d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="60cb1e0bb127552a478cd765c9de9d26",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK0224c358bc019df253fbbdb30887c95e
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK0224c358bc019df253fbbdb30887c95e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="690cce71a868f50a9a4b45adce21c728",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK0378cd233d210f83527ee67c568cdb57
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="690cce71a868f50a9a4b45adce21c728",uri="sip:147.102.232.82:5061;transport=udp",response="65b159e8638f6fa662649468e7487c2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:690cce71a868f50a9a4b45adce21c728!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 65b159e8638f6fa662649468e7487c2b with our computed response: 65b159e8638f6fa662649468e7487c2b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:7700 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK0378cd233d210f83527ee67c568cdb57
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 743c8c9a71e5b7b7df860f98f4824b99@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:7700;branch=z9hG4bK0378cd233d210f83527ee67c568cdb57
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:7700;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="690cce71a868f50a9a4b45adce21c728",uri="sip:147.102.232.82:5061;transport=udp",response="65b159e8638f6fa662649468e7487c2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK871c84c96fedbb1f952308b208e9d3d7
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK871c84c96fedbb1f952308b208e9d3d7
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="81b85d4d98e1f89869b002386536cda9",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKf5faa5add9629bdf11e1c99126124278
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="81b85d4d98e1f89869b002386536cda9",uri="sip:147.102.232.82:5061;transport=udp",response="30901c55e537013e7dd874b57b5d8a14",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:81b85d4d98e1f89869b002386536cda9!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 30901c55e537013e7dd874b57b5d8a14 with our computed response: 30901c55e537013e7dd874b57b5d8a14
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5060 has been removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKf5faa5add9629bdf11e1c99126124278
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 0c865fb33a4b8fabdc7febbc5f8983d9@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKf5faa5add9629bdf11e1c99126124278
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="81b85d4d98e1f89869b002386536cda9",uri="sip:147.102.232.82:5061;transport=udp",response="30901c55e537013e7dd874b57b5d8a14",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 01324783124b0e429046d44d693da8e8@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK1ff470c38e7e05b652b8bec8fb9e5ff9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 01324783124b0e429046d44d693da8e8@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK1ff470c38e7e05b652b8bec8fb9e5ff9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ab686ae2b740189a1d8eb6f9e51767cd",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 01324783124b0e429046d44d693da8e8@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa6d1a7a2ccb36780f2dd0b7dce939658
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="ab686ae2b740189a1d8eb6f9e51767cd",uri="sip:147.102.232.82:5061;transport=udp",response="7c122d2074b1c7fae35e7ffa5b8dfd82",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ab686ae2b740189a1d8eb6f9e51767cd!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 7c122d2074b1c7fae35e7ffa5b8dfd82 with our computed response: 7c122d2074b1c7fae35e7ffa5b8dfd82
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 01324783124b0e429046d44d693da8e8@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa6d1a7a2ccb36780f2dd0b7dce939658
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 01324783124b0e429046d44d693da8e8@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKa6d1a7a2ccb36780f2dd0b7dce939658
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="ab686ae2b740189a1d8eb6f9e51767cd",uri="sip:147.102.232.82:5061;transport=udp",response="7c122d2074b1c7fae35e7ffa5b8dfd82",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 6c4418729a388965ed2013ae519ec694@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25919971
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:55603;branch=z9hG4bK077e7e8147246e101d307e53ceeb1262
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:55603;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 6c4418729a388965ed2013ae519ec694@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25919971
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:55603;branch=z9hG4bK077e7e8147246e101d307e53ceeb1262
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e88cd6962b6dd1a05d8a1144fe93ec39",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 6c4418729a388965ed2013ae519ec694@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:55603;branch=z9hG4bK226cadd333c291997d833372db5f2246
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:55603;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="e88cd6962b6dd1a05d8a1144fe93ec39",uri="sip:147.102.232.82:5061;transport=udp",response="77c72e1178bff68683adf1ab423c5558",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25919971
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e88cd6962b6dd1a05d8a1144fe93ec39!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 77c72e1178bff68683adf1ab423c5558 with our computed response: 77c72e1178bff68683adf1ab423c5558
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:55603 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:55603;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6c4418729a388965ed2013ae519ec694@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:55603;branch=z9hG4bK226cadd333c291997d833372db5f2246
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25919971
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:55603;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 6c4418729a388965ed2013ae519ec694@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:55603;branch=z9hG4bK226cadd333c291997d833372db5f2246
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:55603;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="e88cd6962b6dd1a05d8a1144fe93ec39",uri="sip:147.102.232.82:5061;transport=udp",response="77c72e1178bff68683adf1ab423c5558",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=25919971
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK68c85eaba6f2aada9e6c4e535ca5cf2e
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK68c85eaba6f2aada9e6c4e535ca5cf2e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1fa0cc4d1366c5989ea3089edb382a28",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK68c85eaba6f2aada9e6c4e535ca5cf2e
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6438f4df95c1144e183d2ef04dcc4f4e
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1fa0cc4d1366c5989ea3089edb382a28",uri="sip:alex@147.102.232.82:4000",response="06fd62639684053df253af057b205dad",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1fa0cc4d1366c5989ea3089edb382a28!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 06fd62639684053df253af057b205dad with our computed response: 06fd62639684053df253af057b205dad
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d35b3eb8
dialog =  gov.nist.javax.sip.stack.SIPDialog@453807
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:55603 SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKdda79f8ee27509876412e4438348d745,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6438f4df95c1144e183d2ef04dcc4f4e
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1fa0cc4d1366c5989ea3089edb382a28",uri="sip:alex@147.102.232.82:4000",response="06fd62639684053df253af057b205dad",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:55603 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:55603 SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKcb48d03c74526510320abdf4ae6f40b2,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6438f4df95c1144e183d2ef04dcc4f4e
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="1fa0cc4d1366c5989ea3089edb382a28",uri="sip:alex@147.102.232.82:4000",response="06fd62639684053df253af057b205dad",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=15014700
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKcb48d03c74526510320abdf4ae6f40b2,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6438f4df95c1144e183d2ef04dcc4f4e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@58ca0e16
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@88e2dd
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=15014700
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6438f4df95c1144e183d2ef04dcc4f4e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=15014700
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bKcb48d03c74526510320abdf4ae6f40b2,SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6438f4df95c1144e183d2ef04dcc4f4e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:55603;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@58ca0e16
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@88e2dd
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:15014700
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=15014700
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6438f4df95c1144e183d2ef04dcc4f4e
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:55603;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=15014700
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Route: "jmaria" <sip:147.102.232.82:55603;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@580cb288
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@580cb288
dialog =  gov.nist.javax.sip.stack.SIPDialog@453807
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@766a24
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@d35b3eb8
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@453807
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@58ca0e16, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:55603 SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=15014700
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK4396fcc2b01db5b0c884edf0d1cff75c,SIP/2.0/UDP 147.102.232.82:5060;branch=2e3130322e3233322e38323a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Route: "jmaria" <sip:147.102.232.82:55603;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdf0ae529bd7ef60358514c374b34da53
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bKdf0ae529bd7ef60358514c374b34da53
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c255c1fe8e0b891d0c7e20c78a2b310b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=15014700
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Via: SIP/2.0/UDP 147.102.232.82:55603;branch=z9hG4bK715e938b4403b1289f98e7a24be8a6de
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@fdbc6c6b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@88e2dd
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8dc1ef50b00d854ed5d872805a30aec9@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=15014700
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=25699763
Via: SIP/2.0/UDP 147.102.232.82:55603;branch=z9hG4bK715e938b4403b1289f98e7a24be8a6de
Proxy-Authenticate: Digest realm="nist.gov",nonce="9f4c0bdcb1e8923b7ee7621aee056fda",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
DEBUG properties set!
The proxy is responsible for the domain:147.102.232.82
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.82
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK961397984ddde28650bf8e566e730119
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK961397984ddde28650bf8e566e730119
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2a7a6c03f155c2005bf58931bb0858e0",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK94e749771b3c5a8100aaad736a912e7e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="2a7a6c03f155c2005bf58931bb0858e0",uri="sip:147.102.232.82:5061;transport=udp",response="370f4ce0a661fba61f2873762f15401b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2a7a6c03f155c2005bf58931bb0858e0!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 370f4ce0a661fba61f2873762f15401b with our computed response: 370f4ce0a661fba61f2873762f15401b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK94e749771b3c5a8100aaad736a912e7e
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK94e749771b3c5a8100aaad736a912e7e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="2a7a6c03f155c2005bf58931bb0858e0",uri="sip:147.102.232.82:5061;transport=udp",response="370f4ce0a661fba61f2873762f15401b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKa7e2a986266a272e2fda9fae0379110d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKa7e2a986266a272e2fda9fae0379110d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="186025efef4dd809aa6dc025ce768d53",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK9ca2b7aaa774067e9ddca72b339447c6
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="186025efef4dd809aa6dc025ce768d53",uri="sip:147.102.232.82:5061;transport=udp",response="adcdea598a24bb169a1dc378c532c762",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:186025efef4dd809aa6dc025ce768d53!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: adcdea598a24bb169a1dc378c532c762 with our computed response: adcdea598a24bb169a1dc378c532c762
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.82:38279 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK9ca2b7aaa774067e9ddca72b339447c6
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK9ca2b7aaa774067e9ddca72b339447c6
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="186025efef4dd809aa6dc025ce768d53",uri="sip:147.102.232.82:5061;transport=udp",response="adcdea598a24bb169a1dc378c532c762",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKb047cd04c04c560ae97d1f5485fc3263
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKb047cd04c04c560ae97d1f5485fc3263
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a26283da03edfe0bd48100d89a935780",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 1 ACK
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKb047cd04c04c560ae97d1f5485fc3263
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@147.102.232.82:4000 SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 70
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="a26283da03edfe0bd48100d89a935780",uri="sip:alex@147.102.232.82:4000",response="716d3ed65e5fab60f69f3e0e7643b51c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@147.102.232.82:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a26283da03edfe0bd48100d89a935780!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:91087d9d406d620a2092675a44b21ad1!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 716d3ed65e5fab60f69f3e0e7643b51c with our computed response: 716d3ed65e5fab60f69f3e0e7643b51c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e2eb0e54
dialog =  gov.nist.javax.sip.stack.SIPDialog@9980d5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK1c0aeeabb6dafa8415f6b3fa1e9a5ef3,SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="a26283da03edfe0bd48100d89a935780",uri="sip:alex@147.102.232.82:4000",response="716d3ed65e5fab60f69f3e0e7643b51c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.232.82 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.232.82:5060 SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK63d49d7194139aa67c24caba63eca7cb,SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 69
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="a26283da03edfe0bd48100d89a935780",uri="sip:alex@147.102.232.82:4000",response="716d3ed65e5fab60f69f3e0e7643b51c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK63d49d7194139aa67c24caba63eca7cb,SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce40a546
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1171b26
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK63d49d7194139aa67c24caba63eca7cb,SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce40a546
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1171b26
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK63d49d7194139aa67c24caba63eca7cb,SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce40a546
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1171b26
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13359904
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 INVITE
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKe368696441d7c750459e8816ae1c8555
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Record-Route: <sip:147.102.232.82:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 161

v=0
o=alex 0 0 IN IP4 147.102.232.82
s=-
c=IN IP4 147.102.232.82
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=3130322e3233322e38323a333832373
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b3feedb2
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9980d5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b3feedb2
dialog =  gov.nist.javax.sip.stack.SIPDialog@9980d5
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@df1832
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e2eb0e54
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@9980d5
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce40a546, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.232.82:5060 SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 ACK
To: <sip:alex@147.102.232.82:4000>;tag=13359904
Via: SIP/2.0/UDP 147.102.232.82:4000;branch=z9hG4bK2911da708a9cf126bb12fb5418464dd7,SIP/2.0/UDP 147.102.232.82:38279;branch=3130322e3233322e38323a333832373
Max-Forwards: 69
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Route: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Record-Route: <sip:147.102.232.82:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=13359904
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6a2e65c9cf64d217024f7453c53f9e1e
Route: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@ce186efb
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1171b26
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 1 BYE
From: <sip:alex@147.102.232.82:4000>;tag=13359904
Max-Forwards: 69
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK6a2e65c9cf64d217024f7453c53f9e1e
Proxy-Authenticate: Digest realm="nist.gov",nonce="6ecfc09fc194d9dd10cd8c0fa5b95468",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@147.102.232.82:4000;transport=udp SIP/2.0
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKdc0903676194a6460cbd83dc8e58229c
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c21e3d92c1122653e420fd62a8f34b2a@147.102.232.82
CSeq: 2 BYE
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: <sip:alex@147.102.232.82:4000>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bKdc0903676194a6460cbd83dc8e58229c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3d08b601f73b7418472996608c8e5ca5",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK2f7115685ae760c93a53f34fa63fbb43
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK2f7115685ae760c93a53f34fa63fbb43
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="609142e88b524f35e5da2fc14f613be1",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5468a1725bbc83b84db408bbf6bc05a2
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="609142e88b524f35e5da2fc14f613be1",uri="sip:147.102.232.82:5061;transport=udp",response="5f20eeef518a1bc97d75ac644c81ab7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:609142e88b524f35e5da2fc14f613be1!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 5f20eeef518a1bc97d75ac644c81ab7a with our computed response: 5f20eeef518a1bc97d75ac644c81ab7a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:5060 has been removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:alex@147.102.232.82:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5468a1725bbc83b84db408bbf6bc05a2
Max-Forwards: 70
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: e3eb8662847020a9812ff13fc3bf13ad@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:5060;branch=z9hG4bK5468a1725bbc83b84db408bbf6bc05a2
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="609142e88b524f35e5da2fc14f613be1",uri="sip:147.102.232.82:5061;transport=udp",response="5f20eeef518a1bc97d75ac644c81ab7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:alex@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@147.102.232.82:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK2a0a3ec3df6ce71c836389509dc3272c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK2a0a3ec3df6ce71c836389509dc3272c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8565140d44695e1323e1e89861ab2a90",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK46387e3a8682275ded5adc246d057410
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8565140d44695e1323e1e89861ab2a90",uri="sip:147.102.232.82:5061;transport=udp",response="673ce3f69d7504846cea10d8a1fe5c21",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:147.102.232.82:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8565140d44695e1323e1e89861ab2a90!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:38dbf0ec771e898e4d4a49b1de76e712!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 673ce3f69d7504846cea10d8a1fe5c21 with our computed response: 673ce3f69d7504846cea10d8a1fe5c21
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@147.102.232.82:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@147.102.232.82:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@147.102.232.82:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@147.102.232.82:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.82:38279 has been removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@147.102.232.82:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@147.102.232.82:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@147.102.232.82:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK46387e3a8682275ded5adc246d057410
Max-Forwards: 70
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.82:5061;transport=udp SIP/2.0
Call-ID: 5ce3987a407f059a062295b390706785@147.102.232.82
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 147.102.232.82:38279;branch=z9hG4bK46387e3a8682275ded5adc246d057410
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:147.102.232.82:38279;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8565140d44695e1323e1e89861ab2a90",uri="sip:147.102.232.82:5061;transport=udp",response="673ce3f69d7504846cea10d8a1fe5c21",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>;tag=30604342
To: "jmaria" <sip:thanos@147.102.232.82:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@147.102.232.82:4000
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK13f905232029dcf09e63fbf911d06d3e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK13f905232029dcf09e63fbf911d06d3e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9110b60b273e2ae8bffc6975f79aaea9",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1d2c1b1debceec9c86596cc2ce31a607
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9110b60b273e2ae8bffc6975f79aaea9",uri="sip:192.168.1.50:5061;transport=udp",response="3573780fa0944d2cd989023046f16783",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9110b60b273e2ae8bffc6975f79aaea9!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 3573780fa0944d2cd989023046f16783 with our computed response: 3573780fa0944d2cd989023046f16783
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1d2c1b1debceec9c86596cc2ce31a607
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1d2c1b1debceec9c86596cc2ce31a607
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9110b60b273e2ae8bffc6975f79aaea9",uri="sip:192.168.1.50:5061;transport=udp",response="3573780fa0944d2cd989023046f16783",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bK3e29f98af6e9cdd984a74d184795d7d1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bK3e29f98af6e9cdd984a74d184795d7d1
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="89a35d4bbf8db9d89532f09575d0e792",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bKef892a2e0cc070f74f069d127171a364
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="89a35d4bbf8db9d89532f09575d0e792",uri="sip:192.168.1.50:5061;transport=udp",response="84c2af051714d1e8bc85c3cdac417101",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:89a35d4bbf8db9d89532f09575d0e792!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 84c2af051714d1e8bc85c3cdac417101 with our computed response: 84c2af051714d1e8bc85c3cdac417101
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:17003 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>;expires=3600

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bKef892a2e0cc070f74f069d127171a364
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bKef892a2e0cc070f74f069d127171a364
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="89a35d4bbf8db9d89532f09575d0e792",uri="sip:192.168.1.50:5061;transport=udp",response="84c2af051714d1e8bc85c3cdac417101",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16d5d4b1dfdefeb97aed88e4eb279788
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16d5d4b1dfdefeb97aed88e4eb279788
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="83f588d2a16a35c15bad4bda187e6853",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16d5d4b1dfdefeb97aed88e4eb279788
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="83f588d2a16a35c15bad4bda187e6853",uri="sip:alex@192.168.1.50:4000",response="5478f1161dc7623a198a141238e5d3ad",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:83f588d2a16a35c15bad4bda187e6853!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 5478f1161dc7623a198a141238e5d3ad with our computed response: 5478f1161dc7623a198a141238e5d3ad
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bc37926b
dialog =  gov.nist.javax.sip.stack.SIPDialog@5e13ad
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:17003 SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKbaf12ddec2f21271c30a8e1d12e9ac7e,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="83f588d2a16a35c15bad4bda187e6853",uri="sip:alex@192.168.1.50:4000",response="5478f1161dc7623a198a141238e5d3ad",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:17003 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:17003 SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa671488ce0879c88efd1c1db6a8c50b7,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="83f588d2a16a35c15bad4bda187e6853",uri="sip:alex@192.168.1.50:4000",response="5478f1161dc7623a198a141238e5d3ad",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa671488ce0879c88efd1c1db6a8c50b7,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@eec47d1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28715691
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa671488ce0879c88efd1c1db6a8c50b7,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@eec47d1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28715691
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28715691
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa671488ce0879c88efd1c1db6a8c50b7,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@eec47d1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:28715691
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=28715691
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK407033c7004bcab84789d653e1b74cfc
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=28715691
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Route: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@da86f06e
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5e13ad
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@da86f06e
dialog =  gov.nist.javax.sip.stack.SIPDialog@5e13ad
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@5d9084
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bc37926b
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@5e13ad
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@eec47d1, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:17003 SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=28715691
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKaf08e69f2edcac352789eb8a7b1b8f63,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Route: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=28715691
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bK60452b9b3a57d5399b9129f704ead112
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d0679021
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@453807
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=28715691
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bK60452b9b3a57d5399b9129f704ead112
Proxy-Authenticate: Digest realm="nist.gov",nonce="0be5664f59c234dafb3392c4a5a9be5c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK390077d51d728a5d4f125220f78dfaf4
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f8997eabfb2f8e6bcc46bece83eb22fa@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK390077d51d728a5d4f125220f78dfaf4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f777888a6dd6fb427067fb124454f45c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKdcffc723358e83881aa9d1ceeef0de53
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKdcffc723358e83881aa9d1ceeef0de53
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="0608237ecae504d68c583cb56ad24e0c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfa217691ff79cf6835ba00ce4278d176
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="0608237ecae504d68c583cb56ad24e0c",uri="sip:192.168.1.50:5061;transport=udp",response="e45248ce4b7e73eef580564a6bd24078",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:0608237ecae504d68c583cb56ad24e0c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e45248ce4b7e73eef580564a6bd24078 with our computed response: e45248ce4b7e73eef580564a6bd24078
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>;expires=3600

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfa217691ff79cf6835ba00ce4278d176
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d89bc7f75573b2e3c2f25d8c95795db8@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfa217691ff79cf6835ba00ce4278d176
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="0608237ecae504d68c583cb56ad24e0c",uri="sip:192.168.1.50:5061;transport=udp",response="e45248ce4b7e73eef580564a6bd24078",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=32189467
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bKfa38352852f12660d3af6d2ce6c9d9b9
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bKfa38352852f12660d3af6d2ce6c9d9b9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b42b763c9994e91ae7f9c11cb5bf4325",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bK71123fa83878174951d758e8f2bec437
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b42b763c9994e91ae7f9c11cb5bf4325",uri="sip:192.168.1.50:5061;transport=udp",response="99bab2f565c6e7527e7da06da8ca9599",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b42b763c9994e91ae7f9c11cb5bf4325!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 99bab2f565c6e7527e7da06da8ca9599 with our computed response: 99bab2f565c6e7527e7da06da8ca9599
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:17003 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bK71123fa83878174951d758e8f2bec437
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 88682ec6910ecee605c70c6678d3e420@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:17003;branch=z9hG4bK71123fa83878174951d758e8f2bec437
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:17003;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b42b763c9994e91ae7f9c11cb5bf4325",uri="sip:192.168.1.50:5061;transport=udp",response="99bab2f565c6e7527e7da06da8ca9599",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa942d01fa2315926372e0f3f88531c5a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa942d01fa2315926372e0f3f88531c5a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="510f961031070ae9eb34b1de4d6809cb",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa9cf2333f03ce951fe08c31c948b4f90
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="510f961031070ae9eb34b1de4d6809cb",uri="sip:192.168.1.50:5061;transport=udp",response="07fa59e6c67acb07e9f264134b950238",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:510f961031070ae9eb34b1de4d6809cb!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 07fa59e6c67acb07e9f264134b950238 with our computed response: 07fa59e6c67acb07e9f264134b950238
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa9cf2333f03ce951fe08c31c948b4f90
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKa9cf2333f03ce951fe08c31c948b4f90
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="510f961031070ae9eb34b1de4d6809cb",uri="sip:192.168.1.50:5061;transport=udp",response="07fa59e6c67acb07e9f264134b950238",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bK0f854b16ed90e77803cc55001c91188e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bK0f854b16ed90e77803cc55001c91188e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="35983cb4b66a6f09ea0467296dad4d54",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKdd4417c9b9211eed0ad1ebb52e54e7c1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="35983cb4b66a6f09ea0467296dad4d54",uri="sip:192.168.1.50:5061;transport=udp",response="cef6220752e6eecc553c726844079e6e",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:35983cb4b66a6f09ea0467296dad4d54!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: cef6220752e6eecc553c726844079e6e with our computed response: cef6220752e6eecc553c726844079e6e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:50457 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKdd4417c9b9211eed0ad1ebb52e54e7c1
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKdd4417c9b9211eed0ad1ebb52e54e7c1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="35983cb4b66a6f09ea0467296dad4d54",uri="sip:192.168.1.50:5061;transport=udp",response="cef6220752e6eecc553c726844079e6e",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKcfd13e02a84e256662a51473a37a5a85
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKcfd13e02a84e256662a51473a37a5a85
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8f3c30cb8ef694d5f6f8abef4044930c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKcfd13e02a84e256662a51473a37a5a85
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8f3c30cb8ef694d5f6f8abef4044930c",uri="sip:alex@192.168.1.50:4000",response="7b35c6efe1c8e3468351f590e7e55729",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8f3c30cb8ef694d5f6f8abef4044930c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:355b39ff4283d98cca3fb89bdf766eb6!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 7b35c6efe1c8e3468351f590e7e55729 with our computed response: 7b35c6efe1c8e3468351f590e7e55729
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6cbc03aa
dialog =  gov.nist.javax.sip.stack.SIPDialog@5b0668
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKfd5945f0834e915f05131ddd73898320,SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8f3c30cb8ef694d5f6f8abef4044930c",uri="sip:alex@192.168.1.50:4000",response="7b35c6efe1c8e3468351f590e7e55729",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5d8b2eab243ffaabfaca4058778eaca,SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8f3c30cb8ef694d5f6f8abef4044930c",uri="sip:alex@192.168.1.50:4000",response="7b35c6efe1c8e3468351f590e7e55729",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5d8b2eab243ffaabfaca4058778eaca,SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b691381a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@701a27
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11228395
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5d8b2eab243ffaabfaca4058778eaca,SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b691381a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@701a27
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11228395
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11228395
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa5d8b2eab243ffaabfaca4058778eaca,SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b691381a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@701a27
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:11228395
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 INVITE
To: <sip:alex@192.168.1.50:4000>;tag=11228395
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKfbcaf3ccee8efe0262c41ed4afd0f703
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=11228395
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=322e3136382e312e35303a353034353
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7706a03b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@5b0668
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7706a03b
dialog =  gov.nist.javax.sip.stack.SIPDialog@5b0668
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1fdadcd
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@6cbc03aa
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@5b0668
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@b691381a, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:5060 SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 ACK
To: <sip:alex@192.168.1.50:4000>;tag=11228395
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKfa03f7493fe851c4da75fcf248dc7257,SIP/2.0/UDP 192.168.1.50:50457;branch=322e3136382e312e35303a353034353
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=11228395
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK8c8f635e6fe1fa0319ce24aa5ec244de
Route: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@db0af72b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@701a27
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 1 BYE
From: <sip:alex@192.168.1.50:4000>;tag=11228395
Max-Forwards: 69
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK8c8f635e6fe1fa0319ce24aa5ec244de
Proxy-Authenticate: Digest realm="nist.gov",nonce="f01c3798e8fcd1b8360b6f1351dd4e8f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:alex@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bK716a46d9b60535fe085c166f85d1ff7d
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: acc23ab21a75d61153e7690e2ce3867e@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bK716a46d9b60535fe085c166f85d1ff7d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="235c365c08e43d5b9d814c04f5e32d8d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKe40dd5a192b212e46d4181ddc6dfb4cb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKe40dd5a192b212e46d4181ddc6dfb4cb
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="193e9f26c182a0b0ee1c280e589165f6",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKd75a4fcc824f2d9d8e4c756e65f12e1c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="193e9f26c182a0b0ee1c280e589165f6",uri="sip:192.168.1.50:5061;transport=udp",response="6cd66b3145261543f3596aeaca9d3a2f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:193e9f26c182a0b0ee1c280e589165f6!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 6cd66b3145261543f3596aeaca9d3a2f with our computed response: 6cd66b3145261543f3596aeaca9d3a2f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:50457 has been removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKd75a4fcc824f2d9d8e4c756e65f12e1c
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 0505c062e6d29ed50252b03e4f3b865e@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:50457;branch=z9hG4bKd75a4fcc824f2d9d8e4c756e65f12e1c
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:50457;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="193e9f26c182a0b0ee1c280e589165f6",uri="sip:192.168.1.50:5061;transport=udp",response="6cd66b3145261543f3596aeaca9d3a2f",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=11299397
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe496e4931b07dfaee114896b281add13
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe496e4931b07dfaee114896b281add13
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="5851856db602460fcfcf1e723a228d15",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb26a01687320ce1c3ad19cf7bc36cb18
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="5851856db602460fcfcf1e723a228d15",uri="sip:192.168.1.50:5061;transport=udp",response="de2af1f913b19aa36aa84034e5f28231",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:5851856db602460fcfcf1e723a228d15!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: de2af1f913b19aa36aa84034e5f28231 with our computed response: de2af1f913b19aa36aa84034e5f28231
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb26a01687320ce1c3ad19cf7bc36cb18
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d381b24cc662c2ccf87c1866001e350@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb26a01687320ce1c3ad19cf7bc36cb18
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="5851856db602460fcfcf1e723a228d15",uri="sip:192.168.1.50:5061;transport=udp",response="de2af1f913b19aa36aa84034e5f28231",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb66959c0658e2487e00436cce11e92d8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb66959c0658e2487e00436cce11e92d8
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="d4be75cc5d6186c3f8ccc611de0b9096",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK48a6f918e94a995b4af1eeeafeefaf7a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="d4be75cc5d6186c3f8ccc611de0b9096",uri="sip:192.168.1.50:5061;transport=udp",response="7bd366a3ab9de6dd636321c4bebfe852",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:d4be75cc5d6186c3f8ccc611de0b9096!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 7bd366a3ab9de6dd636321c4bebfe852 with our computed response: 7bd366a3ab9de6dd636321c4bebfe852
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK48a6f918e94a995b4af1eeeafeefaf7a
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK48a6f918e94a995b4af1eeeafeefaf7a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="d4be75cc5d6186c3f8ccc611de0b9096",uri="sip:192.168.1.50:5061;transport=udp",response="7bd366a3ab9de6dd636321c4bebfe852",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bKd57c45ea2fe80464e5387cbeb893b8d9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bKd57c45ea2fe80464e5387cbeb893b8d9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1768e9f1860ef139c056452ec593b04a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bK2f9157ce7300f53ec8d6f4d0b440bbe9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1768e9f1860ef139c056452ec593b04a",uri="sip:192.168.1.50:5061;transport=udp",response="aa367c04c72374216d07b70866ccfb4e",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1768e9f1860ef139c056452ec593b04a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: aa367c04c72374216d07b70866ccfb4e with our computed response: aa367c04c72374216d07b70866ccfb4e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:16429 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:roby@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bK2f9157ce7300f53ec8d6f4d0b440bbe9
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bK2f9157ce7300f53ec8d6f4d0b440bbe9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1768e9f1860ef139c056452ec593b04a",uri="sip:192.168.1.50:5061;transport=udp",response="aa367c04c72374216d07b70866ccfb4e",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.50:4000 SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb35f8431fb7d8648df6d5bd90cb461dd
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb35f8431fb7d8648df6d5bd90cb461dd
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3a692b804dc17b92adcbee859273ba99",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.50:4000 SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb35f8431fb7d8648df6d5bd90cb461dd
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.50:4000 SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="3a692b804dc17b92adcbee859273ba99",uri="sip:roby@192.168.1.50:4000",response="48835ecf3fd8bf1a2d23260b0d5b3ada",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.50:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3a692b804dc17b92adcbee859273ba99!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:1dd0c5746fa4b5da9dc90cdc9b9f753a!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 48835ecf3fd8bf1a2d23260b0d5b3ada with our computed response: 48835ecf3fd8bf1a2d23260b0d5b3ada
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ff5f895e
dialog =  gov.nist.javax.sip.stack.SIPDialog@b30913
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:16429 SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa79264ce1722f2ee6c375e2eb54adc8c,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="3a692b804dc17b92adcbee859273ba99",uri="sip:roby@192.168.1.50:4000",response="48835ecf3fd8bf1a2d23260b0d5b3ada",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:16429 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:16429 SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKcc9879c0b9eadec954cee23043fcfbc9,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="3a692b804dc17b92adcbee859273ba99",uri="sip:roby@192.168.1.50:4000",response="48835ecf3fd8bf1a2d23260b0d5b3ada",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKcc9879c0b9eadec954cee23043fcfbc9,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce4487b0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18f51f
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>;tag=21680077
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKcc9879c0b9eadec954cee23043fcfbc9,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce4487b0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18f51f
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>;tag=21680077
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>;tag=21680077
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKcc9879c0b9eadec954cee23043fcfbc9,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce4487b0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18f51f
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:21680077
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 INVITE
To: <sip:roby@192.168.1.50:4000>;tag=21680077
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf260d25b4601f1162b929d21b0a0e1d3
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 ACK
To: <sip:roby@192.168.1.50:4000>;tag=21680077
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Route: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2a946dff
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b30913
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@2a946dff
dialog =  gov.nist.javax.sip.stack.SIPDialog@b30913
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@6d0040
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@ff5f895e
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@b30913
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@ce4487b0, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:16429 SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 ACK
To: <sip:roby@192.168.1.50:4000>;tag=21680077
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK4de775ea133a090fe11459ceca08b588,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Route: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 1 BYE
From: <sip:roby@192.168.1.50:4000>;tag=21680077
Max-Forwards: 69
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bKa13154171d25bb98d25f2cb1d639989f
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@71738c4a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18f51f
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 1 BYE
From: <sip:roby@192.168.1.50:4000>;tag=21680077
Max-Forwards: 69
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bKa13154171d25bb98d25f2cb1d639989f
Proxy-Authenticate: Digest realm="nist.gov",nonce="8e674a7071f09e20621b959674d0a247",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:roby@192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc67ce83b072d004573449abab17d284b
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: af477bc80b85fa3237a2d6a82a8a1938@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: <sip:roby@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKc67ce83b072d004573449abab17d284b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e53c959c22828017b74f63f5d2075dfc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c94259dcb7cbdfb43fa8c16cbbbb510
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c94259dcb7cbdfb43fa8c16cbbbb510
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="41c9b2d6658d06bccda321a87c957dda",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKffd301f69d1b9668f00048a4141dadb8
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="41c9b2d6658d06bccda321a87c957dda",uri="sip:192.168.1.50:5061;transport=udp",response="e9c3273cbd51d9eb05a11f95bc0a6f8c",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:41c9b2d6658d06bccda321a87c957dda!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e9c3273cbd51d9eb05a11f95bc0a6f8c with our computed response: e9c3273cbd51d9eb05a11f95bc0a6f8c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:deruelle@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:roby@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.50:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:roby@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:roby@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKffd301f69d1b9668f00048a4141dadb8
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 10d5d0cac40627a2d4a9a39872709295@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKffd301f69d1b9668f00048a4141dadb8
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="41c9b2d6658d06bccda321a87c957dda",uri="sip:192.168.1.50:5061;transport=udp",response="e9c3273cbd51d9eb05a11f95bc0a6f8c",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>;tag=32675815
To: "jmaria" <sip:deruelle@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bKa8ed55d0d25df74b904a28bbf27be651
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bKa8ed55d0d25df74b904a28bbf27be651
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="07aab5da60c0f5aad9a3bf3e85993ca8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bK3cf2e88b705863af0384e66b2bd8391b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="07aab5da60c0f5aad9a3bf3e85993ca8",uri="sip:192.168.1.50:5061;transport=udp",response="266b85b6eb526e6ff8c90d0714219f1b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.50:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:07aab5da60c0f5aad9a3bf3e85993ca8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:356d1a758b941cbb09ab3309e8c995d5!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 266b85b6eb526e6ff8c90d0714219f1b with our computed response: 266b85b6eb526e6ff8c90d0714219f1b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:16429 has been removed for the key: sip:roby@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:roby@192.168.1.50:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bK3cf2e88b705863af0384e66b2bd8391b
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4062894b654050982ea74b666c9b39ee@192.168.1.50
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.50:16429;branch=z9hG4bK3cf2e88b705863af0384e66b2bd8391b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:16429;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="07aab5da60c0f5aad9a3bf3e85993ca8",uri="sip:192.168.1.50:5061;transport=udp",response="266b85b6eb526e6ff8c90d0714219f1b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>;tag=4347180
To: "jmaria" <sip:roby@192.168.1.50:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.50:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 06fc4bbdf7335176bff75465ed671a61@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf827706e8a3446d0800ef7ef0d567093
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 06fc4bbdf7335176bff75465ed671a61@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf827706e8a3446d0800ef7ef0d567093
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 06fc4bbdf7335176bff75465ed671a61@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf827706e8a3446d0800ef7ef0d567093
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: dc9ce36263899c37c5e212a621618210@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:16456;branch=z9hG4bK48f2948e822996253db3e937ec598bcd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:16456;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:16456 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:16456;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dc9ce36263899c37c5e212a621618210@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:16456;branch=z9hG4bK48f2948e822996253db3e937ec598bcd
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:16456;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: dc9ce36263899c37c5e212a621618210@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=10272075
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:16456;branch=z9hG4bK48f2948e822996253db3e937ec598bcd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:16456;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:kostas1@192.168.1.50:4000 SIP/2.0
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK10affefd3a945959f44f499e8e674564
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@95c521af
dialog =  gov.nist.javax.sip.stack.SIPDialog@fcfa52
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:16456 SIP/2.0
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK7593e91a7db34ae48f9ba4e61dd35920,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK10affefd3a945959f44f499e8e674564
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:16456 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:16456 SIP/2.0
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKfbf62016d3804c94df16fd61d498c769,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK10affefd3a945959f44f499e8e674564
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKfbf62016d3804c94df16fd61d498c769,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK10affefd3a945959f44f499e8e674564
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6e3fe345
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1f297e7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK10affefd3a945959f44f499e8e674564
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKfbf62016d3804c94df16fd61d498c769,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK10affefd3a945959f44f499e8e674564
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:16456;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6e3fe345
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1f297e7
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:1345122
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK10affefd3a945959f44f499e8e674564
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:16456;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:16456;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bf40c4d8
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@fcfa52
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bf40c4d8
dialog =  gov.nist.javax.sip.stack.SIPDialog@fcfa52
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@2acc65
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@95c521af
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@fcfa52
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@6e3fe345, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:16456 SIP/2.0
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKdddf36cd14fee61b78e9d50b46669ad0,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:16456;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKda62048305fcb87e3f7b5ebbf085ed3f
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:16456;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@a576dc04
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@fcfa52
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKda62048305fcb87e3f7b5ebbf085ed3f
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:16456;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:16456/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK0bbbf37a393aeacb838227762f6819f4,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKda62048305fcb87e3f7b5ebbf085ed3f
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4db4bbbc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1f297e7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 7dfb27597b3f231a122e335e418f96db@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=33539718
To: <sip:kostas1@192.168.1.50:4000>;tag=1345122
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKda62048305fcb87e3f7b5ebbf085ed3f
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ba43388dcab90adcf4a0db367ca99569@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe5e51e4af6761fb1362343fe85b1ed3c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ba43388dcab90adcf4a0db367ca99569@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe5e51e4af6761fb1362343fe85b1ed3c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: ba43388dcab90adcf4a0db367ca99569@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe5e51e4af6761fb1362343fe85b1ed3c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f197941baf1de73960e3d6d7469bcdc3@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:18009;branch=z9hG4bKb551fded882e08a8d7a89dae2ace11e7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:18009 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f197941baf1de73960e3d6d7469bcdc3@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:18009;branch=z9hG4bKb551fded882e08a8d7a89dae2ace11e7
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f197941baf1de73960e3d6d7469bcdc3@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:18009;branch=z9hG4bKb551fded882e08a8d7a89dae2ace11e7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@192.168.1.50:4000 SIP/2.0
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK64b70d7e1826a5078bc11c08d34947d6
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bddd7195
dialog =  gov.nist.javax.sip.stack.SIPDialog@18b81e3
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:18009 SIP/2.0
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKf66daca061205b2cc273eb00fa376f52,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK64b70d7e1826a5078bc11c08d34947d6
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:18009 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:18009 SIP/2.0
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK339544e69d38a5f4c9f9dc0c49c82088,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK64b70d7e1826a5078bc11c08d34947d6
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK339544e69d38a5f4c9f9dc0c49c82088,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK64b70d7e1826a5078bc11c08d34947d6
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@97b0fd51
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@175078b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK64b70d7e1826a5078bc11c08d34947d6
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK339544e69d38a5f4c9f9dc0c49c82088,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK64b70d7e1826a5078bc11c08d34947d6
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@97b0fd51
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@175078b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:7812797
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK64b70d7e1826a5078bc11c08d34947d6
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@61b3f3d8
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18b81e3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@61b3f3d8
dialog =  gov.nist.javax.sip.stack.SIPDialog@18b81e3
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1171b26
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bddd7195
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@18b81e3
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@97b0fd51, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:18009 SIP/2.0
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKe9325e2ac5f55c8c3ea66fe3ce55a213,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb11fe2feb5d89a5248a2a5d9c340eaef
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e690bc42
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@18b81e3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb11fe2feb5d89a5248a2a5d9c340eaef
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:18009/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK4185cb1f0dccf70235b34e070f8c4c85,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb11fe2feb5d89a5248a2a5d9c340eaef
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@36b253cc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@175078b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: e0488e63c7198a620e697985197bc838@192.168.1.50
CSeq: 2 BYE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=7812797
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKb11fe2feb5d89a5248a2a5d9c340eaef
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f197941baf1de73960e3d6d7469bcdc3@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:18009;branch=z9hG4bK979dce693c1cdf507e8992ec10926929
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:18009 has been removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f197941baf1de73960e3d6d7469bcdc3@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:18009;branch=z9hG4bK979dce693c1cdf507e8992ec10926929
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f197941baf1de73960e3d6d7469bcdc3@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:18009;branch=z9hG4bK979dce693c1cdf507e8992ec10926929
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:18009;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f162f3e67d86328d6d0356611da8ae4d@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf36bed92b4a0934b6dbd3eb0aa930a36
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f162f3e67d86328d6d0356611da8ae4d@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf36bed92b4a0934b6dbd3eb0aa930a36
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f162f3e67d86328d6d0356611da8ae4d@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf36bed92b4a0934b6dbd3eb0aa930a36
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 2e56e17b1b61d7baf4e6cd1be05d4b64@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:44590;branch=z9hG4bK91551634695ec46c00f9a741b2b669e2
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:44590 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2e56e17b1b61d7baf4e6cd1be05d4b64@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:44590;branch=z9hG4bK91551634695ec46c00f9a741b2b669e2
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 2e56e17b1b61d7baf4e6cd1be05d4b64@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=5218268
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:44590;branch=z9hG4bK91551634695ec46c00f9a741b2b669e2
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:kostas1@192.168.1.50:4000 SIP/2.0
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c97cdc52fb60b79b63e790084895893
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7ff248bb
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a082e2
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:44590 SIP/2.0
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK1624b5202208a1c1dbcb421be190e36f,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c97cdc52fb60b79b63e790084895893
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:44590 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:44590 SIP/2.0
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK07f848e2072dfabc798d059058593e36,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c97cdc52fb60b79b63e790084895893
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK07f848e2072dfabc798d059058593e36,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c97cdc52fb60b79b63e790084895893
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@704f3724
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e5bbd6
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c97cdc52fb60b79b63e790084895893
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK07f848e2072dfabc798d059058593e36,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c97cdc52fb60b79b63e790084895893
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@704f3724
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e5bbd6
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:11930515
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK6c97cdc52fb60b79b63e790084895893
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:44590;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@12af90d
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a082e2
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@12af90d
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a082e2
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@49d67c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@7ff248bb
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1a082e2
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@704f3724, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:44590 SIP/2.0
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKa399c7df8a38d4649c840179d6696307,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:44590;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
From: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:44590;branch=z9hG4bK55d940731d8bb56d73d1dc502b96a10c
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@50385bfd
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e5bbd6
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
From: <sip:kostas1@192.168.1.50:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:44590;branch=z9hG4bK55d940731d8bb56d73d1dc502b96a10c
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
From: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK3fdb9392ac041a3e19aa90178b2da739,SIP/2.0/UDP 192.168.1.50:44590;branch=z9hG4bK55d940731d8bb56d73d1dc502b96a10c
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d5502c48
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a082e2
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c9c4749b364465687a9a782ecd942ce5@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
From: <sip:kostas1@192.168.1.50:4000>;tag=11930515
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:44590;branch=z9hG4bK55d940731d8bb56d73d1dc502b96a10c
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f162f3e67d86328d6d0356611da8ae4d@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3c758df131364f7010484d9a7efa08c9
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:44590;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f162f3e67d86328d6d0356611da8ae4d@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3c758df131364f7010484d9a7efa08c9
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: f162f3e67d86328d6d0356611da8ae4d@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK3c758df131364f7010484d9a7efa08c9
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b8b61f38a54fd4c6f1785b6b8ac741d3@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7f4fc7fc7a01cc5d645c5070a854f5e1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b8b61f38a54fd4c6f1785b6b8ac741d3@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7f4fc7fc7a01cc5d645c5070a854f5e1
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b8b61f38a54fd4c6f1785b6b8ac741d3@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7f4fc7fc7a01cc5d645c5070a854f5e1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 1e6a88f567810b69d872d113f0ed1cde@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bKd8126bb37f05d971a6e8004722064660
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:45333 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1e6a88f567810b69d872d113f0ed1cde@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bKd8126bb37f05d971a6e8004722064660
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 1e6a88f567810b69d872d113f0ed1cde@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bKd8126bb37f05d971a6e8004722064660
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@192.168.1.50:4000 SIP/2.0
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@efd8499a
dialog =  gov.nist.javax.sip.stack.SIPDialog@b4e29b
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:45333 SIP/2.0
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK2e52fcc59fed3a1293c56f79776eda11,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:45333 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:45333 SIP/2.0
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK15f1f9f66d0223e0ff4492b98dcf2579,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK15f1f9f66d0223e0ff4492b98dcf2579,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1eaf4491
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@d3db51
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>;tag=2545159
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK15f1f9f66d0223e0ff4492b98dcf2579,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1eaf4491
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@d3db51
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>;tag=2545159
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>;tag=2545159
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK15f1f9f66d0223e0ff4492b98dcf2579,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1eaf4491
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@d3db51
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2545159
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>;tag=2545159
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKbff187c0bc61cd33f72f9afc9dca33b2
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>;tag=2545159
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:45333;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@c811402
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b4e29b
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@c811402
dialog =  gov.nist.javax.sip.stack.SIPDialog@b4e29b
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@da3a1e
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@efd8499a
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@b4e29b
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@1eaf4491, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:45333 SIP/2.0
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: <sip:kostas@192.168.1.50:4000>;tag=2545159
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK4d9e09d7b7953fcff81fdfe267d1f916,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:45333;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
From: <sip:kostas@192.168.1.50:4000>;tag=2545159
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bKfdfa8cbb369d352e70f21c2ac7963ad8
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b2beeff
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@d3db51
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
From: <sip:kostas@192.168.1.50:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bKfdfa8cbb369d352e70f21c2ac7963ad8
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
From: <sip:kostas@192.168.1.50:4000>;tag=2545159
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK03e31459b8d9bf8b61ca196da9fdec28,SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bKfdfa8cbb369d352e70f21c2ac7963ad8
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d0b0c099
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b4e29b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 0dd6b0333f27ce1ee357b65c5d2716dc@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
From: <sip:kostas@192.168.1.50:4000>;tag=2545159
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bKfdfa8cbb369d352e70f21c2ac7963ad8
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 1e6a88f567810b69d872d113f0ed1cde@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bK0ae83b6714318f96d8bbf5135e9bc491
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:45333 has been removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1e6a88f567810b69d872d113f0ed1cde@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bK0ae83b6714318f96d8bbf5135e9bc491
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 1e6a88f567810b69d872d113f0ed1cde@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=2745175
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:45333;branch=z9hG4bK0ae83b6714318f96d8bbf5135e9bc491
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:45333;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b8b61f38a54fd4c6f1785b6b8ac741d3@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf4a33b052fbc525ce4cd77305ec26487
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas1@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas1@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas1@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b8b61f38a54fd4c6f1785b6b8ac741d3@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf4a33b052fbc525ce4cd77305ec26487
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b8b61f38a54fd4c6f1785b6b8ac741d3@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=32946703
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKf4a33b052fbc525ce4cd77305ec26487
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d631efd894d1e6db6aeef75408eda66@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2313621750baba7f07577f32f2fe79ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7d631efd894d1e6db6aeef75408eda66@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2313621750baba7f07577f32f2fe79ab
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d631efd894d1e6db6aeef75408eda66@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK2313621750baba7f07577f32f2fe79ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 827f8f68f6634ce56c7e50b539a10093@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bKd4d2848613c37be73b4c86e3af971d8b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:22562 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 827f8f68f6634ce56c7e50b539a10093@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bKd4d2848613c37be73b4c86e3af971d8b
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 827f8f68f6634ce56c7e50b539a10093@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bKd4d2848613c37be73b4c86e3af971d8b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:kostas1@192.168.1.50:4000 SIP/2.0
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7fa21fc47621f83084666d0aa118f8a1
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b3ac11c6
dialog =  gov.nist.javax.sip.stack.SIPDialog@13f210f
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:22562 SIP/2.0
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK57d270889939fad0e7985c6c7c43d40c,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7fa21fc47621f83084666d0aa118f8a1
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:22562 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:22562 SIP/2.0
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK92c7a5f66d3b12952159d44c75791be8,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7fa21fc47621f83084666d0aa118f8a1
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK92c7a5f66d3b12952159d44c75791be8,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7fa21fc47621f83084666d0aa118f8a1
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@187a0b70
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@50ca0c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7fa21fc47621f83084666d0aa118f8a1
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK92c7a5f66d3b12952159d44c75791be8,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7fa21fc47621f83084666d0aa118f8a1
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@187a0b70
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@50ca0c
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:3860801
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK7fa21fc47621f83084666d0aa118f8a1
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:22562;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@c56d4248
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@13f210f
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@c56d4248
dialog =  gov.nist.javax.sip.stack.SIPDialog@13f210f
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10b9279
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@b3ac11c6
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@13f210f
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@187a0b70, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:22562 SIP/2.0
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK18520d12e849f69c2693dea43b0dcbc2,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:22562;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
From: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bK544b2f7c9e961aa3fc259b8b300f6c9f
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@ad4b41f7
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@50ca0c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
From: <sip:kostas1@192.168.1.50:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bK544b2f7c9e961aa3fc259b8b300f6c9f
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
From: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK0610d7cc23535cb0ebade3121fe460d6,SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bK544b2f7c9e961aa3fc259b8b300f6c9f
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9235a6b1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@13f210f
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 3eed201a8a333e7bcfb49d6229429964@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
From: <sip:kostas1@192.168.1.50:4000>;tag=3860801
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bK544b2f7c9e961aa3fc259b8b300f6c9f
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 827f8f68f6634ce56c7e50b539a10093@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bK23b284d0b36f0e155a2ef5ed6d94f551
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas1@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas1@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:22562 has been removed for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas1@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 827f8f68f6634ce56c7e50b539a10093@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bK23b284d0b36f0e155a2ef5ed6d94f551
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 827f8f68f6634ce56c7e50b539a10093@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=23275591
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:22562;branch=z9hG4bK23b284d0b36f0e155a2ef5ed6d94f551
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:22562;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d631efd894d1e6db6aeef75408eda66@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK23581da94866b4a1449344f1faa65b94
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7d631efd894d1e6db6aeef75408eda66@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK23581da94866b4a1449344f1faa65b94
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 7d631efd894d1e6db6aeef75408eda66@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK23581da94866b4a1449344f1faa65b94
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4c2b2bf26d6dfa2f0ace625fe5c44a35@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd8b74de3c1a8aa5d4845f53617f51d31
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4c2b2bf26d6dfa2f0ace625fe5c44a35@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd8b74de3c1a8aa5d4845f53617f51d31
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4c2b2bf26d6dfa2f0ace625fe5c44a35@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKd8b74de3c1a8aa5d4845f53617f51d31
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b91e1b4fcade5f2f5f972079d89d678c@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK8dec361ff1fbc7844541fb598ab2ec85
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:48899 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b91e1b4fcade5f2f5f972079d89d678c@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK8dec361ff1fbc7844541fb598ab2ec85
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b91e1b4fcade5f2f5f972079d89d678c@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK8dec361ff1fbc7844541fb598ab2ec85
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@192.168.1.50:4000 SIP/2.0
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@21840ddb
dialog =  gov.nist.javax.sip.stack.SIPDialog@126f827
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:48899 SIP/2.0
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKfda1c42c215be20fd744ac8b0d8247e5,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:48899 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:48899 SIP/2.0
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKd8964ed3620df04df7e3e677bbe17dba,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKd8964ed3620df04df7e3e677bbe17dba,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b343dde2
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c3014
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=2329159
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKd8964ed3620df04df7e3e677bbe17dba,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b343dde2
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c3014
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=2329159
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=2329159
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKd8964ed3620df04df7e3e677bbe17dba,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b343dde2
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c3014
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2329159
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=2329159
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK16467a24c7a762b1fbec5620e90b0bcf
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=2329159
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@545361aa
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@126f827
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@545361aa
dialog =  gov.nist.javax.sip.stack.SIPDialog@126f827
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1f4e571
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@21840ddb
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@126f827
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@b343dde2, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:48899 SIP/2.0
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=2329159
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK6db81df90eeca6f155550da0304f7a15,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
From: <sip:kostas@192.168.1.50:4000>;tag=2329159
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK53a516067f7fb89d7a1dafbaced110c5
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d0f7817c
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c3014
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
From: <sip:kostas@192.168.1.50:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK53a516067f7fb89d7a1dafbaced110c5
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
From: <sip:kostas@192.168.1.50:4000>;tag=2329159
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK0400cd9c77304cbb66504c3f6387c638,SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK53a516067f7fb89d7a1dafbaced110c5
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@811f2e8b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@126f827
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 18f0ae008dfa4006aa0fb14ea2062945@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
From: <sip:kostas@192.168.1.50:4000>;tag=2329159
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK53a516067f7fb89d7a1dafbaced110c5
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@192.168.1.50:4000 SIP/2.0
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1a09ece86ceccbe08ea67587952d40ea
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ea58b9a3
dialog =  gov.nist.javax.sip.stack.SIPDialog@1e1be92
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:48899 SIP/2.0
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKd8bc4769e04f5fe24c0191366c22e08f,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1a09ece86ceccbe08ea67587952d40ea
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:48899 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:48899 SIP/2.0
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKec5ccaf11d18e142d25404973b5de6c7,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1a09ece86ceccbe08ea67587952d40ea
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=31248093
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKec5ccaf11d18e142d25404973b5de6c7,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1a09ece86ceccbe08ea67587952d40ea
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3438f68a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1722456
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=31248093
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1a09ece86ceccbe08ea67587952d40ea
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=31248093
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKec5ccaf11d18e142d25404973b5de6c7,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1a09ece86ceccbe08ea67587952d40ea
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3438f68a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1722456
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:31248093
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=31248093
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK1a09ece86ceccbe08ea67587952d40ea
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=31248093
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4aa161cb
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e1be92
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@4aa161cb
dialog =  gov.nist.javax.sip.stack.SIPDialog@1e1be92
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1ba0f36
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@ea58b9a3
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1e1be92
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@3438f68a, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:48899 SIP/2.0
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: <sip:kostas@192.168.1.50:4000>;tag=31248093
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK10fa9d47bd64b5aa47f501e977adf7c2,SIP/2.0/UDP 192.168.1.50:5060;branch=39322e3136382e312e35303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
From: <sip:kostas@192.168.1.50:4000>;tag=31248093
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK1a3a6e2624956675d4f92b39bdfd2ce8
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@570c48a9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1722456
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
From: <sip:kostas@192.168.1.50:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK1a3a6e2624956675d4f92b39bdfd2ce8
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
From: <sip:kostas@192.168.1.50:4000>;tag=31248093
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK6a1ace0cf8d051b516ec468a2b8ea0a6,SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK1a3a6e2624956675d4f92b39bdfd2ce8
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9066830b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e1be92
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: bfbe11ab51a341acfa6fc0219435eeba@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
From: <sip:kostas@192.168.1.50:4000>;tag=31248093
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK1a3a6e2624956675d4f92b39bdfd2ce8
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b91e1b4fcade5f2f5f972079d89d678c@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK2aa36fcc43d95e365c223f0e023f8d3b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:48899 has been removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:kostas@192.168.1.50:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b91e1b4fcade5f2f5f972079d89d678c@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK2aa36fcc43d95e365c223f0e023f8d3b
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: b91e1b4fcade5f2f5f972079d89d678c@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>;tag=25699763
To: "jmaria" <sip:kostas@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:48899;branch=z9hG4bK2aa36fcc43d95e365c223f0e023f8d3b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:48899;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4c2b2bf26d6dfa2f0ace625fe5c44a35@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe8e240962c7a032b9db3e5b67907cc65
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas1@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas1@192.168.1.50:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas1@192.168.1.50:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas1@192.168.1.50:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.50:5060 has been removed for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas1@192.168.1.50:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas1@192.168.1.50:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas1@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4c2b2bf26d6dfa2f0ace625fe5c44a35@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe8e240962c7a032b9db3e5b67907cc65
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 4c2b2bf26d6dfa2f0ace625fe5c44a35@192.168.1.50
CSeq: 2 REGISTER
From: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>;tag=31332340
To: "jmaria" <sip:kostas1@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKe8e240962c7a032b9db3e5b67907cc65
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas1@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d7abe63ccef6d900ae04a97b53351356@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKaf14c1c4842ab3ee4f6ae05602c53c6a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.50:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d7abe63ccef6d900ae04a97b53351356@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKaf14c1c4842ab3ee4f6ae05602c53c6a
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: d7abe63ccef6d900ae04a97b53351356@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=16139149
To: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKaf14c1c4842ab3ee4f6ae05602c53c6a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.50:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3df8f474faa42bc125a57e8187298411@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bKc2c4ef9c8901cc524cb9f6093d611c3c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:2388;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.50:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.50:2388 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.50:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:2388;transport=udp>;expires=3600

registered user: "sip:alex@192.168.1.50:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3df8f474faa42bc125a57e8187298411@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bKc2c4ef9c8901cc524cb9f6093d611c3c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:2388;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.50:5061;transport=udp SIP/2.0
Call-ID: 3df8f474faa42bc125a57e8187298411@192.168.1.50
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bKc2c4ef9c8901cc524cb9f6093d611c3c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.50:2388;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.50:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.50:4000 SIP/2.0
Call-ID: 313db6e75c6eeb92248353575fa77241@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.50:4000;transport=udp>;tag=16139149
To: <sip:thanos@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bK49e0a891b0c5996be8c24d439468c3b7
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.50:4000 SIP/2.0
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bK9eb0eab4ad947fa48e186a49ca93c4eb
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.50:2388;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@15de991
dialog =  gov.nist.javax.sip.stack.SIPDialog@da90c
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK9005e3d3dbd1248eb91d2f850875e3ca,SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bK9eb0eab4ad947fa48e186a49ca93c4eb
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:2388;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.50 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.50:5060 SIP/2.0
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKdc3c9b12b062e6ecdc240f3d3bda96f8,SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bK9eb0eab4ad947fa48e186a49ca93c4eb
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.50:2388;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>;tag=25257701
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKdc3c9b12b062e6ecdc240f3d3bda96f8,SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bK9eb0eab4ad947fa48e186a49ca93c4eb
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@60405b14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@124111a
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>;tag=25257701
Via: SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bK9eb0eab4ad947fa48e186a49ca93c4eb
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>;tag=25257701
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bKdc3c9b12b062e6ecdc240f3d3bda96f8,SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bK9eb0eab4ad947fa48e186a49ca93c4eb
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@60405b14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@124111a
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:25257701
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>;tag=25257701
Via: SIP/2.0/UDP 192.168.1.50:2388;branch=z9hG4bK9eb0eab4ad947fa48e186a49ca93c4eb
Max-Forwards: 69
Record-Route: <sip:192.168.1.50:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.50
s=-
c=IN IP4 192.168.1.50
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>;tag=25257701
Via: SIP/2.0/UDP 192.168.1.50:2388;branch=39322e3136382e312e35303a3233383
Max-Forwards: 70
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d0f8654d
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@da90c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.50:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d0f8654d
dialog =  gov.nist.javax.sip.stack.SIPDialog@da90c
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1a78071
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@15de991
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@da90c
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@60405b14, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.50:5060 SIP/2.0
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
To: <sip:alex@192.168.1.50:4000>;tag=25257701
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK762a5b05fa8145b200f62b63987eebfc,SIP/2.0/UDP 192.168.1.50:2388;branch=39322e3136382e312e35303a3233383
Max-Forwards: 69
Route: "jmaria" <sip:192.168.1.50:5060;transport=udp>
Record-Route: <sip:192.168.1.50:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
From: <sip:alex@192.168.1.50:4000>;tag=25257701
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfc35898e5d271061f069e68be515f202
Route: "jmaria" <sip:192.168.1.50:2388;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@764c5004
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@124111a
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.1.50:4000;transport=udp SIP/2.0
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>
From: <sip:alex@192.168.1.50:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfc35898e5d271061f069e68be515f202
Route: "jmaria" <sip:192.168.1.50:2388;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.50:2388/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
From: <sip:alex@192.168.1.50:4000>;tag=25257701
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:4000;branch=z9hG4bK28300e4a94e1591f3a82de92b9d70b8b,SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfc35898e5d271061f069e68be515f202
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@dd8bdfec
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@da90c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: b0ec18786623087e8c783b12bec8dc52@192.168.1.50
CSeq: 1 BYE
To: "jmaria" <sip:thanos@192.168.1.50:4000;transport=udp>;tag=16579154
From: <sip:alex@192.168.1.50:4000>;tag=25257701
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.50:5060;branch=z9hG4bKfc35898e5d271061f069e68be515f202
Content-Length: 0


RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@192.168.1.50:4000
ExpiresTask, run(), we  removed the contact: sip:192.168.1.50:45333 for the user: sip:kostas@192.168.1.50:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

