Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 74b62aead7233cf653756c57b564a2c8@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=9131644
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0275b67714edd9d6915f0211fb581566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d8fd866816969525132c9369af186a46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc5d15fb3f601232690be7e8da13a49aa
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d8fd866816969525132c9369af186a46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc5d15fb3f601232690be7e8da13a49aa
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d8fd866816969525132c9369af186a46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc5d15fb3f601232690be7e8da13a49aa
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 505424ab925806777a6ae9f0574dbb1c@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf052264a3cd5b5ab84cc11fd96384d65
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 505424ab925806777a6ae9f0574dbb1c@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf052264a3cd5b5ab84cc11fd96384d65
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c6234bdc3cfcc489791ce21ed1965700@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK10b5906c6c20a7598a0c237e10895227
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c6234bdc3cfcc489791ce21ed1965700@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK10b5906c6c20a7598a0c237e10895227
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c6234bdc3cfcc489791ce21ed1965700@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK10b5906c6c20a7598a0c237e10895227
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: a2e64cd1abe73dd82a2e148129a900b1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd580cf5365a8f7f9c22e5a561e2afc36
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: a2e64cd1abe73dd82a2e148129a900b1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd580cf5365a8f7f9c22e5a561e2afc36
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: a21474566b3af2154fee5658fd3be07d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa31b7f7b5825ba1449fd2652280e32ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: a21474566b3af2154fee5658fd3be07d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=31329118
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa31b7f7b5825ba1449fd2652280e32ba
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 107bcec6542e607cf09609d0c56946e6@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKbdb9861dfcdfc99ad93cd39d1a6b368a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 107bcec6542e607cf09609d0c56946e6@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2831517
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKbdb9861dfcdfc99ad93cd39d1a6b368a
Max-Forwards: 70
Content-Length: 0



*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:5061
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:5061
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe32b7ff83b6ec31eb8bd2d4090be7a6b
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:5060
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:5060
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK84d81537edfee37a4a5e1dc5de4c102e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 2433ed36ad8c1a1ef00d0ab3b9769b6a@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcc25b49eb5c3a7693276a508958938a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 2433ed36ad8c1a1ef00d0ab3b9769b6a@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcc25b49eb5c3a7693276a508958938a6
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a856a17d2804fa6c36b5bb47e1ee9ab2@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=9131644
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe4d6822569d2d8db55fd783b7e1ce291
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK115ab186375592659409033513b5f273
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK115ab186375592659409033513b5f273
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2f42ec3fe81001f88e3354d702aaa201@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2978880
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK115ab186375592659409033513b5f273
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8eddbe868bbff82a36ca22ce10993a15
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8eddbe868bbff82a36ca22ce10993a15
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8eddbe868bbff82a36ca22ce10993a15
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK132d084168f9e6ea3ef3fba6d2ec13cb
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK132d084168f9e6ea3ef3fba6d2ec13cb
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK132d084168f9e6ea3ef3fba6d2ec13cb
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 9708143b276d9175322a28af6d2a7af5@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc25146690216acc6e6e1b5c399bf179a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 9708143b276d9175322a28af6d2a7af5@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc25146690216acc6e6e1b5c399bf179a
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 52aacf4be19c24f302b3cd17550658ec@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK64dc8434fa70e57446accd4d65c99d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 156

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 52aacf4be19c24f302b3cd17550658ec@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK64dc8434fa70e57446accd4d65c99d26
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:5060
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:5060
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:5060"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:5060 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:5060
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:5060"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:5060" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f909784f676e8880b080cadab0292f3c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>;tag=2831517
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:5060;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbc7f8d62c4585855f3ddd046471840ce
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:5060

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6ad3daa0bd892e76910f119f830cbd25
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:5061"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:5061" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:5061
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:5061
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:5061"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:5061 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:5061
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6ad3daa0bd892e76910f119f830cbd25
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bd52c3dae3b3ee6c00637805a508038c@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>;tag=2978880
To: "Kostas" <sip:kostas@127.0.0.1:5061;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6ad3daa0bd892e76910f119f830cbd25
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:5061

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd86f9c81159ea4a837baa63793d5d12f
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8fb1c149b8dc4c4e874f4250c268f52c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 23f464397e050d650af82731bc2e4341@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb1d706e6445df77c18a1dbd5f094d75d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 23f464397e050d650af82731bc2e4341@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc49b07c973f91a93a5f3f5cb97a7debd
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfce56261e03d9207353f5046d39fcdf5
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfce56261e03d9207353f5046d39fcdf5
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c7d197456372b4e3b02d2c381ced8dd0@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfce56261e03d9207353f5046d39fcdf5
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0a7987b1b78a6d7c2610d072a3d5f08b
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0a7987b1b78a6d7c2610d072a3d5f08b
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d9df00a5c70df44f2bb1f7d26dcb25cf@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=26548428
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0a7987b1b78a6d7c2610d072a3d5f08b
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfc1433dba47549bac8a0f277047e68b7
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1d64c35ec9d9b6bc06cc1b0a7618b8a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK85a89b079f4fcd6156b0e57cf9a3779d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK85a89b079f4fcd6156b0e57cf9a3779d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
TimeoutEvent received
TimeoutEvent received

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request CANCEL received:
CANCEL sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 42759bce0675f9a6059237103f405ab9@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac24e72f35f5b229cb7463a46b59c825
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfb5101e60a5edb09582e4111019751ee
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfb5101e60a5edb09582e4111019751ee
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a1bc86005494007f06b53d8d42705bf5@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfb5101e60a5edb09582e4111019751ee
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb79c9cb50c03bea94336e54d5d1b09b4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb79c9cb50c03bea94336e54d5d1b09b4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a0cedb3858aab77c883f7d14e2bea572@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb79c9cb50c03bea94336e54d5d1b09b4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c5c5f6a79e1c90a4a3de46cdb296a967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Kostas" <sip:sip2@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5062594206e5ede8489d319aacfbec93
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e4b5eea3bf7f76da3a1ebaaffffe12c9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5731cd11146f389169ae997b3ffa4538
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 97a214a1df687774711664a54dfc4fb1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK55918f185516cf86da45f84b53a4bcda
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
TimeoutEvent received

****************************************************
Request INVITE received:
INVITE sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK767e2bd616a81d8a7bba1861d8c91565
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2@127.0.0.1:4000 SIP/2.0
Call-ID: 0702973167378da43be6c9e9f280641e@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2ad9020cd2a0f4567c0431f4c24dfba8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d879d87ce9f4c972c786e2eeb33cc19b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd483938282c15b4a5b6f334b73bfa9cc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aaf6c6e148ecc998f61be0ef9e838a58@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK335ff701a6ad7e52265916f00006f7b6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b7acd4bb575b6cf800b8738a2db960d3@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK65beaa97cf41b27e870381c768adf3c8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK380cf12105eeeb0f719b60188eee364a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd355eec716456440bc13a303ed0910c4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd355eec716456440bc13a303ed0910c4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd355eec716456440bc13a303ed0910c4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@85ab3b65
dialog =  gov.nist.javax.sip.stack.SIPDialog@ed8eb5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.70:5061 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK32368c037b587d98c007935b6167e81f,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.70 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.70:5061 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK50b10aa9f6be2b4dc704c9a50039831c,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:15029693
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d13d1fe9bc87c009c3015af753c6863
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=3132392e39372e382e37303a3530363
Max-Forwards: 70
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d04e9ac6
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ed8eb5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d04e9ac6
dialog =  gov.nist.javax.sip.stack.SIPDialog@ed8eb5
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@4de3fe
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@85ab3b65
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@ed8eb5
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@cb547a9a, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.70:5061 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK540a433c06416c509001ad429a1ec6b1,SIP/2.0/UDP 129.97.8.70:5060;branch=3132392e39372e382e37303a3530363
Max-Forwards: 69
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
From: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7d6786dc
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a697a1
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
From: <sip:sip2Kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.70:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
From: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK53255f4e12e0886f56f7ad28ca0ed64a,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@77b59a8b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ed8eb5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c5ef92c522046daa8a8de119521560bf@129.97.8.70
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
From: <sip:sip2Kostas@127.0.0.1:4000>;tag=15029693
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK3668c971d07a0c3cfc86ba4430c3e371
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 65182608f394b24f111fab7b214e50fb@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK413c078cb5936a576aa41b055fa523f2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: af72471ffc6439c9545f71587ec85361@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK6283d2b0189774851d9998ce4d197dc4
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 09ade0ab13b99f5635f228b2bc60fe05@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2fbb1055727efe14d86a77f9428e756d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5b857779cf50f4e852d80c0ee583c334@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK62cde797583453f22e3dc1e64658bdfd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 735f721a46884b33982182f38b0ebdf1@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK27b80c02ec595d44316456dbd6c3f623
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 735f721a46884b33982182f38b0ebdf1@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe152d704dfb1f55fbb885252f143a331
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a08babd48c061a0a66916ce618c310f8@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb6c7218e6411006bacd0c04ec495e74b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a3b3e39eea9c88f1b25fc49ee10cdef4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK97861b4341ef1a63fdf42bc16ea99ed4
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a3b3e39eea9c88f1b25fc49ee10cdef4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK97861b4341ef1a63fdf42bc16ea99ed4
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a3b3e39eea9c88f1b25fc49ee10cdef4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK97861b4341ef1a63fdf42bc16ea99ed4
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 043824a803f7cc92bda6f26c2977fcb0@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK07a478da774468f6318b4e8890d02f36
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 043824a803f7cc92bda6f26c2977fcb0@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKa1a21fbdec43e13bc2fb15d75c01fcf6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a39da2a8b8d9dbda660aa7ee752f1769@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK97933fe27692d10f0c7a8cdf0690aa64
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

ExpiresTask, run(), we  removed the contact: sip:129.97.8.70:5061 for the user: sip:sip2kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 58e82cf6f22dd7875a1bdd1bbbf5d2f4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK56716819dd0fed145210e8934fee0f89
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 58e82cf6f22dd7875a1bdd1bbbf5d2f4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK56716819dd0fed145210e8934fee0f89
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 58e82cf6f22dd7875a1bdd1bbbf5d2f4@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=6159089
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK56716819dd0fed145210e8934fee0f89
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 215175648f9b7e2edb404101c35da99b@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK8a8c7177122e7336b739b0a65a9560c3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1274a1537148e57727941b83273b4f99@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKea891d3b2c24dc235f85d8bc3fef1646
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d5bba4d3ab38f593a5ea97d38c4a2db4@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd9dba6579041b133ff1ebd1bf868ed98
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d5bba4d3ab38f593a5ea97d38c4a2db4@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd560da6cdcc55107078483ff66fd9209
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e942e40627ab3428f18ebc02ebf34643@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe7084c1c0e94d83630ec0f12b0da3d72
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4ec5733cf7aceaf55451fa904e782e48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde4f7bd92fcf63231f4723a01139a15a
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 6bc869f3bb631f2967bab3ec35e7a05d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9493
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc00a3509e3a9e030b35c948e30b1168a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f1c82f4109a889b4806c6e20bef7142d@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK3d33e8671c2e1a0b9dc719c7b18a441a
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 023db83ebcebc57db3d14117cdda423d@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf84ba8eae69554ba842842ab0f59413c
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 14b5daf5286df8afd11eea50b2d9f067@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9ab026ee1c4043d7c160dc80c61a6492
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 14b5daf5286df8afd11eea50b2d9f067@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd8808df79a4113170b490522aa874a8c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 14b5daf5286df8afd11eea50b2d9f067@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd8808df79a4113170b490522aa874a8c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
DEBUG, traces viewer closed.
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKdd9ba6e9501ca90d5ce965de1ecc42e2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa19d6e5e48450120d6a81362e6c32ab3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa19d6e5e48450120d6a81362e6c32ab3
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa19d6e5e48450120d6a81362e6c32ab3
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 888c4fa29930e9f988c61f5adb41d0ff@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK71c3d005e3e7c78dadf4f5d9973620ad
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 888c4fa29930e9f988c61f5adb41d0ff@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK47558a9613b281ba5db8e2b856d587c2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 888c4fa29930e9f988c61f5adb41d0ff@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK47558a9613b281ba5db8e2b856d587c2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 517979375d3231d931182a3cab4dabcd@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe87694404f09ca530d48119d47db60ec
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb2f03624ec95b11c4679b4cbc95f2e86
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb2f03624ec95b11c4679b4cbc95f2e86
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0d7dff5d1a85be82b6728d91b6963261@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb2f03624ec95b11c4679b4cbc95f2e86
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3d5a6caa4c5dae94bbe8492bb2315d48@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK4d3b0605a3a5111f261daef846dfffdc
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5d150d62a5a2be5d25993823d88033a9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8a00eba54912d05e8f8ed75413f37178
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5d150d62a5a2be5d25993823d88033a9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8a00eba54912d05e8f8ed75413f37178
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 5d150d62a5a2be5d25993823d88033a9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8a00eba54912d05e8f8ed75413f37178
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip1Tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: e10dcdccabf1dc3c617182b9815895dc@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:sip1Tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb282ed1d402f4d2e1c27301b51b114c7
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK59f8c841e3c6d5f605427a0886310281
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8590f5e2c5093307fe5e609b31b7b6f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 70f66cff8847a19f96d480e5eaa87357@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK99602811fa23a449005e12aa3e417d9f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 70f66cff8847a19f96d480e5eaa87357@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2c4938ef3881402ee1edc431fee8771c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 386478591397d31115fc9fe02e47fd6a@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0016712768221baedddd17bddc8c28a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0cfa9acf59cf7c2d999427a0240dbbb@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK9522a7903779fbf5ee4efdf0ca823946
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 2ea09b3b9071ab39b18599126a364f47@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0903ef62b77f065978c0b30cc03350fd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e91552b7cb7c6a3050b0e292384e3c69@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcb82b0338840b5df82e379b13c35bd03
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e91552b7cb7c6a3050b0e292384e3c69@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcb82b0338840b5df82e379b13c35bd03
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e91552b7cb7c6a3050b0e292384e3c69@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcb82b0338840b5df82e379b13c35bd03
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c87e769616184056f89bf759516ed287@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK962622179add61158027128a8c49512d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 846c2e9eade46af578800e9bd8ef80ad@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8acdf1d69f90cff554a4d2a25c048eb3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK42c4a4bf9ede2e17fe1d0b606a7522cd
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK257fd7adc2180dde968ac8e7578c06ab
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: e0743d5fefc8feec26e3791195828f0f@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKb85a609b40a4e3c9eb6db0c6caa98453
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK26c333caacfae5efc0ca4d85f373f63a
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK26c333caacfae5efc0ca4d85f373f63a
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 88e5c025f726a55ee72a3b3ebb888a20@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK26c333caacfae5efc0ca4d85f373f63a
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 62b3c5bf6eda9df7398c399bae5c9e21@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK7a366444932979c930c8a067e6e991e8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK18242b2de373432ab85c3aa25b59b476
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK18242b2de373432ab85c3aa25b59b476
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK18242b2de373432ab85c3aa25b59b476
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfbaf8b8ed3f4df4e9dd99aa3466b0d11
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: ee970169cde7660729bf2b0b645de3bd@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5f64efc1819d1edf3f78c88ee1d9a4de
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9884c78a7d8c77a56c808d2baf608666
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9884c78a7d8c77a56c808d2baf608666
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f8277ccf4e02ccb899348c439165015f@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9884c78a7d8c77a56c808d2baf608666
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d0484a8730eb3acc6c9534be02479f59@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd9b2927126a64106a7423aac41871880
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKfd885f9b73c1f1fa0a867fd12569caa2
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 118aa1cd0cc36e3f616e4b26c68c4494@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK965da5403d2e39994173c312d21a2bcc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b66a21a0c1a8c9d80f9e3d48f15896d7@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1856227ed8420fbda2b282afb9224357
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK815e94df56c01e767bcfb1e6428c1889
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK815e94df56c01e767bcfb1e6428c1889
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e21812b5331f45c1a71c9e720d857df8@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK815e94df56c01e767bcfb1e6428c1889
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK41229677442cdfd5fab60ca5198ba1f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK53d45736c0a4b62005475d7006a6b2ae
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9ca06a9978dcf6811f6a2e23ab78596d@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9c3e40823b712c36d45c6f1939c58cdb
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9ca06a9978dcf6811f6a2e23ab78596d@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbaa32afee967301dae5943fa5585efaf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9ca06a9978dcf6811f6a2e23ab78596d@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKbaa32afee967301dae5943fa5585efaf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 553a1001249ff1860c6c9ccdb3f63924@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK4a3231ab8f73ac7927aa645ed62909e9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6be4bbe714429036621462b6859a8787@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKc18a1e521040eb10c8d4748c83ae3feb
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
ExpiresTask, run(), we  removed the contact: sip:129.97.8.70:5060 for the user: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
ExpiresTask, run(), we  removed the contact: sip:129.97.8.70:5061 for the user: sip:sip2kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 05883b63121d530bbcdea730d279b085@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=29106105
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK169ada2d5ca743a8fd7d37cea9315927
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd198f3da1328d17dedc95da5ee308c97
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c79d96173e79c1d278d8f7c1ed1fd8ea@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf831a7aaaac94931dc7a1c8675b57fd6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c79d96173e79c1d278d8f7c1ed1fd8ea@129.97.8.70
CSeq: 1 CANCEL
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe0ecec61173938f6f70e059b28ee8c54
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b00319952284d3d3c9ca362bee35c39c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5a97da4434791afeebe28584b0a01eab
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5b79521dbbd44a75b94b57fc85f4ace0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: db2199add50451a7fbd9fb1ef3a3f05c@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa7b8793ecb221f5ea8a280f37577b29
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK52e55ad4c743df19c7db07e17478ce40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 45bd40acdc0341a3fb40220ed07a2b61@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=25106497
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKaff1bd565c45396cf31c2e457a8884a9
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f2b87e4a0c5d1809924b574511f20b91@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK464753feb4b7c3a4ab03a9e248d01b9e
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: e7bb84807d29c262f4a967ae85bf86db@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK20be4d4e6e470c0688e7b86a59955b14
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: e79ef25bb6f38d0502f29e97dcc113a0@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK0be4fc219041a55d18d2d6a454793c0f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0037015c76f4c6832a30acea09753779@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5bc9bd0fe543aee214abe6769fa3d9b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKace8886fe56338f4e596cbbe364335f8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKace8886fe56338f4e596cbbe364335f8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKace8886fe56338f4e596cbbe364335f8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: fc876f5ace50ee7c225a58b89a432b1b@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK34dfc6d43813dcad2a8fe8cf1089ecf4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe07315ef8effd689e8e158dd69468a38
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe07315ef8effd689e8e158dd69468a38
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0bd0067e6bd6419dbb52e72eac87ca71@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=21909041
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKe07315ef8effd689e8e158dd69468a38
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKde06e14578d50f17746dc5666ab14e15
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 704520ebb273a01cca1f83a8ab2295c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e839f93c31cb9cb034915557af20b2c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 066384a6acd7b44ca5ebba4a19eff98c@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9bdfac855fa0a9fe26f333c654123b46
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1c435d63352bb4f057f664bb4d2256fd@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKd6c14c4c616a28133602c32cbccf72f6
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa546464bc75551837a647ec4b30e6247
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK5dc381be450f7d0166efdd49890b5e68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 5ee92fd13f2a2263533e15086cbb1bc8@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK527871cd738dd281d4df8f49d638b0c6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 628f67aca38f773331d6efaee644e6a6@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2498aead6bb61be61f1b3611fe808a92
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK613264cef1dda0846dc9ce43b5237453
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK613264cef1dda0846dc9ce43b5237453
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: dcc72b07b47a79f686b1718c5ca1f880@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK613264cef1dda0846dc9ce43b5237453
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 863fe64f5c0a932f3e07fd5f28d44044@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK2663896ccefb1195e98e903ce7c37cd8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKad15d1679649722afc78d55b37c1f534
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: f6a33f88f785c9536e5110468a159d57@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKac7df02d15fd3a9ea2062125ed0e3e19
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7bff7113087311393cc61a3bdf9fd967@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK0b0df748dbe91ffb953e659a73b9b359
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a6cb6a325354e97149cb765474d8ef46@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKda820d8f179176cad7d39e28d4e30fdf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1aa7d313dffcafdcb89efe1e8f84a229@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=22664464
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK733212ce39a64a3c9f3586edbe4c86b8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 164219d0198cfee38cb37a79bff09eb9@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKd257efd3a639bdd25f677042e2b39c23
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6788dc31515c4137e738c12fd680bfe8@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK5e2df70f4727a7ca2f5fb8ac5c730706
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bdaee4d47249bae4d6af230ad739c9eb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe768c4330999bd18e44b6f811fa1c906
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bdaee4d47249bae4d6af230ad739c9eb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe768c4330999bd18e44b6f811fa1c906
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: bdaee4d47249bae4d6af230ad739c9eb@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKe768c4330999bd18e44b6f811fa1c906
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: a00833d54d1db4bc38af0b1ea7bd3f93@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK10dca44f0c5b979c1e51797e77a95a2b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: fdf7ca668acdb5c9d2f6b05b374a72d9@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKfa5e924709743f16d51e412083bb7a6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b82f5be3da544bea5f3bd83cf97028ae@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK111401c6d8ac3371f884da4f53135823
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b82f5be3da544bea5f3bd83cf97028ae@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK111401c6d8ac3371f884da4f53135823
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: b82f5be3da544bea5f3bd83cf97028ae@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK111401c6d8ac3371f884da4f53135823
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d6eee2129fb6aaaa407a0f6592d7fd74@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=18474371
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1a2f706cdf515125a1cfa8c7292add7d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK83317bd378cea89570aedf41f327a866
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK8365c8ef6d52eb68e567314236970839
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 5e55648ae9f742d96b68d440b653a747@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK00bbe822a2834e71aa04b136c11e0ce6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: da658ad5e48796f525a6e98725473e41@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK736d7eb32b19c57e699548e4d1c6f6b3
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 83047a34a4b6b2d85d57f2d15ec4f3c2@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK28a78684f4a7cd0eddbb10e3b9e9dfb6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK2c9a5943020f3730a39d9bea14a5f5e9
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc763128472e54e9366a953c8a911dc3f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc763128472e54e9366a953c8a911dc3f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKc763128472e54e9366a953c8a911dc3f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: d2970e8eb5109427ccf8a648a349ae6e@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK74f3d472da64a37911eb0be14028af9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 1d99a191244e5cb6f08d1cb9c2549282@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK91ccf4888ac6ad2451d04d0109aff334
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 52ae5480de4d8780883a52f591830ae3@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=9594508
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKf76f31455d42b23e5a2b15e95a124d81
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKec5626a3d44b20eba40e355c21c560e8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKec5626a3d44b20eba40e355c21c560e8
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKec5626a3d44b20eba40e355c21c560e8
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK1e6096a0b330967c90d11a9111596d14
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: f7154ec738658f03919a7803b4554233@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK98b7a8df145579e345493753fbd2c350
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: bb0bfe2eb64350066aaa04f30eef02bf@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK9261403bfdf63cd024687d30e5787270
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip1tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip1tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip1tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: cbcb5ed64c17057ab123d248eb343d90@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK996939c26384a55b1161e62bce9077a1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK973685784513335b84248beea268b450
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK973685784513335b84248beea268b450
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0b3cfbb61dbea7b094ab055a36206c6@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=7310123
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK973685784513335b84248beea268b450
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKb603e3b0870d08e17e9fa2812cca9f06
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 61b4b8bde1ac97d82a9077dfe166b52b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK02c8266f66f4ac6654be43c93c79f769
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip1tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip1tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sip1tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 61b4b8bde1ac97d82a9077dfe166b52b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK02c8266f66f4ac6654be43c93c79f769
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 61b4b8bde1ac97d82a9077dfe166b52b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK02c8266f66f4ac6654be43c93c79f769
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip1Tiuley@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:sip2Kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b09bf4c9d6795f4d2b4cb7b7da6d4907@129.97.8.70
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:sip1Tiuley@127.0.0.1:4000;transport=udp>;tag=19601861
To: <sip:sip2Kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK034735945bf9151aeebb36dba8f74276
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sip2kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sip2kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:sip2kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sip2kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sip2kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:sip1tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sip2kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sip2kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: aca2d2a4e1c095b85832cc3cd81e39f5@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>;tag=11737975
To: "Kostas" <sip:sip2Kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKa8a997b61fb8edf5532a51d88225c693
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sip2Kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK697c10833e815ac02fbe9a69cb1b68c7
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5061 ?
Contact in the list:sip:129.97.8.70:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 1 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK1ebadfe93105a950d8298e15bd72b2fa
Max-Forwards: 70
Expires: 3600
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 70
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@119c15aa
dialog =  gov.nist.javax.sip.stack.SIPDialog@cffc79
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.70:5060 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK655c129c6fb2454e03174eefbf7b8eeb,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.70 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.70:5060 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4f841e2d7e29e6fea407087417b0ee9f,SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:22364723
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 INVITE
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bK19592bdeb3479c0cc6300c3c40a8582f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 159

v=0
o=talguind 0 0 IN IP4 129.97.8.70
s=-
c=IN IP4 129.97.8.70
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 ACK
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=3132392e39372e382e37303a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b5117abd
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cffc79
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b5117abd
dialog =  gov.nist.javax.sip.stack.SIPDialog@cffc79
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@8b567c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@119c15aa
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@cffc79
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@96e80178, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.70:5060 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 ACK
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK9d90b540040e96078c3d219579df0f50,SIP/2.0/UDP 129.97.8.70:5061;branch=3132392e39372e382e37303a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
From: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@60f0326f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9abc69
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000 SIP/2.0
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Route: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.70:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5060 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 483226bbcdde9f597966c00b2755c675@129.97.8.70
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6868345
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKcfb3e84dccd10c47ce059aee0d4bc628
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
From: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8d1d4f57fcd1a1a84ca5c89ec0cf77f3,SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ec01cc64
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cffc79
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: b4473e7f802bfd0a8366079f0351d387@129.97.8.70
CSeq: 1 BYE
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
From: <sip:tiuley@127.0.0.1:4000>;tag=22364723
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bKee4d7068ce6ad0a08f781fa11e505ae3
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf28ded93bc33cf7526efea83edb84669
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.70:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

************************************************

*********  Registration record *****************

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf28ded93bc33cf7526efea83edb84669
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 01e7e50db5a8b9e394af599d5b08a7fe@129.97.8.70
CSeq: 2 REGISTER
From: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Kostas" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5061;branch=z9hG4bKf28ded93bc33cf7526efea83edb84669
Max-Forwards: 70
Expires: 0
Contact: "Kostas" <sip:129.97.8.70:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./configuration/gov/nist/sip/proxy/configuration/registrations.xml
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.70:5060 ?
Contact in the list:sip:129.97.8.70:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.70:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.70:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.70:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 123292f2984b129ac80952e36310ac9b@129.97.8.70
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=2098848
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.70:5060;branch=z9hG4bK140cfa8c53c0fd1e8418ad74a70713e3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.70:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK70168853d017a0090f3ac8addb5296a5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:50889 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:50889 ?
Contact in the list:sip:129.97.8.125:50889
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:50889 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:50889
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:50889 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:50889 ?
Contact in the list:sip:129.97.8.125:50889
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:50889 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:50889
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:50889 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK5d6eebd47213b52ebb46918085ae4375
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7f153bb6
dialog =  gov.nist.javax.sip.stack.SIPDialog@11410e5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:50889 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK31d041054f22cf922300936263df4a48,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:50889 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:50889 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6130f9f24d6aefa305aea3f82d04fb50,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:33083972
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK19166e2fdea8866f4ed7148afc4b8938
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@aaa2da5a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11410e5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@aaa2da5a
dialog =  gov.nist.javax.sip.stack.SIPDialog@11410e5
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@5e222e
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@7f153bb6
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@11410e5
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@647d995e, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:50889 SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=33083972
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK83e1bd44d9dfd6726fb1db77ee3050dd,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=33083972
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f44ec7f9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@602b6b
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=33083972
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK3d45de222c628c3bb836e7039f9825f8,SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3a0b3ae8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11410e5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c5ecc3876dbcc26c28ae80ac374a8449@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=33083972
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bKfe8c1f82e62eac24327a14a9016c4a93
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:50889 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4d2c3e4bf671f78d9762dc7a3d4bfa03@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7577407
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:50889;branch=z9hG4bK2f843444dddc3fcd50ac61e05ba0373e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:50889;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:3415 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:3415 ?
Contact in the list:sip:129.97.8.125:3415
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:3415 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:3415
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:3415 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:3415 ?
Contact in the list:sip:129.97.8.125:3415
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:3415 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:3415
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:3415 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK9e57fd08813cc25c0a47bbc4c0c4ce68
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@102330e6
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a0ae6
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:3415 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1b2178d5694063985291dabe486d23cc,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:3415 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:3415 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK61585da8a32db097e7cb9509561c9fdb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:8818963
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e287e7482e14beb305890596d6f8148
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@39e463b3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a0ae6
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@39e463b3
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a0ae6
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@132ae7
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@102330e6
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1a0ae6
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@fcbc7867, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:3415 SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=8818963
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4dfb89adad1e41e1cb9f3bce8d31f60a,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:3415 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=8818963
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@236230ac
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15e92d7
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6d618a925a204230463958684c456340@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bKc65855c45e547790eeecc821117fcce1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:3415;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=8818963
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK386132f97ad49986ca80352d68e8b28a,SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@81f5d821
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a0ae6
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 123df02e07dc14ff849386465d97c5d7@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=8818963
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:3415;branch=z9hG4bK93c1713b13b4585215f42422cf0e1ae1
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:7818 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:7818 ?
Contact in the list:sip:129.97.8.125:7818
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:7818 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:7818
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:7818 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:7818 ?
Contact in the list:sip:129.97.8.125:7818
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:7818 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:7818
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:7818 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKa38089c5d602338ffb61814334441d40
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@19f921
dialog =  gov.nist.javax.sip.stack.SIPDialog@c70b0d
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:7818 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK3235f60d6dd33efc01171abd7ed1bf60,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:7818 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:7818 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1154f52444dc3601fc196bb7c0fb2748,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:4239289
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK22c5bd61b7a3b43b574b9bc7c59b1433
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@6ffefb67
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c70b0d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6ffefb67
dialog =  gov.nist.javax.sip.stack.SIPDialog@c70b0d
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@2b349d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@19f921
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@c70b0d
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@fbf93bca, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:7818 SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2e3db9372364dbaa73eb6b0ee274dd60,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=4239289
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5e0f3ec9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bef361
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=4239289
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK9f1a590359ce0dc9682e2fd945676646,SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6a1a6db5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c70b0d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 00e62eb02bfb4b5e700e9f556cc7a2f2@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=4239289
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bK797e2fd25dd4a10150e9f0eea6a5f6b8
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:7818 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6615e2f01f9d7051c1e5684a155108de@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:7818;branch=z9hG4bKb543acdffdbd0e0793374f2c1a202267
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:7818;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0aee4b49d5e7873414636890218112e9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@4866fd5c
dialog =  gov.nist.javax.sip.stack.SIPDialog@ae4646
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK99d4ef6d7a275c12b55a4a45aeff72ad,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7d4d2ed1a20f86e7a94dbaa648449669,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:31583366
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6c4eb368e26a510a20c587929a8012ec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bb935399
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ae4646
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bb935399
dialog =  gov.nist.javax.sip.stack.SIPDialog@ae4646
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@164b9b6
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@4866fd5c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@ae4646
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@631fa793, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK190b50dabc274b90e29b63caeb718c56,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@6921ef3d
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ae4646
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK72cc7347ce70f785d95d7b732c48102b,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ca35371
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@187b287
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: cc0157d1b772e6adc50c88784fcc0887@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=31583366
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8df373de25f1e6c05fd5b8ed03721e0c
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@dac88502
dialog =  gov.nist.javax.sip.stack.SIPDialog@1474ea
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5d32f55cb03b478df95e08e4ac1e5e3b,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22235 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22245 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc1325643521d9ae3922fd038b159018e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:22760146
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK2e8c057c47b61ed97637917a109f77ad
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@464cc039
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1474ea
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@464cc039
dialog =  gov.nist.javax.sip.stack.SIPDialog@1474ea
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@125d61e
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@dac88502
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1474ea
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@4b329d31, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK14b7b081feeb2795d07024d60f42523b,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
From: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3181cca3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
From: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKce6d8349f063ebb8bbbe33a87f0b64d7,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@aa1a66b5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1474ea
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 96f748cb09488194a7c8ee980272b40e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
From: <sip:tiuley@127.0.0.1:4000>;tag=22760146
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa12fa24fc35e92b0473ab199c7314fe7
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 785d058ec676e177605ee3cf9bb7958b@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf2d852a5c8d354404db1583892c1b1a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5d19a8baf0861c4528e29c5c63f12467
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a45c1c61
dialog =  gov.nist.javax.sip.stack.SIPDialog@c9630a
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5b72075f669a462b2687ef8bf19ec837,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa35f958f5bcc85148b83fc324711605d,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:24668732
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKccc67dfd6f7c5de2332bfee2d3ee1c7f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5012d258
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c9630a
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5012d258
dialog =  gov.nist.javax.sip.stack.SIPDialog@c9630a
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@fe315d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@a45c1c61
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@c9630a
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fcf5a46, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK86d7a24b5858835cfcf9bd34a5057c3d,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK015d5bdfc796e05208ff99561195c82e
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9adfcc64
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c9630a
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: <sip:kostas@127.0.0.1:4000>;tag=24668732
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK015d5bdfc796e05208ff99561195c82e
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: c4b6d456339a241fd3bcfddb23dcd188@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKfff9a90cc0c3a938fcc8128a79c92b97
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=23511000
From: <sip:kostas@127.0.0.1:4000>;tag=24668732
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdad7018ed56c00743defb87762df1cde
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@abfa44d1
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@24de7d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 6d406e833455e131c058a7d697ae2c35@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdad7018ed56c00743defb87762df1cde
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3f120c7266b9b0812fcd6e7f4dd53ed7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKb35a6f85fb2d11ae7c33c87b341855f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 0cecb1377bc84fb76561f303479d6625@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK07249dc13a25fb1caf86da6f99222b6f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:37712 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:37712 ?
Contact in the list:sip:129.97.8.125:37712
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:37712 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:37712
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:37712 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:37712 ?
Contact in the list:sip:129.97.8.125:37712
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:37712 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:37712
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:37712 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e926adef76de13128b62d2988166f17e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK5954f11481677f02db8012b45c182449
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@66755fc
dialog =  gov.nist.javax.sip.stack.SIPDialog@df2d38
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:37712 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKe8703bc71d85535d77617a361fdb3837,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:37712 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:37712 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa99bcb9c4e9119dc5d2f539833091a6e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10594949
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK12c991eb738393821143cef6c889c33b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1c551d50
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@df2d38
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1c551d50
dialog =  gov.nist.javax.sip.stack.SIPDialog@df2d38
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1858aa0
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@66755fc
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@df2d38
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@7463fe41, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:37712 SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4636ffdb121397c60724b38f0dc63ea0,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@72fe6bc9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@df2d38
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:37712/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5fc8f120539caa3dde5ec847fb7e353d,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9d69dfad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a2f02e
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: ba1c31f6d19dcdca795657c034050e60@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=22459270
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5a3a7951b8ccec1f657f4fab2fa2bb03
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@aa9a1861
dialog =  gov.nist.javax.sip.stack.SIPDialog@1283052
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0852c593ae0eef00f77ea942ea90fb62,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:37712;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@134eb84
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@134eb84
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK017d78a1d31b442c73d0bcfd393a8524,SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@134eb84
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:23856861
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=z9hG4bK71cbbed4c0e52f486cfff525dc39b69b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 129.97.8.125:37712;branch=392e39372e382e3132353a333737313
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9e8eed22
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1283052
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@9e8eed22
dialog =  gov.nist.javax.sip.stack.SIPDialog@1283052
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@15b8520
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@aa9a1861
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1283052
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@548f6d09, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: 2367b6062b4f556cda48a0ea45090cc0@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11068806
To: <sip:tiuley@127.0.0.1:4000>;tag=23856861
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK68f849534f20cea91396969589ada7be,SIP/2.0/UDP 129.97.8.125:37712;branch=392e39372e382e3132353a333737313
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa40751e889e0a9d7a418ef716aef0d26
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 546b209615ca2d32e116e5bb99c16538@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=26147562
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK50c244eb9ef8908be93ca80f2c9576f3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa86230842e481c81382d318222a08cb5
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9c3769246021f51f7ed69be0e59cfe6c
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@98810f82
dialog =  gov.nist.javax.sip.stack.SIPDialog@17f11fb
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb0f723ff265f043d5e266cc24da65746,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0c307a3d6e62260f2d7b3168103bdcd0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:21673243
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK275418e4440101e1474de8bd66f71a1c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f0325c7a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17f11fb
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@f0325c7a
dialog =  gov.nist.javax.sip.stack.SIPDialog@17f11fb
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@120540c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@98810f82
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@17f11fb
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@1921f465, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK9e27943dbc2707fc027b8b9fa64c2ea9,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: <sip:kostas@127.0.0.1:4000>;tag=21673243
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbbc7a3b8c676ed79167d90b2786897a
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8634ad14
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17f11fb
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbbc7a3b8c676ed79167d90b2786897a
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 97f235ae35394907197b25ca310eb5c2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe006f2520d1a37912c2c279a3564b3f4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=29812760
From: <sip:kostas@127.0.0.1:4000>;tag=21673243
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKabde2fc5134fcd1af537d435fbb48fc9
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@53a6e863
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a4c5b4
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: ceb6e95c293c1ce3b1c319268a75af20@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKabde2fc5134fcd1af537d435fbb48fc9
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: d6a99a7ffc161b17aea11f89a17eb157@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK683d590c5da86bceee0872fbe7a6030f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKfd4c43b0ecc5b3e177c83894700700a6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK30f9b65b653034337450c4bf9a3a1782
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d8fd45f7
dialog =  gov.nist.javax.sip.stack.SIPDialog@65b738
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb0b60dea91a1b7a156592f9573da8985,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK273a0421f7e9cb29497ffec4104c4bff,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:29321385
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa67b751eb526b302f2c49635fed2b302
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@ad2d82da
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@65b738
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ad2d82da
dialog =  gov.nist.javax.sip.stack.SIPDialog@65b738
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10e434d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@d8fd45f7
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@65b738
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@47b44280, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0d9644c1c7f4dd29ee96622aec8db1f7,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8f1ca298
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@65b738
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8f1ca298
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@65b738
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKe2369c57579ad809928adaf1f90fbb4f,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a9cdf487
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f894ce
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: fd0d5fce732fe6cba14eb39d17c07f20@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=29321385
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK94651b3a530bb10d9e942e8670e88a00
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e8b40f40
dialog =  gov.nist.javax.sip.stack.SIPDialog@78dc4c
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa842ca9a4fec6b6c316c95acc22aea96,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK4a0b2f51a381d3e398ac78eb68fdd0d9,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:1923370
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK43c687e87374b8be0c1ab8e2d98624e5
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4f35a9d4
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@78dc4c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@4f35a9d4
dialog =  gov.nist.javax.sip.stack.SIPDialog@78dc4c
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@2b349d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e8b40f40
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@78dc4c
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@9ddd0d76, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7332596b3eb761e62da367e6d6b9c3db,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
From: <sip:kostas@127.0.0.1:4000>;tag=1923370
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb2267495387d5828e84d2ab9d4d99308
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b7438757
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1a6a1a7
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb2267495387d5828e84d2ab9d4d99308
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 23720e3bbce0ca472fc1bdb3216900af@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb8d2fb76fd69e84eeb418c629f6c7b1
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8fa6c38252518d920de3364a9e0a5317
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@866aa1bd
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@78dc4c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: f89aeaea1d4cf135648228eac844ef02@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: <sip:kostas@127.0.0.1:4000>;tag=1923370
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8fa6c38252518d920de3364a9e0a5317
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: e4d98ceb0296c0cd048022956ae213ae@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=17922592
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7a077e859b7f94bac5b014a07098adff
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK08f9a32673b26e074712d6d679f9fd44
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKa8241a174e6f0805cd26374a1b646e9d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@f6616370
dialog =  gov.nist.javax.sip.stack.SIPDialog@b6ef8
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKef990cca1d88899e10e8679f24928357,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKde7187cc21b75011b36947940c35fe5a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:4254944
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK60d3001941e2cb4a0ee3d10b9fa9d21f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@d4cb4785
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b6ef8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d4cb4785
dialog =  gov.nist.javax.sip.stack.SIPDialog@b6ef8
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@9f0d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@f6616370
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@b6ef8
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@fce08eda, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8f5c898c53c9dfa26ad7804e11b4717d,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@db149487
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b6ef8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK253ce39a1b13d7da53873164e83c687e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d47ca557
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cc0a7f
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 3fe59366caccac6c0228bea3e420e3e1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4254944
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK95859399a392f44481280dbb4b8c45b1
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@21cf1c54
dialog =  gov.nist.javax.sip.stack.SIPDialog@125d61e
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6abdcf7bf50809273e474aad2788d236,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK2d9861fdf7ad1befc1c13a7ea7ae73e2,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:7099222
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK07767a0efe5a4293f067ec53dba6011c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5341183b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125d61e
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5341183b
dialog =  gov.nist.javax.sip.stack.SIPDialog@125d61e
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@128edf2
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@21cf1c54
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@125d61e
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@f45a5dca, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK82f97bdff69a0ecb699f00856f3e1d26,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
From: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5862ff7bb9f42806a49e8cc3d8799447
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9417a48
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@155d3a3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5862ff7bb9f42806a49e8cc3d8799447
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: dda2b84231eee4789ff03d773aebb7a3@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKc78e35d57211501830d9405585eb4f15
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK73549f0fc594f9d4ef5dca2702135e59
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f22f9298
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@125d61e
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 5ea4df40fccc3909bbc52e38dc313cc1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: <sip:tiuley@127.0.0.1:4000>;tag=7099222
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK73549f0fc594f9d4ef5dca2702135e59
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb76b6c70d870b16fd131b3b257aa79cb
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Proxy Clean up
*********  Registration record *****************

*****************************************************


Stopping the proxy
registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), internal error, exception raised:
PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 91487c2fed6c3fe1af38ffaf6710c0c1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb76b6c70d870b16fd131b3b257aa79cb
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 11d48c9c1fc323208c30340999ea1ac4@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc8d5c1b332a3770d1538b55a07fcb5fc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71688cb73cb8ee8a0163a6fa14352c11
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0c56846ed469d30933c21678b22eedb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@cb28164b
dialog =  gov.nist.javax.sip.stack.SIPDialog@19da967
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK13bef07d437437aeeeb0023bdd9103c3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5996d49dac9ee518ccb820e30cfe78b7,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2310757
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKee2a080ffbe20706a977f6b195dc9d6b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@eb55a759
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19da967
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@eb55a759
dialog =  gov.nist.javax.sip.stack.SIPDialog@19da967
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@115d06c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@cb28164b
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@19da967
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@8267516a, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8daa09f9005d67073aa9cd08e4e7cd11,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2e353ccf
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19da967
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKaf4810592b00d43c9a7b20a3eed36e2e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d7ad714f
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c7865b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: b3c59f2ee4e9ba5764213953d3b23156@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: <sip:kostas@127.0.0.1:4000>;tag=2310757
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf417449dbd4fdad74092297eb245e513
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6f024776
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e1bc8
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKffb9d37fb4b764049d3d917d4022da0b,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e42c61d68174cffe8354972c5ed5c17,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:14350892
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3c067a0465d747e75e765659e97a7089
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b3dfc4b8
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e1bc8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b3dfc4b8
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e1bc8
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@16de067
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@6f024776
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@3e1bc8
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@73364841, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5061 SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKf059b9101ed909642a43a99eaa8b28d2,SIP/2.0/UDP 129.97.8.125:5060;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
From: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK84777e0abddd69464c2477e085c760b4
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@c3df059a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db9852
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK84777e0abddd69464c2477e085c760b4
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 6b41d29babb57e8e5fc751a7d0927207@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=28291271
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa51e3c46f372449c2d8bb5889dbba3e3
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKd9085917b94315b6bbc03cf787350b87
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e9643d4
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e1bc8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: bedf396fb2cdcab1b81c47d60aaab26e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: <sip:tiuley@127.0.0.1:4000>;tag=14350892
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKd9085917b94315b6bbc03cf787350b87
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: a63e8b3adf777af6c97b3225272b7a28@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=24769387
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK29c76e273e61ae1332eae589b8dbf9a2
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK71b1f67bc27a273ea8dcdad67a6ad102
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb8a88ecbbd2ed943f1d57f37161a49a4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ae7ff8fa
dialog =  gov.nist.javax.sip.stack.SIPDialog@106daba
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK46100cd5a09e0de31c9440774b108e50,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK565a4a562d330a00a2d0157a888a35b3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10390580
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK63d05639e0730c79c032526b11927e0c
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@eaf8ec54
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@106daba
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@eaf8ec54
dialog =  gov.nist.javax.sip.stack.SIPDialog@106daba
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1584807
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@ae7ff8fa
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@106daba
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@e031cdc4, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1aa3a6642c4c17f7e374faf3f977f94a,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0c168a0cabd8aa6ae37719197ed9c9d9
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4668307f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@106daba
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: <sip:kostas@127.0.0.1:4000>;tag=10390580
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0c168a0cabd8aa6ae37719197ed9c9d9
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b72ecb25d1afa1cf498b831728276bd0@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKe40ab0258d41aebafd0b76a234f41dae
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=7654146
From: <sip:kostas@127.0.0.1:4000>;tag=10390580
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb5bfb9d9d1d4869d66de79dbace9421
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@11b10a30
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@4eb043
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 9dd4d9bbb7483134babd6a20f688af36@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKbb5bfb9d9d1d4869d66de79dbace9421
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"

*****************************************************

RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Stopping the proxy
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), internal error, exception raised:
PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: f0f6dad659ec9767c6e5226c1120162e@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7654146
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9b26b47f10250ab324fd3ce183f1e3db
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKa1b0252909e64bf8f947bf025af5e3ba
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc04dc312d20426d1fdac4608e369d589
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d107aaeb
dialog =  gov.nist.javax.sip.stack.SIPDialog@c52200
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa7cdd3b7f3587b8dcf993ef8191e8635,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc868f5cbcbdb993218676b329ef2ced2,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:4239289
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK805823044d4df5497937e7bc5807d955
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@84b59150
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c52200
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@84b59150
dialog =  gov.nist.javax.sip.stack.SIPDialog@c52200
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@53c3f5
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@d107aaeb
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@c52200
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@d3544e7b, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKaa59a462d5b9926e3cf5f85b19d5c05f,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e5abddd1
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c52200
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1764c6172ab1e23bb8efd6f57031383e,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@2f64d53c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c0a9f9
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 16378bd3650a67346693d96c1c8e882d@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=4239289
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK895f10afe6c60a3e00da8eca0cce3292
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 51b3faf8721d5bd843d962d564cf53f1@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf3c11efc2c95db9665ac234194318421
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4861e3aa4bb10ea1bc1dce786e651698@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18474371
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK6e220a3e9f2a652d57f5967d65713afc
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK3ca043cd7ec474872bf4d5b86581d6a3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKe699c8783d3c77b280f655c70d69e688
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@48049f09
dialog =  gov.nist.javax.sip.stack.SIPDialog@b533b8
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK3a4781159a50f68ef5621aaadba6f8b1,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0dee69d290798e9f85c078928d765a45,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:17743384
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfeeb849748598e15e55ed189428ab4b6
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@136fb9fe
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b533b8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@136fb9fe
dialog =  gov.nist.javax.sip.stack.SIPDialog@b533b8
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@13e15f7
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@48049f09
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@b533b8
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@45d68f13, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5060 SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK55d63e0cb44228dee8cb676c5f9a0cf2,SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f8943674
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b533b8
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKcbd705accb0f1ca123d53325cbc95bd1,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e94b1f93
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e22f2b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 8d7aae3f2dd671dc1304d40693c497f1@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=17743384
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK6a504d37554aa49dec512943d8e7837f
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e1492064
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e97df
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb9247ac9cabf95a1948fc895ea3449f2,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK35c5817bb1c7fdba90b8687424424d71,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:3916193
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK775cbd8a1b93dd3836cab1c9ae2009f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3abdcb5b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e97df
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3abdcb5b
dialog =  gov.nist.javax.sip.stack.SIPDialog@3e97df
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@4ed904
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e1492064
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@3e97df
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@c4fa70ad, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5061 SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1be1b4308ea074aa34b297753574ef0a,SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@ea577cce
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3e97df
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKd0d50621f5b9bc291c77910b4a0973eb,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@8595187a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15b0333
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 75d54780d5aa54a4faa140044d0fbe8b@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: <sip:tiuley@127.0.0.1:4000>;tag=3916193
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK56686255d2474cc0664ae3a03d7c83de
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:25037 ?
Contact in the list:sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:25037 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:25037 ?
Contact in the list:sip:129.97.8.126:5061
Contact in the list:sip:129.97.8.126:25037
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:25037 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:25037
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:25037 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:25037 ?
Contact in the list:sip:129.97.8.126:5061
Contact in the list:sip:129.97.8.126:25037
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:25037 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:25037
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:25037 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK60182735c564f99d205c0d10b49a84b9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:63027 ?
Contact in the list:sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:63027 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:63027 ?
Contact in the list:sip:129.97.8.126:5060
Contact in the list:sip:129.97.8.126:63027
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:63027 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:63027
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:63027 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:63027 ?
Contact in the list:sip:129.97.8.126:5060
Contact in the list:sip:129.97.8.126:63027
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:63027 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:63027
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:63027 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 7b0c5eceb5a23b97296220dbe1297b3b@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:63027;branch=z9hG4bK7308810b457fef0191441c7fb5ab0d83
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 4bfe5e694261ae15543594146c2a6058@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=13926634
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK69ad421a35b45218dd9c71f511b7a48c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:25037 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1c073c74607d18eb1e70e5c55d2f548c@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9703298
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:25037;branch=z9hG4bK13585f6741177a876ea503929ece003e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:25037;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK641a745d3020065d6239cf4b026c9d48
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600


*****************************************************

registered user: "sip:mranga@nist.gov"
Stopping the proxy
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
Proxy stopped
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000

*****************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*****************************************************


---------------------------------------
*********  Registration record *****************
Parsing the XML configuration file...

registered user: "sip:kostas@127.0.0.1:4000"
The XML configuration file has been successfully parsed!
- contacts: 
---------------------------------------
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:63027;transport=udp>;expires=3600

DEBUG, GUI chained to the registrar
registered user: "sip:mranga@nist.gov"
DEBUG properties set!
- contacts: 
The proxy is responsible for the domain:127.0.0.1

Here is one domain to take care of:there.com
registered user: "sip:deruelle@nist.gov"
Here is one domain to take care of:pingtel.com
- contacts: 
Here is one domain to take care of:ubi.com

Here is one domain to take care of:hotmail.com
************************************************
Here is one domain to take care of:nist.gov

Here is one domain to take care of:nitrogen.epact.se
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Here is one domain to take care of:127.0.0.1
Registrar, processRegister(), internal error, exception raised:
We don't export the registrations because RMI is disabled.
PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: b08584d89918d5f2dc4311a0856628fa@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK641a745d3020065d6239cf4b026c9d48
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK70be2408599aeffd8584fa1a60bbd6be
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb828e31983354bcb9af29185ef70755f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e76e330c
dialog =  gov.nist.javax.sip.stack.SIPDialog@bc5596
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKca985d97af7261ff9da5a617e8817132,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22222 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK506154816ceb5e109a3858d7a8e9fd13,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:24697864
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb20f05daf3445ba63d6ddb0aa7294aec
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@21683d3f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bc5596
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@21683d3f
dialog =  gov.nist.javax.sip.stack.SIPDialog@bc5596
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@ff9053
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e76e330c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@bc5596
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@920b7d14, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5060 SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc97672432715b79e799afe72ce90d350,SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKc0746ec40291bab61eb33719a31eb439
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@52759f05
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bc5596
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: <sip:kostas@127.0.0.1:4000>;tag=24697864
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKc0746ec40291bab61eb33719a31eb439
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 434eb75e8026c25af98476af3e8e503d@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKa91078dd7ab361bd74cfc5d54f3b8677
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=11446032
From: <sip:kostas@127.0.0.1:4000>;tag=24697864
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKa58cd38b0f25fbbc10bd397d95bde89c
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@509263bc
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@987197
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 918597c2c26d771edbe653a6f58ac0f6@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKa58cd38b0f25fbbc10bd397d95bde89c
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: ad9dccd41a585fbfea6bd4e788ab5c46@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK604990fc78e67d7f4c043bed2c8d8cac
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5061 ?
Contact in the list:sip:129.97.8.126:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK530b435f6fbdcc837fb1efda8cfbc312
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.126:5060 ?
Contact in the list:sip:129.97.8.126:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.126:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.126:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.126:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK3e769e7a34f83651aca6fde7d371aa43
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@626c8a5
dialog =  gov.nist.javax.sip.stack.SIPDialog@1b66b06
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8e2c58f373b69e041de52393c0d60999,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5060 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK376bec83f5467158ba2b6bc99aeb38be,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:26625789
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bK7b593fb699dae5c2606cac5bf254a257
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@b4fcd7a7
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b4fcd7a7
dialog =  gov.nist.javax.sip.stack.SIPDialog@1b66b06
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1bfbfb8
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@626c8a5
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1b66b06
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@9cd28914, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5060 SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1c295c422d1d2a8fb64f6036faf6547d,SIP/2.0/UDP 129.97.8.126:5061;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4ca5ddc3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1b66b06
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK339f430ef6cf27750eaade7d0e7a3642,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e40ba679
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9f0d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c908618acffee0d709019ab5f06eaca0@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: <sip:kostas@127.0.0.1:4000>;tag=26625789
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKfd1ca21ff50d2c33533024a8c7d2b73b
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@eb71a12e
dialog =  gov.nist.javax.sip.stack.SIPDialog@1779885
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK0bad9a08d3e80c75d779b50ab551b932,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.126 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.126:5061 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK73617e286b1271b5776113ca9b924ebd,SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:18750399
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKb7f2b9738a75d0ea7942606eeffa09db
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.126
s=-
c=IN IP4 129.97.8.126
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@c604ffea
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1779885
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@c604ffea
dialog =  gov.nist.javax.sip.stack.SIPDialog@1779885
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@24de7d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@eb71a12e
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1779885
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@acfe8354, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.126:5061 SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKc638a223022d2144d24c3ae2ccf98fa9,SIP/2.0/UDP 129.97.8.126:5060;branch=32392e39372e382e3132363a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
From: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb4a2d44dd09a654de00e1e43277e0c4f
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@327ae030
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@682406
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
From: <sip:tiuley@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKb4a2d44dd09a654de00e1e43277e0c4f
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.126:5060/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a8e73a631ceb7b0b3bad533e574c2b6f@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=12893236
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5061;branch=z9hG4bKf2ebfd6ec9879a92f1a01e799b121f7e
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK9f249c9300605e56ecd6b82e2967aad7
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.126:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f80fa891
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1779885
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: fea81408365a9089b8376a7e580f5507@129.97.8.126
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: <sip:tiuley@127.0.0.1:4000>;tag=18750399
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bK9f249c9300605e56ecd6b82e2967aad7
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.126:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c731260f900c091ea4720f07ad2d6f3@129.97.8.126
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=27970911
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.126:5060;branch=z9hG4bKd01e5127c3d515589880e7765fab29d8
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.126:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1f9750810c27d0548cb49fcac4076cd4
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86da2ccba15e3a4ba2f31ebec27efafc
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ddb5fdff
dialog =  gov.nist.javax.sip.stack.SIPDialog@1c297a3
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK09915f4a48d2cc201122d79a6a2a6248,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK197fdf058d21e3eaee0e261987ad7a1c,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:27887470
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK0af02fe7c86106363cd78a29c214b89d
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 4 3 0 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@af97ec57
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c297a3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@af97ec57
dialog =  gov.nist.javax.sip.stack.SIPDialog@1c297a3
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10c0f66
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@ddb5fdff
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1c297a3
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@a7d31eb1, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKfe279801031b001be47b7cc3c958abeb,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4168612f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1c297a3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK974abf3e4a94a4dcce1b71fed28c1905,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@18f8efcc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 049a6b7c1d6307cd24d4873e2d1d8b18@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: <sip:kostas@127.0.0.1:4000>;tag=27887470
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKafcfc953b8e9874d489b562413ea511b
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 92f79f50f383f8421f9bddc64d6d9af2@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=29812760
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK05289c8d2c8ba82f8921a1a8585ef9d0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 1a4fb11acc8176dae98c0944874dcaa5@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25346354
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcbcee54b4c96687c8bb7785754234479
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8050b0b04474de9053debd4c74ad4e08
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK06cc735790063d31a4308866fe92ed8d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@26681ee5
dialog =  gov.nist.javax.sip.stack.SIPDialog@789869
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6b489d0246a7bb3ce4c70ce84335eee4,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22234 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK8161f514d213b2cec395d6c84229d933,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10594949
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf26a494e6af32cd35d6fc10d43741995
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5d51f7f1
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@789869
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5d51f7f1
dialog =  gov.nist.javax.sip.stack.SIPDialog@789869
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1bf7b23
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@26681ee5
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@789869
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@bd23c2d4, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK5093b8c892f498929b00c8dcf9816a49,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
From: <sip:kostas@127.0.0.1:4000>;tag=10594949
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK99f596362a91e8a7cecedeca0317f930
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@a23662da
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e4bb3c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK99f596362a91e8a7cecedeca0317f930
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 6a80c96aad2d947cea10b90716e3f0b9@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK001779dd9a8c637313859ac91ae20d3c
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1beef3677712564b20718084ee7580bd
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@cea6b892
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@789869
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 7dbb56917cfaeaa88a519c597e954c5e@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: <sip:kostas@127.0.0.1:4000>;tag=10594949
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK1beef3677712564b20718084ee7580bd
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 3e5c6d752cbedd761bdafb0ae012c579@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=25862088
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK6d3633c64614113f7ce3ac4d4d03e125
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdf24e8c5b867f8e8b1628c3a49fb55f6
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKc55a6a0beb197b93ea3fcbb213df3ef8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e2741d56
dialog =  gov.nist.javax.sip.stack.SIPDialog@d12eea
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKb1676fe8cbb35f8f161078b497dd9e7a,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK92f46fd180f6304c657e0483e2b6b4a3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK92f46fd180f6304c657e0483e2b6b4a3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6879cec8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17b40fe
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=8066625
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK92f46fd180f6304c657e0483e2b6b4a3,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6879cec8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@17b40fe
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f9873198af5e2903c0b2e538c8b3d642@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=8066625
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKffd966fca9d04c11945807311b932d0b
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6e07e9b1
dialog =  gov.nist.javax.sip.stack.SIPDialog@a29c6e
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK6fb3db638cc949d6720069b3923a0939,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK013cb620e73cbb7bd53625cd6217afb5,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=5023414
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK013cb620e73cbb7bd53625cd6217afb5,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ca613a1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3b4b1e
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: ece2b4fc8eea7221618764dc39c9a421@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:tiuley@127.0.0.1:4000>;tag=5023414
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf13de0aca4c71fddea875d9286c02430
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bf803dfc
dialog =  gov.nist.javax.sip.stack.SIPDialog@1dc64a5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKa5cf2589a0ff30f19f462402659c3bf0,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK035d0e4fd57a7c0c2e4d4d740a4f1e11,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13685038
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKed91853df34b05d9534a5ba9c6ee63be
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@6753276a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dc64a5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6753276a
dialog =  gov.nist.javax.sip.stack.SIPDialog@1dc64a5
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10c6cfc
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@bf803dfc
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1dc64a5
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@7d52ed19, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKed66a9e5a617db62a85b2560f0c6702c,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
From: <sip:kostas@127.0.0.1:4000>;tag=13685038
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1629e838
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@166340c
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
From: <sip:kostas@127.0.0.1:4000>;tag=13685038
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK18386902d8f6e6f1a0137ed17381fddb,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9a73dead
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dc64a5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
From: <sip:kostas@127.0.0.1:4000>;tag=13685038
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK9cd347917ef4b9d761e6dec3c6eaa752
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK09c7d5c6d58dfb47513893ee8e910eb0
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, null server transactin for BYE

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK09c7d5c6d58dfb47513893ee8e910eb0
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, null server transactin for BYE

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 17f09a11401e5747244ce7932387a963@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: <sip:kostas@127.0.0.1:4000>;tag=13685038
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK09c7d5c6d58dfb47513893ee8e910eb0
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, null server transactin for BYE

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: c986ebfa4db22da17ea18da021a18830@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9036529
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKdcf55bcc2b19e7a8040c7912d116eac0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 98915306f7ed2188a2aca50934f2c198@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=32739270
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK8833ccd1822bd40e573074628d486672
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4db7c3d3781ac50d7465ab442d436138
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK86b94a37330cacf151aba62f77d37381
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a7f209e8
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK430329b47c16c3eb8407fdbb506d5e9b,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdd0f1502df0e7ac27c8d48ae3ac59b19,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:15508334
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK91e3d4221f1ec91f6a7bc882631174dd
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8ae5f464
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@8ae5f464
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@175ade6
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@a7f209e8
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@9aba32
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@3b62981c, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK1e1715f331cfe8dd5211604ec9daf1c8,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK738bc0593d2d2cdb59a03828fdc428d6
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@fcb45b8d
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: <sip:kostas@127.0.0.1:4000>;tag=15508334
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK738bc0593d2d2cdb59a03828fdc428d6
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 5b3c1016dc586c1db2b63669b9f08586@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKea20a94d4ca896edf4b29f660c7ff561
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=21450309
From: <sip:kostas@127.0.0.1:4000>;tag=15508334
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0e8afc85dcc0f1fdfaddf0aef5179d32
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9f62dd14
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14eaec9
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 841818ae13b52774441680ad486254d1@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK0e8afc85dcc0f1fdfaddf0aef5179d32
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 3c17cb4dfd3fa61ce7710fb242f73d26@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=18972263
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK2ad9503faa61aba9ce6971a3a8510643
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK8bc4a70c4106001245ba543ecc7ccd17
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK244acf5c66230a9923c732f6be61cfb2
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1bb4e2f7
dialog =  gov.nist.javax.sip.stack.SIPDialog@2b349d
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKe61e2352c847362e67331bda11812579,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKea127e844f2bddcea3eba20356ada176,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:12578138
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK79f00fe41e29096d7130376dad1f09f1
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 173

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
a=recvonly
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@319290f5
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2b349d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@319290f5
dialog =  gov.nist.javax.sip.stack.SIPDialog@2b349d
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1de0b5e
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@1bb4e2f7
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@2b349d
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@87550460, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKdc7f5cb1caf23b6341e89130afdc7cd7,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7b68e6b0e4011d4c65dfcf9584792a25
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bf67f4cd
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2b349d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: <sip:kostas@127.0.0.1:4000>;tag=12578138
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK7b68e6b0e4011d4c65dfcf9584792a25
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 9c6cd72be50df9f8407c2a511b1709e7@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK4925dc25c01dbc2cc3b41601a8847e01
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=6576294
From: <sip:kostas@127.0.0.1:4000>;tag=12578138
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb6c3c8a41e75dbea0391db17b45bb260
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@58a52c1f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1dafbaf
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: 4e37c8b4a95f8b37fea436460117e62b@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKb6c3c8a41e75dbea0391db17b45bb260
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5060 has been removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 817899355b75adad97b04326ad04ec2f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=7446303
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK3809a3799853d41014dbd5d1fba214a0
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5061 ?
Contact in the list:sip:129.97.8.125:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5061 has been updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK23ef2c70cffd16a6c7f2790828f3a73d
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@127.0.0.1:4000
Contact to add:sip:129.97.8.125:5060 ?
Contact in the list:sip:129.97.8.125:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:129.97.8.125:5060 has been updated for the key: sip:kostas@127.0.0.1:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:129.97.8.125:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:129.97.8.125:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5060;transport=udp SIP/2.0
Call-ID: 455c4b3b0851e830d219c7b73c217d73@129.97.8.125
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=1335930
To: "Tiuley Alguindigue" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bKddf840566d5eaebca434241f96a9a2d3
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:tiuley@127.0.0.1:4000 SIP/2.0
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@85978393
dialog =  gov.nist.javax.sip.stack.SIPDialog@6504bc
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK10a1f2cf14f45dfae2ad1ca91c40201b,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5061 SIP/2.0
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK74e9c105753d3350b70966bc9fdbe2bf,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK74e9c105753d3350b70966bc9fdbe2bf,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f0d75a88
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164debb
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>;tag=23802395
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK74e9c105753d3350b70966bc9fdbe2bf,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@f0d75a88
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164debb
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 68c4488708b95b67b8e1315d393b98b5@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:tiuley@127.0.0.1:4000>;tag=23802395
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK325053c273dd1bdb135127882e68826f
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:kostas@127.0.0.1:4000 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e0402254
dialog =  gov.nist.javax.sip.stack.SIPDialog@1581e80
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK187e44258da408c500d3e2438184f5d8,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:129.97.8.125 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:129.97.8.125:5060 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK7bfa9f205d9b9345d46fb9d8615c60e1,SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:30869925
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bK5b1f6fb7fb26a759bb0cbcc6d7172f88
Max-Forwards: 69
Record-Route: <sip:127.0.0.1:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 161

v=0
o=talguind 0 0 IN IP4 129.97.8.125
s=-
c=IN IP4 129.97.8.125
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22244 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@cf14312f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1581e80
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@cf14312f
dialog =  gov.nist.javax.sip.stack.SIPDialog@1581e80
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1aa2c23
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e0402254
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1581e80
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@6833511d, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:129.97.8.125:5060 SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bKecf1a781a6900ebc9e7e36f1eb136b59,SIP/2.0/UDP 129.97.8.125:5061;branch=32392e39372e382e3132353a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
From: <sip:kostas@127.0.0.1:4000>;tag=30869925
Max-Forwards: 69
Via: SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK5f9917198c7b6f0684bd4503c2eb42fc
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8ce0a533
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@8997d1
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
From: <sip:kostas@127.0.0.1:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 127.0.0.1:4000,SIP/2.0/UDP 129.97.8.125:5060;branch=z9hG4bK5f9917198c7b6f0684bd4503c2eb42fc
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 129.97.8.125:5061/udp

****************************************************
Request BYE received:
BYE sip:127.0.0.1:4000;transport=udp SIP/2.0
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf412c62a6d942d184f52c377057a6980
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@bcf24ddb
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1581e80
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TransactionsMapping, getClientTransaction(), the dialog state is:Completed Dialog
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: b1b6df45886b93351c8f31d533ece407@129.97.8.125
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: <sip:kostas@127.0.0.1:4000>;tag=30869925
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKf412c62a6d942d184f52c377057a6980
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcfa785eee06db3e205376066972d80a6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tiuley@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tiuley@127.0.0.1:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tiuley@127.0.0.1:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tiuley@127.0.0.1:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:129.97.8.125:5061 has been removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tiuley@127.0.0.1:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tiuley@127.0.0.1:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tiuley@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************


*****************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Stopping the proxy
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcfa785eee06db3e205376066972d80a6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 703d184718ca2bc50dfc30dd97edf94f@129.97.8.125
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>;tag=9702276
To: "Tiuley Alguindigue" <sip:tiuley@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 129.97.8.125:5061;branch=z9hG4bKcfa785eee06db3e205376066972d80a6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:129.97.8.125:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tiuley@127.0.0.1:4000
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 03aece0871aabc5f21c8f9427dde3af8@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0a9b6517b6ce123f5715b1fd1cd26c80
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 03aece0871aabc5f21c8f9427dde3af8@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0a9b6517b6ce123f5715b1fd1cd26c80
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 03aece0871aabc5f21c8f9427dde3af8@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0a9b6517b6ce123f5715b1fd1cd26c80
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d3905400b099b19c83e59a48e9889022@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=29118152
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK59ad6e0baa5a5d296b7b66710125f548
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d3905400b099b19c83e59a48e9889022@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=29118152
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK59ad6e0baa5a5d296b7b66710125f548
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d3905400b099b19c83e59a48e9889022@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=29118152
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK59ad6e0baa5a5d296b7b66710125f548
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK12e8f352e4bbad71df4114b2d02800db
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK12e8f352e4bbad71df4114b2d02800db
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK12e8f352e4bbad71df4114b2d02800db
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@df381c03
dialog =  gov.nist.javax.sip.stack.SIPDialog@afae4a
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK61badc7735f43e167645745fcfb94dcc,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK59e1c8a92415627a35aee14d705fa7d0,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK59e1c8a92415627a35aee14d705fa7d0,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4effca76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@16089a5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK59e1c8a92415627a35aee14d705fa7d0,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4effca76
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@16089a5
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:9420495
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKdf0fbcd55b3975fb54695cdff27daddc
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3d1cec3b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@afae4a
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3d1cec3b
dialog =  gov.nist.javax.sip.stack.SIPDialog@afae4a
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@10c0f66
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@df381c03
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@afae4a
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@4effca76, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: <sip:kostas@147.102.1.69:4000>;tag=9420495
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK7b6fa1e557485f494813bb48f8982a24,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
From: <sip:kostas@147.102.1.69:4000>;tag=9420495
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@977f17a
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@16089a5
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
From: <sip:kostas@147.102.1.69:4000>;tag=9420495
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKed97819dd85ee364e9a013f3a96a6577,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@41192024
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@afae4a
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: d06371e3984bad9d027cfb8914cc92e1@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
From: <sip:kostas@147.102.1.69:4000>;tag=9420495
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK27f9d5c78245837e23d5104b90f1aea6
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKa416575b5ca12a99f082fddf4fb96c1f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKa416575b5ca12a99f082fddf4fb96c1f
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: e52bda51b860c512199f5c87573c579e@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=7859095
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKa416575b5ca12a99f082fddf4fb96c1f
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000
DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ab41e7a19b78a186e95103e271e5ea9e@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6159089
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bKff29bc21f9a9bdf7b86502db0cb96e4f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:47453 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab41e7a19b78a186e95103e271e5ea9e@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6159089
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bKff29bc21f9a9bdf7b86502db0cb96e4f
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ab41e7a19b78a186e95103e271e5ea9e@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6159089
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bKff29bc21f9a9bdf7b86502db0cb96e4f
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 853c7d197fb56441044bb6ddfeb1cee8@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK64863085cdf08828bb63405112ecf2f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 853c7d197fb56441044bb6ddfeb1cee8@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK64863085cdf08828bb63405112ecf2f8
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 853c7d197fb56441044bb6ddfeb1cee8@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK64863085cdf08828bb63405112ecf2f8
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@b3934860
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:47453 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKb3b672578114eeef780da0bab1485c8f,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:47453 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:47453 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf0838ec4eaa439e97d15ee16230eecb2,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf0838ec4eaa439e97d15ee16230eecb2,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3295ee25
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@943dc4
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK565eea1bf7a8930adcd75705ce735db0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
Contact to add:sip:147.102.1.69:5060 ?
Contact in the list:sip:147.102.1.69:47453
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
  contact 2 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK565eea1bf7a8930adcd75705ce735db0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600,"Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK565eea1bf7a8930adcd75705ce735db0
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf0838ec4eaa439e97d15ee16230eecb2,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3295ee25
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@943dc4
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2746929
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2db555f67a08b7e966811503d8e99d53
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@9baf4087
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the request  to fork is not an INVITE, so we will process it with the first target as the only target.
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@9baf4087
dialog =  gov.nist.javax.sip.stack.SIPDialog@9aba32
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@157b46f
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@b3934860
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@9aba32
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@3295ee25, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:47453 SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
To: <sip:kostas@147.102.1.69:4000>;tag=2746929
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK9f6eb8a2f9df408fba5499ee545a792e,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKff710d78672ca5981f989e4b01cda566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKff710d78672ca5981f989e4b01cda566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:47453;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 108bcc74f104ffa42604505105d3f511@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12388840
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKff710d78672ca5981f989e4b01cda566
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
From: <sip:kostas@147.102.1.69:4000>;tag=2746929
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@8ba5bad3
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@943dc4
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
From: <sip:kostas@147.102.1.69:4000>;tag=2746929
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK12a0232fbd8ee8a099b1dbc8c614476d,SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7f436cfe
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9aba32
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 02c3a67a48761d8933f57bf25e9c489e@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=21465645
From: <sip:kostas@147.102.1.69:4000>;tag=2746929
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:47453;branch=z9hG4bK9d21c435f7cec429af7859d434a98b5d
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK56b0cba9ab046e6c1b567564c69814ec
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK56b0cba9ab046e6c1b567564c69814ec
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK56b0cba9ab046e6c1b567564c69814ec
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKf304ac4c5dbdd2074e5d27ee2483df72
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKf304ac4c5dbdd2074e5d27ee2483df72
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 73be34d1143a0a830f83860301a11457@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=20194874
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKf304ac4c5dbdd2074e5d27ee2483df72
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: b1e96d912b49dd8ddcf2e32915c494ac@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=400594
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8ff89061a868514ca9a2b30757fc2c2b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b1e96d912b49dd8ddcf2e32915c494ac@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=400594
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8ff89061a868514ca9a2b30757fc2c2b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: b1e96d912b49dd8ddcf2e32915c494ac@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=400594
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8ff89061a868514ca9a2b30757fc2c2b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 3053975f267809cf5c5913105e6f046d@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKeaf2bda2d3fd3673728ab07e632079bf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3053975f267809cf5c5913105e6f046d@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKeaf2bda2d3fd3673728ab07e632079bf
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 3053975f267809cf5c5913105e6f046d@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKeaf2bda2d3fd3673728ab07e632079bf
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6d0ee241
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKf64931cbe5c47fb258422fc2b1580fb1,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKae685f4a22858f23f89be56455bcc934,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKae685f4a22858f23f89be56455bcc934,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e2076ad0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKae685f4a22858f23f89be56455bcc934,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e2076ad0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2950265
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK22a0a0453a645942e286aacd0796a7e4
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f21ae1b9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@f21ae1b9
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@17cf6b6
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@6d0ee241
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@366573
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@e2076ad0, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
To: <sip:kostas@147.102.1.69:4000>;tag=2950265
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKe8bf96d85b90aab71e118ee0df0a6240,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
From: <sip:kostas@147.102.1.69:4000>;tag=2950265
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1e2dc922
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
From: <sip:kostas@147.102.1.69:4000>;tag=2950265
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK91120d2e7ec816d367a6b81ee9231166,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1af4e2cb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 7b1cb5e2ba6f748900452508e3d85dbd@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12548374
From: <sip:kostas@147.102.1.69:4000>;tag=2950265
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb89246943b393f31e19a3a60fa29343e
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK838ff9a23721e56293cc211704d171ad
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK838ff9a23721e56293cc211704d171ad
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK838ff9a23721e56293cc211704d171ad
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK7dc63d2bb416dee1c0c30cafec1f1499
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK7dc63d2bb416dee1c0c30cafec1f1499
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK7dc63d2bb416dee1c0c30cafec1f1499
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6a137b5c
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKb47ca37b1517d8d5443de9346d720e41,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKec6075b8261f6d50fee40cedee5c1771,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKec6075b8261f6d50fee40cedee5c1771,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@20b45f5b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKec6075b8261f6d50fee40cedee5c1771,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@20b45f5b
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:19105669
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK05da290dcf122db9d6713846c5585929
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7e13c95
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7e13c95
dialog =  gov.nist.javax.sip.stack.SIPDialog@366573
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1e152f4
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@6a137b5c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@366573
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@20b45f5b, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: <sip:kostas@147.102.1.69:4000>;tag=19105669
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK58cc216262298523c217ac8c2c56f7fc,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
From: <sip:kostas@147.102.1.69:4000>;tag=19105669
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@30c8fc49
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@633d51
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
From: <sip:kostas@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.25.53:5061/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
From: <sip:kostas@147.102.1.69:4000>;tag=19105669
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK632fc1fac1245ea8e702dafbc38ff812,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@144dbe8e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@366573
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: b5ef85b8b1ec89ef42e4c72777db49ed@147.102.25.53
CSeq: 1 BYE
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
From: <sip:kostas@147.102.1.69:4000>;tag=19105669
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK4a5bccb2be6f43f1927e0dd838bd702f
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf12c29fa57873f3bc987a87324b75a57
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf12c29fa57873f3bc987a87324b75a57
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: d442b47df1c4694f6b116e3adc2e1019@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=2342353
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf12c29fa57873f3bc987a87324b75a57
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK856e1c60a41d49b1117b75c911ae5451
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK856e1c60a41d49b1117b75c911ae5451
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 28e4c9a1499ab8feb8894fe22ea5972d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=16606885
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK856e1c60a41d49b1117b75c911ae5451
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0ac5a30eb04522a06597c97d9be23d52
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0ac5a30eb04522a06597c97d9be23d52
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK0ac5a30eb04522a06597c97d9be23d52
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK3b11aaef4e0a5326ed4b0d855e96c0e6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK3b11aaef4e0a5326ed4b0d855e96c0e6
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 287de3f35ce316bea8819672a2be9194@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=12082199
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK3b11aaef4e0a5326ed4b0d855e96c0e6
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK144fc4407e93168244c7d3e41381b011
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK144fc4407e93168244c7d3e41381b011
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK144fc4407e93168244c7d3e41381b011
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK426c2bd2ec4d162aebeae330a2e68001
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK426c2bd2ec4d162aebeae330a2e68001
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 1dfa16a57fef4b856c74ba1e43548cdf@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=27651180
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK426c2bd2ec4d162aebeae330a2e68001
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK7e6cb847eef80f7edf7cae6e3c539028
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.1.69:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK7e6cb847eef80f7edf7cae6e3c539028
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK7e6cb847eef80f7edf7cae6e3c539028
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKb2203cfe92db4b7a2be098eb14d6e9f9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKb2203cfe92db4b7a2be098eb14d6e9f9
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKb2203cfe92db4b7a2be098eb14d6e9f9
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@147.102.1.69:4000 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e76ac82f
dialog =  gov.nist.javax.sip.stack.SIPDialog@191f801
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKb711dbc9a22d2491d9801d309d8edb18,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.1.69 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.1.69:5060 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKcb318e917ee12f6f3e81fb2272c7cb9c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:21067408
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 INVITE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKd46172666dd4f47e51477a48124d59b0
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2686765b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@191f801
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@2686765b
dialog =  gov.nist.javax.sip.stack.SIPDialog@191f801
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@878c4c
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@e76ac82f
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@191f801
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@4457c9e, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.1.69:5060 SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 1 ACK
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK0852cc1943242d4f8a857658960f8c2d,SIP/2.0/UDP 147.102.25.53:5061;branch=372e3130322e32352e35333a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@96d06317
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@191f801
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
To: <sip:kostas@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.1.69:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKac36c41610855c461f3b84020110f66c,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@2cb6ad45
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3cb075
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: afbbb06f77ee58490d142ca13b4aed31@147.102.25.53
CSeq: 2 BYE
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: <sip:kostas@147.102.1.69:4000>;tag=21067408
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf31f0bc94dc93f5118e33faf3ddd9983
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK182a6f770aa5643de9359b98eed01b6d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK182a6f770aa5643de9359b98eed01b6d
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 6882186037bb098b85f7aca7425f2301@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=12654703
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK182a6f770aa5643de9359b98eed01b6d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8b96aab5b8c18544213b3da26d3396a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8b96aab5b8c18544213b3da26d3396a4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: eef396c4eec3f6cdd157ca4d0e2edf1d@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=26665270
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK8b96aab5b8c18544213b3da26d3396a4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK92a0ad90af97b78095ca5b1a8969379b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK92a0ad90af97b78095ca5b1a8969379b
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK92a0ad90af97b78095ca5b1a8969379b
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK41436a6b4e03bb96852c2a6bb798bbd4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK41436a6b4e03bb96852c2a6bb798bbd4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: c7d5cb5425436a301347002a1e66fefd@147.102.1.69
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=23525817
To: "Tiuley Alguindigue" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK41436a6b4e03bb96852c2a6bb798bbd4
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 4c8eaf6b8179fcd83d4eb200cc2e000b@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb1f4d1f04b6c657b2eb8824f21a040a8
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.1.69:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4c8eaf6b8179fcd83d4eb200cc2e000b@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb1f4d1f04b6c657b2eb8824f21a040a8
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: 4c8eaf6b8179fcd83d4eb200cc2e000b@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKb1f4d1f04b6c657b2eb8824f21a040a8
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ca9564ca4c97863a77a9aba0040a3ce1@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=28713819
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK99282cbe9dee6645c2fb6aa12961b6cd
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ca9564ca4c97863a77a9aba0040a3ce1@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=28713819
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK99282cbe9dee6645c2fb6aa12961b6cd
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: ca9564ca4c97863a77a9aba0040a3ce1@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=28713819
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK99282cbe9dee6645c2fb6aa12961b6cd
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas2@147.102.1.69:4000 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5e1b7b54
dialog =  gov.nist.javax.sip.stack.SIPDialog@2f2295
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK8997280fedec439464f4f6042ee12c13,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.25.53 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK185c300d2b599396fed03b2b834b430c,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK185c300d2b599396fed03b2b834b430c,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1520a9b5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e265d0
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK185c300d2b599396fed03b2b834b430c,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@1520a9b5
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@e265d0
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK6153d082b9dce4c46ede8fcfb1208082
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4d2e9911
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2f2295
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@4d2e9911
dialog =  gov.nist.javax.sip.stack.SIPDialog@2f2295
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1706da8
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@5e1b7b54
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@2f2295
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@1520a9b5, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.25.53:5061 SIP/2.0
Call-ID: 5c084b4d5791c48ad239871bf5470f77@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=18452466
To: <sip:kostas2@147.102.1.69:4000>;tag=9300338
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK58106d3c3b78b70ebfe4e5f98c7c3873,SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
Contact to add:sip:147.102.1.69:5060 ?
Contact in the list:sip:147.102.1.69:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:147.102.1.69:5060 has been updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.1.69:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.1.69:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 1 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKac565d67eedbe257e15148e38f8b0911
Max-Forwards: 70
Expires: 3600
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
Contact to add:sip:147.102.25.53:5061 ?
Contact in the list:sip:147.102.25.53:5061
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:147.102.25.53:5061 has been updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.25.53:5061
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.25.53:5061 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 1 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bKf05f0eca4871549260e2946b284c0f21
Max-Forwards: 70
Expires: 3600
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request INVITE received:
INVITE sip:kostas2@147.102.1.69:4000 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 70
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@c46690ac
dialog =  gov.nist.javax.sip.stack.SIPDialog@112da40
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bKa161ccd23df237f0b236a239170564a6,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:147.102.25.53 port:5061 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:147.102.25.53:5061 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 159

v=0
o=kostas 0 0 IN IP4 147.102.1.69
s=-
c=IN IP4 147.102.1.69
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2cba694dbe1de06897f2832c416c1ab9,SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:16865950
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 INVITE
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bKa28a1d6d7adba282aa561d67aa172ef7
Max-Forwards: 69
Record-Route: <sip:147.102.1.69:4000>
Content-Type: application/sdp
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 161

v=0
o=kostas 0 0 IN IP4 147.102.25.53
s=-
c=IN IP4 147.102.25.53
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 70
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@510a80b5
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@112da40
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@510a80b5
dialog =  gov.nist.javax.sip.stack.SIPDialog@112da40
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@17f11fb
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@c46690ac
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@112da40
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@da56ed4c, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:147.102.25.53:5061 SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 ACK
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK41eec9c18d6a1d669f58cae2ea390fb2,SIP/2.0/UDP 147.102.1.69:5060;branch=34372e3130322e312e36393a3530363
Max-Forwards: 69
Route: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Record-Route: <sip:147.102.1.69:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
From: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Route: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2854a6ea
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@186dda3
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:147.102.1.69:4000;transport=udp SIP/2.0
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
From: <sip:kostas2@147.102.1.69:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Route: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 147.102.1.69:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
From: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.1.69:4000;branch=z9hG4bK2478635a379116587238719e2c674139,SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ba8eb3aa
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@112da40
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 4011a71bb1a41e567e58cdc23cbd3e6e@147.102.1.69
CSeq: 1 BYE
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
From: <sip:kostas2@147.102.1.69:4000>;tag=16865950
Max-Forwards: 69
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK831836a898b1c14ab9b56de7d79ceb57
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2072447630871c0c0555a9ee7adb803d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas2@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas2@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas2@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas2@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.25.53:5061 has been removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas2@147.102.1.69:4000"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas2@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas2@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 
  contact 1 : Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2072447630871c0c0555a9ee7adb803d
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: a0c9fdf9888cfd2b07bf48bb4a0ea9e6@147.102.25.53
CSeq: 2 REGISTER
From: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>;tag=31128398
To: "Tiuley Alguindigue" <sip:kostas2@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.25.53:5061;branch=z9hG4bK2072447630871c0c0555a9ee7adb803d
Max-Forwards: 70
Expires: 0
Contact: "Tiuley Alguindigue" <sip:147.102.25.53:5061;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas2@147.102.1.69:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 2 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK52e026c03debe630b9434e5b61959e71
Max-Forwards: 70
Expires: 0
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@147.102.1.69:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@147.102.1.69:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@147.102.1.69:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@147.102.1.69:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.1.69:5060 has been removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:kostas@147.102.1.69:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@147.102.1.69:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@147.102.1.69:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 2 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK52e026c03debe630b9434e5b61959e71
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.1.69:5061;transport=udp SIP/2.0
Call-ID: cbc3c620ce66542a59ef9d42e1547cc6@147.102.1.69
CSeq: 2 REGISTER
From: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>;tag=6923467
To: "Test Name" <sip:kostas@147.102.1.69:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.1.69:5060;branch=z9hG4bK52e026c03debe630b9434e5b61959e71
Max-Forwards: 70
Expires: 0
Contact: "Test Name" <sip:147.102.1.69:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@147.102.1.69:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.1.69
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.1.69
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a72cbbbecf0760e6db6030acd8f5d979@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKe9491fd904fa23065f78cb4426941410;received=127.0.0.1;rport=5060
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a72cbbbecf0760e6db6030acd8f5d979@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKe9491fd904fa23065f78cb4426941410;received=127.0.0.1;rport=5060
Max-Forwards: 70
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: a72cbbbecf0760e6db6030acd8f5d979@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKe9491fd904fa23065f78cb4426941410;received=127.0.0.1;rport=5060
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@127.0.0.1:4000

****************************************************
Request REGISTER received:
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 42a7c7c0cd879da58f1d07904ca3c370@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>;tag=12357150
To: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:8595;branch=z9hG4bK263094371b07bb4f1064a89a3601c972;received=127.0.0.1;rport=8595
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:jmaria@127.0.0.1:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:jmaria@127.0.0.1:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:8595 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:jmaria@127.0.0.1:4000
*********  Registration record *****************

registered user: "sip:kostas@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:jmaria@127.0.0.1:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 42a7c7c0cd879da58f1d07904ca3c370@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>;tag=12357150
To: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:8595;branch=z9hG4bK263094371b07bb4f1064a89a3601c972;received=127.0.0.1;rport=8595
Max-Forwards: 70
Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:127.0.0.1:5061;transport=udp SIP/2.0
Call-ID: 42a7c7c0cd879da58f1d07904ca3c370@0.0.0.0
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>;tag=12357150
To: "jmaria" <sip:jmaria@127.0.0.1:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:8595;branch=z9hG4bK263094371b07bb4f1064a89a3601c972;received=127.0.0.1;rport=8595
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:0.0.0.0:8595;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:jmaria@127.0.0.1:4000

****************************************************
Request INVITE received:
INVITE sip:jmaria@127.0.0.1:4000 SIP/2.0
Call-ID: 2a0a76befe73239c3f1ff77dbc797679@0.0.0.0
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: <sip:jmaria@127.0.0.1:4000>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKa071f24a8285adbf47e295223aa9230d;received=127.0.0.1;rport=5060
Max-Forwards: 70
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 151

v=0
o=alivogia 0 0 IN IP4 0.0.0.0
s=-
c=IN IP4 0.0.0.0
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:jmaria@127.0.0.1:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@dc6253a6
dialog =  gov.nist.javax.sip.stack.SIPDialog@4c4975
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:0.0.0.0:8595 SIP/2.0
Call-ID: 2a0a76befe73239c3f1ff77dbc797679@0.0.0.0
CSeq: 1 INVITE
From: "jmaria" <sip:kostas@127.0.0.1:4000;transport=udp>;tag=25378506
To: <sip:jmaria@127.0.0.1:4000>
Via: SIP/2.0/UDP 127.0.0.1:4000;branch=z9hG4bK63155fe5bb4236ab685033c40df0bc28,SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bKa071f24a8285adbf47e295223aa9230d;received=127.0.0.1;rport=5060
Max-Forwards: 69
Contact: "jmaria" <sip:0.0.0.0:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:127.0.0.1:4000>
Content-Length: 151

v=0
o=alivogia 0 0 IN IP4 0.0.0.0
s=-
c=IN IP4 0.0.0.0
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:0.0.0.0 port:8595 transport:udp
RequestForwarding, forwardRequestStatefully(),  internal error, exception raised:
DEBUG properties set!
The proxy is responsible for the domain:127.0.0.1
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:127.0.0.1
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 842a1bc4140eee6f3707bc5a02cbe2e2@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39a834885fe7f084a12bacb327979955
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:jmaria@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:jmaria@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:jmaria@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:jmaria@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 842a1bc4140eee6f3707bc5a02cbe2e2@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39a834885fe7f084a12bacb327979955
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 842a1bc4140eee6f3707bc5a02cbe2e2@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39a834885fe7f084a12bacb327979955
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:jmaria@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: d1d149d1681e7825a6dc52a87bf2bb9d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3143f631a59625c414902df56d3c0860
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: d1d149d1681e7825a6dc52a87bf2bb9d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3143f631a59625c414902df56d3c0860
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 30c61ab853cf04e48c431548869aa6bb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:53712;branch=z9hG4bK88c62f89d545d19a96e5512bd4fce058
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:53712 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:jmaria@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 30c61ab853cf04e48c431548869aa6bb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:53712;branch=z9hG4bK88c62f89d545d19a96e5512bd4fce058
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 30c61ab853cf04e48c431548869aa6bb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:53712;branch=z9hG4bK88c62f89d545d19a96e5512bd4fce058
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:53712;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 221e4f37904935d95dc80ffd74af1504@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:jmaria@192.168.1.51:4000;transport=udp>;tag=18306082
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK1c31073577107e5149a2a470d94ce988
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK1f7d433e13c3b517c44fe29aaf469d03
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK1f7d433e13c3b517c44fe29aaf469d03
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="07166bf386a918d130ee50067f3c14b3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK2c4406345313c1f92c408fc735a68e46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="robby",realm="nist.gov",nonce="07166bf386a918d130ee50067f3c14b3",uri="sip:192.168.1.51:5061;transport=udp",response="6742135788fa9760bb7d98f4902fb895",algorithm=MD5,opaque=""
From: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: robby for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: robby@nist.gov
Authentication failed for user: robby
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK2c4406345313c1f92c408fc735a68e46
Max-Forwards: 70
From: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:robby@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="bd4c63a24a35b504ab70819cbab89a41",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc0ff92caf677f461db551e5eb72993aa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="bd4c63a24a35b504ab70819cbab89a41",uri="sip:192.168.1.51:5061;transport=udp",response="c3286926ea26f1f52bb1519761525419",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bd4c63a24a35b504ab70819cbab89a41!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c3286926ea26f1f52bb1519761525419 with our computed response: c3286926ea26f1f52bb1519761525419
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc0ff92caf677f461db551e5eb72993aa
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 171ef443810d6569d56e04cb1be1a247@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc0ff92caf677f461db551e5eb72993aa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="bd4c63a24a35b504ab70819cbab89a41",uri="sip:192.168.1.51:5061;transport=udp",response="c3286926ea26f1f52bb1519761525419",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb579646ca78ec5a9b5bcbdf87bb79409
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb579646ca78ec5a9b5bcbdf87bb79409
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="bd81837a6884b15b284e3bc074163d60",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKaf14f5c0599b0dc2234f1d4244914d07
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bd81837a6884b15b284e3bc074163d60",uri="sip:192.168.1.51:5061;transport=udp",response="51f93d95fefe30c128ccd7dacb61dc7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bd81837a6884b15b284e3bc074163d60!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 51f93d95fefe30c128ccd7dacb61dc7a with our computed response: 51f93d95fefe30c128ccd7dacb61dc7a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:48504 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKaf14f5c0599b0dc2234f1d4244914d07
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f414f1eab810a80980aab6509e2ebbb8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKaf14f5c0599b0dc2234f1d4244914d07
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bd81837a6884b15b284e3bc074163d60",uri="sip:192.168.1.51:5061;transport=udp",response="51f93d95fefe30c128ccd7dacb61dc7a",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb53968352694bfd4f046b5894ab1a1b9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb53968352694bfd4f046b5894ab1a1b9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e4c1d9db14239ce9a768da905f9a8c2d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=18248114
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKb53968352694bfd4f046b5894ab1a1b9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 4f06de927e741963e868b866950c0c9a@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:48504;branch=z9hG4bKcab4dbcf619199b02b0a40d94da571ad
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:48504;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="e4c1d9db14239ce9a768da905f9a8c2d",uri="sip:roby@192.168.1.51:4000",response="ca9702aed4a2ab1d91521a85faecbc7c",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=18248114
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e4c1d9db14239ce9a768da905f9a8c2d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ca9702aed4a2ab1d91521a85faecbc7c with our computed response: ca9702aed4a2ab1d91521a85faecbc7c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1afd7b7d6d76a3cdb4adb89ac82f00e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1afd7b7d6d76a3cdb4adb89ac82f00e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9c9fe2fa4a9fb65b04685c5f1f2b6ac5",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0664a1ea671740f85d4919020af3d42b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="9c9fe2fa4a9fb65b04685c5f1f2b6ac5",uri="sip:192.168.1.51:5061;transport=udp",response="45029943532783edf068453b6ed5dfb2",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9c9fe2fa4a9fb65b04685c5f1f2b6ac5!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 45029943532783edf068453b6ed5dfb2 with our computed response: 45029943532783edf068453b6ed5dfb2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0664a1ea671740f85d4919020af3d42b
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0664a1ea671740f85d4919020af3d42b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="9c9fe2fa4a9fb65b04685c5f1f2b6ac5",uri="sip:192.168.1.51:5061;transport=udp",response="45029943532783edf068453b6ed5dfb2",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK6244e16c3928817c4c706333b8908e13
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK6244e16c3928817c4c706333b8908e13
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9021a39d096bc1c1fd5d8da07eb26cd3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK0f4f0bc7bf18b872aa896f5f8a4c8cb8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9021a39d096bc1c1fd5d8da07eb26cd3",uri="sip:192.168.1.51:5061;transport=udp",response="5d0220ed1dde479fa26478e5ea5a19b3",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9021a39d096bc1c1fd5d8da07eb26cd3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 5d0220ed1dde479fa26478e5ea5a19b3 with our computed response: 5d0220ed1dde479fa26478e5ea5a19b3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:6194 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK0f4f0bc7bf18b872aa896f5f8a4c8cb8
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bK0f4f0bc7bf18b872aa896f5f8a4c8cb8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9021a39d096bc1c1fd5d8da07eb26cd3",uri="sip:192.168.1.51:5061;transport=udp",response="5d0220ed1dde479fa26478e5ea5a19b3",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66d82fbd5ced7a0c5f7688ebfc62bdd9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66d82fbd5ced7a0c5f7688ebfc62bdd9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66d82fbd5ced7a0c5f7688ebfc62bdd9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",uri="sip:roby@192.168.1.51:4000",response="48798f315e1bbdf5039b503742a89e2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a04f57a880a77c3bb5f0e1949abfcef3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 48798f315e1bbdf5039b503742a89e2b with our computed response: 48798f315e1bbdf5039b503742a89e2b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@66571597
dialog =  gov.nist.javax.sip.stack.SIPDialog@2bc3f5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:6194 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKec13208c7886dc8b92958b7d8580bc10,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",uri="sip:roby@192.168.1.51:4000",response="48798f315e1bbdf5039b503742a89e2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:6194 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:6194 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a04f57a880a77c3bb5f0e1949abfcef3",uri="sip:roby@192.168.1.51:4000",response="48798f315e1bbdf5039b503742a89e2b",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7adf7516
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7adf7516
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3feec69fde6ad3ed3dbedef7ecf82d46,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7adf7516
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:28360136
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=28360136
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3dc169c03aa757fed33e02b5f006a27d
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 6537bd18887e9556061bb994ed25c5a4@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5abf9939c587d02b23bda50c0c44e386
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK02b8a7123b6f9c0164104520d7d378ce
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK02b8a7123b6f9c0164104520d7d378ce
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2ac1604864d0a3710414d99545aa5088",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb764ada644c322cb3457a48b16999f95
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2ac1604864d0a3710414d99545aa5088",uri="sip:192.168.1.51:5061;transport=udp",response="674351464f68ba62cc9876fadae36709",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2ac1604864d0a3710414d99545aa5088!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 674351464f68ba62cc9876fadae36709 with our computed response: 674351464f68ba62cc9876fadae36709
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb764ada644c322cb3457a48b16999f95
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: c7ea2199982b447577e40885bd036638@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb764ada644c322cb3457a48b16999f95
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2ac1604864d0a3710414d99545aa5088",uri="sip:192.168.1.51:5061;transport=udp",response="674351464f68ba62cc9876fadae36709",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKa2bab85a7adb86a17a58fa7b9a271770
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKa2bab85a7adb86a17a58fa7b9a271770
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c77a9bb8086bbb8444358887af560222",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKc425e2f2e8738c17c5412ee54265c291
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="c77a9bb8086bbb8444358887af560222",uri="sip:192.168.1.51:5061;transport=udp",response="96e40c0f1b5871a2552a9b2e2ae8cb80",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c77a9bb8086bbb8444358887af560222!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 96e40c0f1b5871a2552a9b2e2ae8cb80 with our computed response: 96e40c0f1b5871a2552a9b2e2ae8cb80
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:6194 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKc425e2f2e8738c17c5412ee54265c291
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 3820b17634419e63dc59919f502b435a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6194;branch=z9hG4bKc425e2f2e8738c17c5412ee54265c291
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:6194;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="c77a9bb8086bbb8444358887af560222",uri="sip:192.168.1.51:5061;transport=udp",response="96e40c0f1b5871a2552a9b2e2ae8cb80",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=9883409
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK651a3ae97f67c5e70e22d4ec12ee24f7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK651a3ae97f67c5e70e22d4ec12ee24f7
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3878185b1e0e757067389af5c6bc052c",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK11f3f34ec2119ebbb52dc8208db439e3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="3878185b1e0e757067389af5c6bc052c",uri="sip:192.168.1.51:5061;transport=udp",response="e077d63e5dd33e769a43b300e711963d",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3878185b1e0e757067389af5c6bc052c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e077d63e5dd33e769a43b300e711963d with our computed response: e077d63e5dd33e769a43b300e711963d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK11f3f34ec2119ebbb52dc8208db439e3
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK11f3f34ec2119ebbb52dc8208db439e3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="3878185b1e0e757067389af5c6bc052c",uri="sip:192.168.1.51:5061;transport=udp",response="e077d63e5dd33e769a43b300e711963d",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK305809dae840e50a38ed30f8504dec20
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK305809dae840e50a38ed30f8504dec20
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ed2ef2f7d1823a7b5a8b278071a07b44",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKa527f457d1cbde50a0ab14cd7346bffb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="ed2ef2f7d1823a7b5a8b278071a07b44",uri="sip:192.168.1.51:5061;transport=udp",response="d1658266b04fc69dfd906ea2ea2267a6",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ed2ef2f7d1823a7b5a8b278071a07b44!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d1658266b04fc69dfd906ea2ea2267a6 with our computed response: d1658266b04fc69dfd906ea2ea2267a6
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:17182 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKa527f457d1cbde50a0ab14cd7346bffb
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKa527f457d1cbde50a0ab14cd7346bffb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="ed2ef2f7d1823a7b5a8b278071a07b44",uri="sip:192.168.1.51:5061;transport=udp",response="d1658266b04fc69dfd906ea2ea2267a6",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK71ee6e2cd797bb15a8d763f9b26df480
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK71ee6e2cd797bb15a8d763f9b26df480
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK71ee6e2cd797bb15a8d763f9b26df480
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",uri="sip:roby@192.168.1.51:4000",response="bcc4bf989f749cdb3a6048ae39c453fe",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:91bba33be2536e14e236a4f845b840f4!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: bcc4bf989f749cdb3a6048ae39c453fe with our computed response: bcc4bf989f749cdb3a6048ae39c453fe
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@2b3a7555
dialog =  gov.nist.javax.sip.stack.SIPDialog@1581593
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKfae7c6e33a88bbb158f068189cb0de5a,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",uri="sip:roby@192.168.1.51:4000",response="bcc4bf989f749cdb3a6048ae39c453fe",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK2b8876f1d85b1080d75ffd4a585c6206,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="91bba33be2536e14e236a4f845b840f4",uri="sip:roby@192.168.1.51:4000",response="bcc4bf989f749cdb3a6048ae39c453fe",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK2b8876f1d85b1080d75ffd4a585c6206,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d10407d3
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c09554
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK2b8876f1d85b1080d75ffd4a585c6206,SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d10407d3
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c09554
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10313829
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: bee633743cc66ec869ff4c244f36fa2c@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=10313829
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK22969fe6de9509350ea58e6fb0ab4dd2
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK54b0ce74fc6894386f3cb6ff0a59a2d4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bK54b0ce74fc6894386f3cb6ff0a59a2d4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="bcc00b675e4fe27c0f8c9bb0a62ec6df",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKac24de679a73723e5a8ec152b813177d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bcc00b675e4fe27c0f8c9bb0a62ec6df",uri="sip:192.168.1.51:5061;transport=udp",response="1efd986c1a2b6467c003c17698a71939",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:bcc00b675e4fe27c0f8c9bb0a62ec6df!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1efd986c1a2b6467c003c17698a71939 with our computed response: 1efd986c1a2b6467c003c17698a71939
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:17182 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKac24de679a73723e5a8ec152b813177d
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 65724eed40cea8c313c5ed77f374bfd3@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:17182;branch=z9hG4bKac24de679a73723e5a8ec152b813177d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:17182;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="bcc00b675e4fe27c0f8c9bb0a62ec6df",uri="sip:192.168.1.51:5061;transport=udp",response="1efd986c1a2b6467c003c17698a71939",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK491a3bc17c39c2b1298aebeb6c1c835d
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK491a3bc17c39c2b1298aebeb6c1c835d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b42aabcdaf493fa395efee94a9f00d12",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc53124347fd93a89c12d4de79512f642
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="b42aabcdaf493fa395efee94a9f00d12",uri="sip:192.168.1.51:5061;transport=udp",response="834aef40ce7cb59540c62a2383ff4655",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b42aabcdaf493fa395efee94a9f00d12!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 834aef40ce7cb59540c62a2383ff4655 with our computed response: 834aef40ce7cb59540c62a2383ff4655
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc53124347fd93a89c12d4de79512f642
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 90d994ddb2e8f1dd1852033489c5d464@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc53124347fd93a89c12d4de79512f642
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="b42aabcdaf493fa395efee94a9f00d12",uri="sip:192.168.1.51:5061;transport=udp",response="834aef40ce7cb59540c62a2383ff4655",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=31706449
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaa914557cf848d0db01c73ef9a3da633
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaa914557cf848d0db01c73ef9a3da633
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1ca111228712abd0d6029038e473d1a0",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd998fec3741403789bbf8ac94b353afa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1ca111228712abd0d6029038e473d1a0",uri="sip:192.168.1.51:5061;transport=udp",response="7f9ce3de08f6fb17fec0526f88eb728e",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1ca111228712abd0d6029038e473d1a0!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 7f9ce3de08f6fb17fec0526f88eb728e with our computed response: 7f9ce3de08f6fb17fec0526f88eb728e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd998fec3741403789bbf8ac94b353afa
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd998fec3741403789bbf8ac94b353afa
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1ca111228712abd0d6029038e473d1a0",uri="sip:192.168.1.51:5061;transport=udp",response="7f9ce3de08f6fb17fec0526f88eb728e",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc0ce251497bf2de62ff8e2e1e258441f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc0ce251497bf2de62ff8e2e1e258441f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="06c2047153cdf9936f3f22d1e41aeb90",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc83279a371b759c8c71516018599e1a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="06c2047153cdf9936f3f22d1e41aeb90",uri="sip:192.168.1.51:5061;transport=udp",response="e51f2885eeb804960c31b6d4a6bcddda",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:06c2047153cdf9936f3f22d1e41aeb90!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e51f2885eeb804960c31b6d4a6bcddda with our computed response: e51f2885eeb804960c31b6d4a6bcddda
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:28147 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc83279a371b759c8c71516018599e1a3
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKc83279a371b759c8c71516018599e1a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="06c2047153cdf9936f3f22d1e41aeb90",uri="sip:192.168.1.51:5061;transport=udp",response="e51f2885eeb804960c31b6d4a6bcddda",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK36c01b2814449f583092efe5d30e5755
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK36c01b2814449f583092efe5d30e5755
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK36c01b2814449f583092efe5d30e5755
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",uri="sip:roby@192.168.1.51:4000",response="cd36b34cb46997b75d9184a04da66001",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:390cf7a12e0e817737a849f12cb714dc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: cd36b34cb46997b75d9184a04da66001 with our computed response: cd36b34cb46997b75d9184a04da66001
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3f38085c
dialog =  gov.nist.javax.sip.stack.SIPDialog@1e845c2
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:28147 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKd5cf40261c07420d458bffe673eb4a28,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",uri="sip:roby@192.168.1.51:4000",response="cd36b34cb46997b75d9184a04da66001",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:28147 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:28147 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK1477b2f1e8c7e7911cad905f0bdbb2f6,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="390cf7a12e0e817737a849f12cb714dc",uri="sip:roby@192.168.1.51:4000",response="cd36b34cb46997b75d9184a04da66001",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK1477b2f1e8c7e7911cad905f0bdbb2f6,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@65417abb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c44b88
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK1477b2f1e8c7e7911cad905f0bdbb2f6,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@65417abb
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c44b88
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:7226213
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd77ec92f98bfff56541c0ed5b1b0c827
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.51:4000;transport=udp SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 ACK
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=39322e3136382e312e35313a3530363
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Route: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e169b847
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e845c2
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e169b847
dialog =  gov.nist.javax.sip.stack.SIPDialog@1e845c2
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@19ce060
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@3f38085c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1e845c2
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@65417abb, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.51:28147 SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 ACK
To: <sip:roby@192.168.1.51:4000>;tag=7226213
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK3e68ad1885370717fdb55f59060b39bb,SIP/2.0/UDP 192.168.1.51:5060;branch=39322e3136382e312e35313a3530363
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Route: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.51:4000;transport=udp SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 BYE
From: <sip:roby@192.168.1.51:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKa889e95fbec155d1f9c1113c4ce9f755
Route: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@7cec291f
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c44b88
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 1 BYE
From: <sip:roby@192.168.1.51:4000>;tag=7226213
Max-Forwards: 69
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKa889e95fbec155d1f9c1113c4ce9f755
Proxy-Authenticate: Digest realm="nist.gov",nonce="69803b749b07b50718fdfed3fd54ffda",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request BYE received:
BYE sip:roby@192.168.1.51:4000;transport=udp SIP/2.0
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 BYE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK60bd388d192188ff20eabd83e143335b
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 41802d6058f56bceff680cfe858e3bc2@192.168.1.51
CSeq: 2 BYE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK60bd388d192188ff20eabd83e143335b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6478d8189046b00d7598da01e43dcc66",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK188dc005e1e6c5353b8cb7fe530e14ef
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK188dc005e1e6c5353b8cb7fe530e14ef
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7baea1b05aaab7843e7835069dc57d39",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb58f7a987c50766b76222eeb06206210
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="7baea1b05aaab7843e7835069dc57d39",uri="sip:192.168.1.51:5061;transport=udp",response="ed8a91c631e72a1042f54079d015cdba",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7baea1b05aaab7843e7835069dc57d39!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ed8a91c631e72a1042f54079d015cdba with our computed response: ed8a91c631e72a1042f54079d015cdba
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb58f7a987c50766b76222eeb06206210
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a762c1b64e2042f5095a3e414931a9d8@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb58f7a987c50766b76222eeb06206210
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="7baea1b05aaab7843e7835069dc57d39",uri="sip:192.168.1.51:5061;transport=udp",response="ed8a91c631e72a1042f54079d015cdba",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bK3cc00d2460e8e09acb8038ccd71446ec
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bK3cc00d2460e8e09acb8038ccd71446ec
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9972dff4de96cb8c4cab77be1f7edfbb",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKb1f6b32c89c05b28a3f20d41e98b4cc4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9972dff4de96cb8c4cab77be1f7edfbb",uri="sip:192.168.1.51:5061;transport=udp",response="aae89aacab152ca179a161bd99bab261",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9972dff4de96cb8c4cab77be1f7edfbb!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: aae89aacab152ca179a161bd99bab261 with our computed response: aae89aacab152ca179a161bd99bab261
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:28147 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKb1f6b32c89c05b28a3f20d41e98b4cc4
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a59d087cde7b958856eff2b493bdcf9a@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:28147;branch=z9hG4bKb1f6b32c89c05b28a3f20d41e98b4cc4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:28147;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="9972dff4de96cb8c4cab77be1f7edfbb",uri="sip:192.168.1.51:5061;transport=udp",response="aae89aacab152ca179a161bd99bab261",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=12122347
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK56d5a9f38b1a95d392d6518212c83981
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK56d5a9f38b1a95d392d6518212c83981
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1e5139673ba46c2495c836b16c49b052",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK965c2cbe47b769a46bf28dc08cf40be1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1e5139673ba46c2495c836b16c49b052",uri="sip:192.168.1.51:5061;transport=udp",response="91a8d9ffdc2ad221ea66c83fae317277",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1e5139673ba46c2495c836b16c49b052!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 91a8d9ffdc2ad221ea66c83fae317277 with our computed response: 91a8d9ffdc2ad221ea66c83fae317277
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK965c2cbe47b769a46bf28dc08cf40be1
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: afaae32fc5c6d2b597372e617dd760e1@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK965c2cbe47b769a46bf28dc08cf40be1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1e5139673ba46c2495c836b16c49b052",uri="sip:192.168.1.51:5061;transport=udp",response="91a8d9ffdc2ad221ea66c83fae317277",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK0ed0592a3f55e4a46f6a572d9d352a53
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK0ed0592a3f55e4a46f6a572d9d352a53
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1639933ba3b01f98d53c78ed7096f728",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKafd341debb8933b3fd3421adec4e8325
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1639933ba3b01f98d53c78ed7096f728",uri="sip:192.168.1.51:5061;transport=udp",response="8d457852b80ce24c140c3fc9ef384278",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1639933ba3b01f98d53c78ed7096f728!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 8d457852b80ce24c140c3fc9ef384278 with our computed response: 8d457852b80ce24c140c3fc9ef384278
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:37668 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKafd341debb8933b3fd3421adec4e8325
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: a3ede348f0a2dec66f69d80193eed01d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKafd341debb8933b3fd3421adec4e8325
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1639933ba3b01f98d53c78ed7096f728",uri="sip:192.168.1.51:5061;transport=udp",response="8d457852b80ce24c140c3fc9ef384278",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK3f5512118575e20243847584e80bd2ab
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK3f5512118575e20243847584e80bd2ab
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e125f2558c20f793b4f4c322736378df",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bK3f5512118575e20243847584e80bd2ab
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: b9c2e45d453f5d1707e25a559a9590c0@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:37668;branch=z9hG4bKb08d9129d421e46257f98f1bc5557c04
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:37668;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="e125f2558c20f793b4f4c322736378df",uri="sip:roby@192.168.1.51:4000",response="45e9e200eaed12b6d0ae762b3834caaa",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e125f2558c20f793b4f4c322736378df!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 45e9e200eaed12b6d0ae762b3834caaa with our computed response: 45e9e200eaed12b6d0ae762b3834caaa
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb8b574b7d1400a74e53c0987ac02eec5
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb8b574b7d1400a74e53c0987ac02eec5
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2700ab36b618d0a88d8d0f5588ac4bea",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK685ad7ebc608d8780d882cc1a09a0d1f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2700ab36b618d0a88d8d0f5588ac4bea",uri="sip:192.168.1.51:5061;transport=udp",response="d4401cf65d913d1e5d26f9f244f407cf",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2700ab36b618d0a88d8d0f5588ac4bea!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d4401cf65d913d1e5d26f9f244f407cf with our computed response: d4401cf65d913d1e5d26f9f244f407cf
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK685ad7ebc608d8780d882cc1a09a0d1f
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK685ad7ebc608d8780d882cc1a09a0d1f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="2700ab36b618d0a88d8d0f5588ac4bea",uri="sip:192.168.1.51:5061;transport=udp",response="d4401cf65d913d1e5d26f9f244f407cf",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK68979d2d12ea9f803c7ea8637dc6c8fd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK68979d2d12ea9f803c7ea8637dc6c8fd
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="4ab52624bd3ceb849331b5edef0aafc8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKe2d43e8bfaea9868a525d7a6f7015070
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="4ab52624bd3ceb849331b5edef0aafc8",uri="sip:192.168.1.51:5061;transport=udp",response="69eead00d0668d9b6a37397f611987e0",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:4ab52624bd3ceb849331b5edef0aafc8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 69eead00d0668d9b6a37397f611987e0 with our computed response: 69eead00d0668d9b6a37397f611987e0
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:12929 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKe2d43e8bfaea9868a525d7a6f7015070
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKe2d43e8bfaea9868a525d7a6f7015070
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="4ab52624bd3ceb849331b5edef0aafc8",uri="sip:192.168.1.51:5061;transport=udp",response="69eead00d0668d9b6a37397f611987e0",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",uri="sip:roby@192.168.1.51:4000",response="e46e83ed861f3aa1dd19ed675ba5f6dd",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6acff9b52ab95253885f79f5a777019e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e46e83ed861f3aa1dd19ed675ba5f6dd with our computed response: e46e83ed861f3aa1dd19ed675ba5f6dd
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d32aac8c
dialog =  gov.nist.javax.sip.stack.SIPDialog@1bbd23f
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:12929 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK22ba2ebb22829dc2d3fbb332b89ab69b,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",uri="sip:roby@192.168.1.51:4000",response="e46e83ed861f3aa1dd19ed675ba5f6dd",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:12929 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:12929 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKef78b00a3570a7fce3914f83d7cb5493,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6acff9b52ab95253885f79f5a777019e",uri="sip:roby@192.168.1.51:4000",response="e46e83ed861f3aa1dd19ed675ba5f6dd",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKef78b00a3570a7fce3914f83d7cb5493,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@56aa670c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19e8f17
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKef78b00a3570a7fce3914f83d7cb5493,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@56aa670c
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@19e8f17
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:14293164
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>;tag=14293164
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK67fedb063b620bcdb21a11d3afcd8a4a
Max-Forwards: 69
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",uri="sip:deruelle@192.168.1.51:4000",response="02280ee93f61baed80adcfd692be859b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:deruelle@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:58e2effc93e3f0c223ee838ae100bc94!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:42ca63722d31d54520e53fc95a0656d3!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 02280ee93f61baed80adcfd692be859b with our computed response: 02280ee93f61baed80adcfd692be859b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d37f93d8
dialog =  gov.nist.javax.sip.stack.SIPDialog@179dce4
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK8378adac6f6ed3d2de8a35d2ab934698,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",uri="sip:deruelle@192.168.1.51:4000",response="02280ee93f61baed80adcfd692be859b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="58e2effc93e3f0c223ee838ae100bc94",uri="sip:deruelle@192.168.1.51:4000",response="02280ee93f61baed80adcfd692be859b",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6292ae58
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1950198
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6292ae58
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1950198
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKacbd57a07bbc87ad0b9c8c87be4b8c2f,SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6292ae58
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1950198
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2221396
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=2221396
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK62969f2f74f22cb81ddb8cf2e0305257
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: cdbb4f2f1e1d805a0effd2bbd63d6492@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8a60d5be66c92ce96d298b01acbfbaca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: b40d9f92de4228e3258b4cec37780781@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKa87c94b56f50f0b0d4707a0f50e4fd7c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKebb8639135d4da9c897b6c9ced8b2d4f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bKebb8639135d4da9c897b6c9ced8b2d4f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a4691d75b4bda8f65106c426ee1ccce3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK829709cfc73e18e7c4bae9f4e4138d4f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="a4691d75b4bda8f65106c426ee1ccce3",uri="sip:192.168.1.51:5061;transport=udp",response="9a6f2563139555f40a015341ebf28b5c",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a4691d75b4bda8f65106c426ee1ccce3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9a6f2563139555f40a015341ebf28b5c with our computed response: 9a6f2563139555f40a015341ebf28b5c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:12929 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK829709cfc73e18e7c4bae9f4e4138d4f
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ab53566a5da2f243c89d736f9a9bea44@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:12929;branch=z9hG4bK829709cfc73e18e7c4bae9f4e4138d4f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:12929;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="a4691d75b4bda8f65106c426ee1ccce3",uri="sip:192.168.1.51:5061;transport=udp",response="9a6f2563139555f40a015341ebf28b5c",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa479d501319c4cbd6573b9ac373a16ab
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa479d501319c4cbd6573b9ac373a16ab
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="83bd0a896b3130b34cf6a3f8cd7951d1",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22000264598983944f62c81aea1e6fce
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="83bd0a896b3130b34cf6a3f8cd7951d1",uri="sip:192.168.1.51:5061;transport=udp",response="80464844f43345f2a4bf1d9bc3ce4307",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:83bd0a896b3130b34cf6a3f8cd7951d1!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 80464844f43345f2a4bf1d9bc3ce4307 with our computed response: 80464844f43345f2a4bf1d9bc3ce4307
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22000264598983944f62c81aea1e6fce
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: dda7502d855432059fe54924ed32aa74@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22000264598983944f62c81aea1e6fce
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="83bd0a896b3130b34cf6a3f8cd7951d1",uri="sip:192.168.1.51:5061;transport=udp",response="80464844f43345f2a4bf1d9bc3ce4307",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=2691004
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb59b62b34f11dceefc4decab2476ed14
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb59b62b34f11dceefc4decab2476ed14
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="27747a773d76f50e933283b3fb2f6e87",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9cefb77f6d84f7d7af2e4ed0a70b2da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="27747a773d76f50e933283b3fb2f6e87",uri="sip:192.168.1.51:5061;transport=udp",response="e9e067243bfb7a46dd5857f4c2f958f9",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:27747a773d76f50e933283b3fb2f6e87!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e9e067243bfb7a46dd5857f4c2f958f9 with our computed response: e9e067243bfb7a46dd5857f4c2f958f9
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9cefb77f6d84f7d7af2e4ed0a70b2da0
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9cefb77f6d84f7d7af2e4ed0a70b2da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="27747a773d76f50e933283b3fb2f6e87",uri="sip:192.168.1.51:5061;transport=udp",response="e9e067243bfb7a46dd5857f4c2f958f9",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK03bdfe436ad9886fe64285d92ff52fec
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK03bdfe436ad9886fe64285d92ff52fec
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a78a1e1de8f740cd4d901c8404bf3697",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK5a16c6d771ac773e3c054d0ab3562521
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a78a1e1de8f740cd4d901c8404bf3697",uri="sip:192.168.1.51:5061;transport=udp",response="30569b7b4b1fab355243538aa3cac956",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a78a1e1de8f740cd4d901c8404bf3697!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 30569b7b4b1fab355243538aa3cac956 with our computed response: 30569b7b4b1fab355243538aa3cac956
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:35656 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK5a16c6d771ac773e3c054d0ab3562521
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK5a16c6d771ac773e3c054d0ab3562521
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="a78a1e1de8f740cd4d901c8404bf3697",uri="sip:192.168.1.51:5061;transport=udp",response="30569b7b4b1fab355243538aa3cac956",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKeb1a5be2161fb4caef8e273936c50a62
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKeb1a5be2161fb4caef8e273936c50a62
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1b5824edbdcc2278e0aac5be2e855688",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKeb1a5be2161fb4caef8e273936c50a62
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: e4e73126093c507543320482a38a4f13@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKe068966a28225f9e49a350c4203c4a60
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="1b5824edbdcc2278e0aac5be2e855688",uri="sip:roby@192.168.1.51:4000",response="48ba4bbb99f180fb15492cb890613b94",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1b5824edbdcc2278e0aac5be2e855688!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 48ba4bbb99f180fb15492cb890613b94 with our computed response: 48ba4bbb99f180fb15492cb890613b94
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",uri="sip:deruelle@192.168.1.51:4000",response="e497adc6ce2f6cbdbf9d508012c49802",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:deruelle@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e34a7e2dbc0b2ba1080205b843ecfd7a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:42ca63722d31d54520e53fc95a0656d3!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e497adc6ce2f6cbdbf9d508012c49802 with our computed response: e497adc6ce2f6cbdbf9d508012c49802
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@277f7ea9
dialog =  gov.nist.javax.sip.stack.SIPDialog@5fcf29
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:35656 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKd70f85710191fc275f5f559001f447dc,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",uri="sip:deruelle@192.168.1.51:4000",response="e497adc6ce2f6cbdbf9d508012c49802",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:35656 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:35656 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKf5edc07a0747baea3067cf945a8fb354,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="e34a7e2dbc0b2ba1080205b843ecfd7a",uri="sip:deruelle@192.168.1.51:4000",response="e497adc6ce2f6cbdbf9d508012c49802",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKf5edc07a0747baea3067cf945a8fb354,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d36c64cf
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9cb0f4
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKf5edc07a0747baea3067cf945a8fb354,SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@d36c64cf
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9cb0f4
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13655059
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 2 INVITE
To: <sip:deruelle@192.168.1.51:4000>;tag=13655059
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKdcaa1f290676db9e961d5b82b65c408c
Max-Forwards: 69
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK50d64ebca997faf4b4860d8c2275dfaa
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK50d64ebca997faf4b4860d8c2275dfaa
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="165b681c74b4c395e0fe4068710f82fe",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK50d64ebca997faf4b4860d8c2275dfaa
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 80a1150218a7845c208abfa93a2c95c1@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bK735f9435be05cc268a94f6568f7978f6
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="165b681c74b4c395e0fe4068710f82fe",uri="sip:roby@192.168.1.51:4000",response="1a921e49e6175f0cd1c780ffbdabae94",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:165b681c74b4c395e0fe4068710f82fe!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1a921e49e6175f0cd1c780ffbdabae94 with our computed response: 1a921e49e6175f0cd1c780ffbdabae94
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request CANCEL received:
CANCEL sip:deruelle@192.168.1.51:4000 SIP/2.0
Call-ID: d429702ea37f08c3f640e23859134f92@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: <sip:deruelle@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK39e7a29bec5a63e94947330bf3e64add
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK13772638cfd70ed1a89e3e0edd8578f4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK13772638cfd70ed1a89e3e0edd8578f4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f6a69c98b31f00c4c257bfa76807ac91",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb6b8dbc3918028b2c75abad956fb4afb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="f6a69c98b31f00c4c257bfa76807ac91",uri="sip:192.168.1.51:5061;transport=udp",response="f4f0127867fa70ac36eddf66481fe1e5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f6a69c98b31f00c4c257bfa76807ac91!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f4f0127867fa70ac36eddf66481fe1e5 with our computed response: f4f0127867fa70ac36eddf66481fe1e5
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb6b8dbc3918028b2c75abad956fb4afb
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: b56ad22f64ae0f7910f989939656cda6@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb6b8dbc3918028b2c75abad956fb4afb
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="f6a69c98b31f00c4c257bfa76807ac91",uri="sip:192.168.1.51:5061;transport=udp",response="f4f0127867fa70ac36eddf66481fe1e5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKb25a48bfac05aec67aebae48043b2e0b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKb25a48bfac05aec67aebae48043b2e0b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="61656311bcd4ef1803c217ded1d50470",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKc0c8edb532b68574c7a4d1d627cb511a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="61656311bcd4ef1803c217ded1d50470",uri="sip:192.168.1.51:5061;transport=udp",response="2a248cdc9fa4965205d058946b36f38f",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:61656311bcd4ef1803c217ded1d50470!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 2a248cdc9fa4965205d058946b36f38f with our computed response: 2a248cdc9fa4965205d058946b36f38f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:35656 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKc0c8edb532b68574c7a4d1d627cb511a
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 2ee564cfbd2c8ed419f6812e0f8d5bd0@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:35656;branch=z9hG4bKc0c8edb532b68574c7a4d1d627cb511a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:35656;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="61656311bcd4ef1803c217ded1d50470",uri="sip:192.168.1.51:5061;transport=udp",response="2a248cdc9fa4965205d058946b36f38f",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfa63151a07f27a1138535b0e204e2445
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfa63151a07f27a1138535b0e204e2445
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b6ff5da7ddbb4833980425e8d9a84b50",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4a2f7f9cc93e8cd9507c325af596eb31
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b6ff5da7ddbb4833980425e8d9a84b50",uri="sip:192.168.1.51:5061;transport=udp",response="d5fd3333dad7654e1ff72cc647fde8eb",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: alex@nist.gov
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4a2f7f9cc93e8cd9507c325af596eb31
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="20074d961bcdba2f192684900126f83b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8b9759612530fc6bbe504df2dcf1dda5
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="20074d961bcdba2f192684900126f83b",uri="sip:192.168.1.51:5061;transport=udp",response="10412029509e0fa4cc9f6d3a23968ee9",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: alex@nist.gov
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8b9759612530fc6bbe504df2dcf1dda5
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="dcdbb0415418e7f902901dcf174480a1",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd3a0faeb505d53b0d9612e25876e1dcb
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="dcdbb0415418e7f902901dcf174480a1",uri="sip:192.168.1.51:5061;transport=udp",response="2051b1f59ece40d7fe1394a916c3ccfb",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: alex@nist.gov
Authentication failed for user: alex
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 4 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKd3a0faeb505d53b0d9612e25876e1dcb
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="74d94981383e3a33c6128ad1eb9ff516",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK44d70eb9346b5d40b4ae89b4b043a458
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="74d94981383e3a33c6128ad1eb9ff516",uri="sip:192.168.1.51:5061;transport=udp",response="835d4162421e5c4b1933eeb019afb47c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: thanos@nist.gov
Authentication failed for user: thanos
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 5 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK44d70eb9346b5d40b4ae89b4b043a458
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="c60648be2989cca247f90c02faf65f00",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 6 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4586f36bda18f42867eec9540d01e3ed
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="c60648be2989cca247f90c02faf65f00",uri="sip:192.168.1.51:5061;transport=udp",response="7d963c7ddd6c44fb95dad5f5b079292c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticateMethod, doAuthenticate(): ERROR: password not found for the user: thanos@nist.gov
Authentication failed for user: thanos
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d24c6156d6f808e1fab81562ca36f03e@192.168.1.51
CSeq: 6 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4586f36bda18f42867eec9540d01e3ed
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=31782850
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Proxy-Authenticate: Digest realm="nist.gov",nonce="a13fff0665b1f679595144ca18e5bed3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK6eb89b1eb2cd5d5b0c010c093e443b3a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK6eb89b1eb2cd5d5b0c010c093e443b3a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="39358e90decc2b1018222600a3c6c970",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK277909b9d13cdeea669271ddaba33da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="39358e90decc2b1018222600a3c6c970",uri="sip:192.168.1.51:5061;transport=udp",response="37a6e1c26b52d433cf102280c8d19e11",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:39358e90decc2b1018222600a3c6c970!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 37a6e1c26b52d433cf102280c8d19e11 with our computed response: 37a6e1c26b52d433cf102280c8d19e11
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK277909b9d13cdeea669271ddaba33da0
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK277909b9d13cdeea669271ddaba33da0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="39358e90decc2b1018222600a3c6c970",uri="sip:192.168.1.51:5061;transport=udp",response="37a6e1c26b52d433cf102280c8d19e11",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d41983859a2670f5999c062c95181d6
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d41983859a2670f5999c062c95181d6
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3e8cce40683ef9ef38eecd86b805407b",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK2368e2e6fbb7f30313c37d1633b1208f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3e8cce40683ef9ef38eecd86b805407b",uri="sip:192.168.1.51:5061;transport=udp",response="f7b28b779f453d2313ee2b880a7ca3e9",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3e8cce40683ef9ef38eecd86b805407b!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f7b28b779f453d2313ee2b880a7ca3e9 with our computed response: f7b28b779f453d2313ee2b880a7ca3e9
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:45793 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK2368e2e6fbb7f30313c37d1633b1208f
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK2368e2e6fbb7f30313c37d1633b1208f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="3e8cce40683ef9ef38eecd86b805407b",uri="sip:192.168.1.51:5061;transport=udp",response="f7b28b779f453d2313ee2b880a7ca3e9",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK58ba79ecec2ca154296d7a461251c029
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK58ba79ecec2ca154296d7a461251c029
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8ef880b135dfb497ba856d63f718534e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK58ba79ecec2ca154296d7a461251c029
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKfb624dcf9dc6ef7375a5f7398a9ff322
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="8ef880b135dfb497ba856d63f718534e",uri="sip:alex@192.168.1.51:4000",response="b626bd03e3875c0b2b05863c00b0958e",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8ef880b135dfb497ba856d63f718534e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b626bd03e3875c0b2b05863c00b0958e with our computed response: b626bd03e3875c0b2b05863c00b0958e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 5c71bbffa796576e406491244ad932b3@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKfb624dcf9dc6ef7375a5f7398a9ff322
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK5bac5aa30e53ac627c60db3fcac0afa1
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK5bac5aa30e53ac627c60db3fcac0afa1
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7abd89bb833cd190981a05791d1e963a",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK5bac5aa30e53ac627c60db3fcac0afa1
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKb5166825c4641564053e245cb908d26e
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="7abd89bb833cd190981a05791d1e963a",uri="sip:alex@192.168.1.51:4000",response="6c2050ffa9e30feec88edca359941918",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7abd89bb833cd190981a05791d1e963a!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 6c2050ffa9e30feec88edca359941918 with our computed response: 6c2050ffa9e30feec88edca359941918
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 42405de87e7d9556594ae9ee4764e4c6@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bKb5166825c4641564053e245cb908d26e
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaecf610e327a556ac9c7c254155a7485
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKaecf610e327a556ac9c7c254155a7485
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="0fd217d2f3a501e60b99d1e91ebf9808",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf3d069147eefc4102ef3f3da31a1f419
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0fd217d2f3a501e60b99d1e91ebf9808",uri="sip:192.168.1.51:5061;transport=udp",response="a421c09085ba4646f29b661e2376c30b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:0fd217d2f3a501e60b99d1e91ebf9808!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a421c09085ba4646f29b661e2376c30b with our computed response: a421c09085ba4646f29b661e2376c30b
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf3d069147eefc4102ef3f3da31a1f419
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8596adae982d3e6a5b6fc635ac15ddcf@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf3d069147eefc4102ef3f3da31a1f419
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0fd217d2f3a501e60b99d1e91ebf9808",uri="sip:192.168.1.51:5061;transport=udp",response="a421c09085ba4646f29b661e2376c30b",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d84e74a35b4f3c1279fd1c65930a7d2
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK9d84e74a35b4f3c1279fd1c65930a7d2
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="baadee2fa539e76ec1734c818f6709c3",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK8f822a73879cef3a3e0b5741bfb288aa
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="baadee2fa539e76ec1734c818f6709c3",uri="sip:192.168.1.51:5061;transport=udp",response="17cf65686816665e6d581f0ad2fcb74a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:baadee2fa539e76ec1734c818f6709c3!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 17cf65686816665e6d581f0ad2fcb74a with our computed response: 17cf65686816665e6d581f0ad2fcb74a
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:45793 has been removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK8f822a73879cef3a3e0b5741bfb288aa
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 22c4c4f9fc1e570ace5594ad7b224f2f@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:45793;branch=z9hG4bK8f822a73879cef3a3e0b5741bfb288aa
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:45793;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="baadee2fa539e76ec1734c818f6709c3",uri="sip:192.168.1.51:5061;transport=udp",response="17cf65686816665e6d581f0ad2fcb74a",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc2e4396c2362e346595daf4b2670b6e4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKc2e4396c2362e346595daf4b2670b6e4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c0e1c03f2f764feed4d19b8e0e7639bf",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK05bb07424bdd3f69e3f358f0b246f06a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="c0e1c03f2f764feed4d19b8e0e7639bf",uri="sip:192.168.1.51:5061;transport=udp",response="175f377668a4587466d9c7154752cca1",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c0e1c03f2f764feed4d19b8e0e7639bf!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 175f377668a4587466d9c7154752cca1 with our computed response: 175f377668a4587466d9c7154752cca1
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.51:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK05bb07424bdd3f69e3f358f0b246f06a
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK05bb07424bdd3f69e3f358f0b246f06a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="c0e1c03f2f764feed4d19b8e0e7639bf",uri="sip:192.168.1.51:5061;transport=udp",response="175f377668a4587466d9c7154752cca1",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKa775e5ddbfef35ddce53fc487413237c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKa775e5ddbfef35ddce53fc487413237c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="99dda7c8262829d63d91a76b40bc3aa4",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKc6b719dbf7f0ae1a1f8b354b98791183
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="99dda7c8262829d63d91a76b40bc3aa4",uri="sip:192.168.1.51:5061;transport=udp",response="db3164eb6990acb11a530bdcc8bd601f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:99dda7c8262829d63d91a76b40bc3aa4!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: db3164eb6990acb11a530bdcc8bd601f with our computed response: db3164eb6990acb11a530bdcc8bd601f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:46999 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKc6b719dbf7f0ae1a1f8b354b98791183
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: ccc09e066aa14c5d322ec273abb2262a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:46999;branch=z9hG4bKc6b719dbf7f0ae1a1f8b354b98791183
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="99dda7c8262829d63d91a76b40bc3aa4",uri="sip:192.168.1.51:5061;transport=udp",response="db3164eb6990acb11a530bdcc8bd601f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK90a378b01d8ce539f0dfbbbedc019323
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK90a378b01d8ce539f0dfbbbedc019323
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="55854aedcf09606f93c9c49ef886569e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK90a378b01d8ce539f0dfbbbedc019323
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKe2cbcb65cf357c6a9774bd25dd87c228
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="55854aedcf09606f93c9c49ef886569e",uri="sip:roby@192.168.1.51:4000",response="59080cffd7438d610451d2fc5b005c30",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:55854aedcf09606f93c9c49ef886569e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 59080cffd7438d610451d2fc5b005c30 with our computed response: 59080cffd7438d610451d2fc5b005c30
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 3e4eb4cc8c384a759e56f007e44fc891@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKe2cbcb65cf357c6a9774bd25dd87c228
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4daaa8d49383c31880f87f13c0f5bd5a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK4daaa8d49383c31880f87f13c0f5bd5a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6ec43ae3984bc7e4a2527d559c960275",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK354cb2fc36b05a87d8cbf763f42070b5
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6ec43ae3984bc7e4a2527d559c960275",uri="sip:192.168.1.51:5061;transport=udp",response="e138e73490887fd7cae7156289742607",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: deruelle for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:deruelle!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:nist-sip!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6ec43ae3984bc7e4a2527d559c960275!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:ffa2050d95bb10f21f67e4c0c79bf88e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e138e73490887fd7cae7156289742607 with our computed response: e138e73490887fd7cae7156289742607
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: deruelle
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:deruelle@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:deruelle@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:deruelle@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:deruelle@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:deruelle@192.168.1.51:4000"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:deruelle@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:deruelle@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:46999;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK354cb2fc36b05a87d8cbf763f42070b5
Max-Forwards: 70
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9be0d6865f6c5ab89b0204f0b8176703@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK354cb2fc36b05a87d8cbf763f42070b5
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="deruelle",realm="nist.gov",nonce="6ec43ae3984bc7e4a2527d559c960275",uri="sip:192.168.1.51:5061;transport=udp",response="e138e73490887fd7cae7156289742607",algorithm=MD5,opaque=""
From: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>;tag=13228332
To: "jmaria" <sip:deruelle@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:deruelle@192.168.1.51:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfaa97c11b030258f8335dd05b73651d0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKfaa97c11b030258f8335dd05b73651d0
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="1793a26b33fa1df52d065c6a255e8874",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK138174f8369880d2a1c9e154c17e56ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1793a26b33fa1df52d065c6a255e8874",uri="sip:192.168.1.51:5061;transport=udp",response="ff79251777e909674dcf658aef09cf9f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:1793a26b33fa1df52d065c6a255e8874!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: ff79251777e909674dcf658aef09cf9f with our computed response: ff79251777e909674dcf658aef09cf9f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK138174f8369880d2a1c9e154c17e56ab
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK138174f8369880d2a1c9e154c17e56ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="1793a26b33fa1df52d065c6a255e8874",uri="sip:192.168.1.51:5061;transport=udp",response="ff79251777e909674dcf658aef09cf9f",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK0b7382d93d548e3c0ce12b7733de67b0
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK0b7382d93d548e3c0ce12b7733de67b0
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="48598ff8d2acfdab8f170edde698423f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKf09cac5cff4e0e44ac2b6fd7505b127f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="48598ff8d2acfdab8f170edde698423f",uri="sip:192.168.1.51:5061;transport=udp",response="74f8224d5eb8b87127a788caafb9f8c3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:48598ff8d2acfdab8f170edde698423f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 74f8224d5eb8b87127a788caafb9f8c3 with our computed response: 74f8224d5eb8b87127a788caafb9f8c3
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:19792 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKf09cac5cff4e0e44ac2b6fd7505b127f
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKf09cac5cff4e0e44ac2b6fd7505b127f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="48598ff8d2acfdab8f170edde698423f",uri="sip:192.168.1.51:5061;transport=udp",response="74f8224d5eb8b87127a788caafb9f8c3",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK5cdf625c9b766eecf68a1398a83e6aca
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK5cdf625c9b766eecf68a1398a83e6aca
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b25dc75aeebd5688c633b18dfff87253",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK5cdf625c9b766eecf68a1398a83e6aca
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:roby@192.168.1.51:4000 SIP/2.0
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKb76e8fd6514ae3cecfd0797372f8299e
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="b25dc75aeebd5688c633b18dfff87253",uri="sip:roby@192.168.1.51:4000",response="9ab48d66843b06f26db7d1df12ae091e",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:roby@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b25dc75aeebd5688c633b18dfff87253!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:46c9091ee0268650f764ce71db0b8a61!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9ab48d66843b06f26db7d1df12ae091e with our computed response: 9ab48d66843b06f26db7d1df12ae091e
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 3a9cdb1c5353cda428370b398a4b15c9@192.168.1.51
CSeq: 2 INVITE
To: <sip:roby@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKb76e8fd6514ae3cecfd0797372f8299e
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK37c7ebc8b26b7feaa457e9ef620f975e
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK37c7ebc8b26b7feaa457e9ef620f975e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="ea8093ee0a3380bd7a263a3749dd56fd",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5263659408cec1019c75060976901cf0
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="ea8093ee0a3380bd7a263a3749dd56fd",uri="sip:192.168.1.51:5061;transport=udp",response="011f2d0b83bf8c4abd1c4a34d7b67dc5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: roby for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:roby!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:ea8093ee0a3380bd7a263a3749dd56fd!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:285d2a268a05ebe775a7a22139e95b30!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 011f2d0b83bf8c4abd1c4a34d7b67dc5 with our computed response: 011f2d0b83bf8c4abd1c4a34d7b67dc5
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: roby
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:roby@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:roby@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:roby@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:roby@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:roby@192.168.1.51:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:roby@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:roby@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5263659408cec1019c75060976901cf0
Max-Forwards: 70
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 84e0f8609138ec579ed4d0253aa4d7df@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK5263659408cec1019c75060976901cf0
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="roby",realm="nist.gov",nonce="ea8093ee0a3380bd7a263a3749dd56fd",uri="sip:192.168.1.51:5061;transport=udp",response="011f2d0b83bf8c4abd1c4a34d7b67dc5",algorithm=MD5,opaque=""
From: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>;tag=4890830
To: "jmaria" <sip:roby@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:roby@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKab495f8f0cfea3e4b920214fa581a8f4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bKab495f8f0cfea3e4b920214fa581a8f4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="0d65b7100fd571c0d39cba54de8b6cfd",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK6e5dbb958a7fa4a381b6fd8679a6d4cc
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0d65b7100fd571c0d39cba54de8b6cfd",uri="sip:192.168.1.51:5061;transport=udp",response="e5fd10b080b43c91affe319e9aff3d8d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:0d65b7100fd571c0d39cba54de8b6cfd!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: e5fd10b080b43c91affe319e9aff3d8d with our computed response: e5fd10b080b43c91affe319e9aff3d8d
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:19792 has been removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK6e5dbb958a7fa4a381b6fd8679a6d4cc
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: defae2932180a1e1e131e7d7c9fb27cb@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:19792;branch=z9hG4bK6e5dbb958a7fa4a381b6fd8679a6d4cc
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:19792;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="0d65b7100fd571c0d39cba54de8b6cfd",uri="sip:192.168.1.51:5061;transport=udp",response="e5fd10b080b43c91affe319e9aff3d8d",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=17680053
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3706b344a324eed30ef727d074161b5b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK3706b344a324eed30ef727d074161b5b
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f1b92a12c60bdd883ed13e69edd5e05d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c9b74b5b8d6e30dc4f36134342829801 with our computed response: c9b74b5b8d6e30dc4f36134342829801
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:f1b92a12c60bdd883ed13e69edd5e05d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: c9b74b5b8d6e30dc4f36134342829801 with our computed response: c9b74b5b8d6e30dc4f36134342829801
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
Contact to add:sip:192.168.1.51:5060 ?
Contact in the list:sip:192.168.1.51:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.1.51:5060 has been updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.51:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 5206b55d4c18756fb06f68a939880277@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa5acac07ffda9d1af75939bc66d767ce
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="f1b92a12c60bdd883ed13e69edd5e05d",uri="sip:192.168.1.51:5061;transport=udp",response="c9b74b5b8d6e30dc4f36134342829801",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=28890871
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bKb29ee16844fb03efcf7f0fdfbc1c653c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bKb29ee16844fb03efcf7f0fdfbc1c653c
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="066a283850715962a9b2adf8dc2f64e8",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK9f1a2f4c47d443424e214ff644df17d7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="066a283850715962a9b2adf8dc2f64e8",uri="sip:192.168.1.51:5061;transport=udp",response="f334a3bd0d6e03d2f91791a7835d9fd2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:066a283850715962a9b2adf8dc2f64e8!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f334a3bd0d6e03d2f91791a7835d9fd2 with our computed response: f334a3bd0d6e03d2f91791a7835d9fd2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:6218 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK9f1a2f4c47d443424e214ff644df17d7
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d3f5353981ecdbe3b5a28e4808cddf27@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK9f1a2f4c47d443424e214ff644df17d7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="066a283850715962a9b2adf8dc2f64e8",uri="sip:192.168.1.51:5061;transport=udp",response="f334a3bd0d6e03d2f91791a7835d9fd2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK2e0af6f8a5c62a47a614f49730bda8cd
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK2e0af6f8a5c62a47a614f49730bda8cd
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="7e6d6919bde2f7e1c51b7b7dd1fd9e59",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK2e0af6f8a5c62a47a614f49730bda8cd
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK6d4c359246895fe3fb99bf4e3816ecd7
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:6218;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="7e6d6919bde2f7e1c51b7b7dd1fd9e59",uri="sip:alex@192.168.1.51:4000",response="f3e5f35c3b0139bb18f92106e9339790",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:7e6d6919bde2f7e1c51b7b7dd1fd9e59!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: f3e5f35c3b0139bb18f92106e9339790 with our computed response: f3e5f35c3b0139bb18f92106e9339790
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: dd3cfb980e4c5cf026798f0a836adf1b@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:6218;branch=z9hG4bK6d4c359246895fe3fb99bf4e3816ecd7
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0b0fcb1e92312ccf13fb2f2b2d9a721a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK0b0fcb1e92312ccf13fb2f2b2d9a721a
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:99af9b846b29ede887862146150f0438!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 87bb2f3283e472ccb22ce03ba1f7b9ca with our computed response: 87bb2f3283e472ccb22ce03ba1f7b9ca
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:99af9b846b29ede887862146150f0438!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 87bb2f3283e472ccb22ce03ba1f7b9ca with our computed response: 87bb2f3283e472ccb22ce03ba1f7b9ca
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
Contact to add:sip:192.168.1.51:5060 ?
Contact in the list:sip:192.168.1.51:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.1.51:5060 has been updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.51:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK66e057345321a605058781364698053f
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="99af9b846b29ede887862146150f0438",uri="sip:192.168.1.51:5061;transport=udp",response="87bb2f3283e472ccb22ce03ba1f7b9ca",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK134d96231f2b88e19e80e249bc0fbcc4
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK134d96231f2b88e19e80e249bc0fbcc4
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="8c6c13db02c92d6a788d56e6c2ee44cc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bKda4604edc8e7655fa7dde0fbcaa05e46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="8c6c13db02c92d6a788d56e6c2ee44cc",uri="sip:192.168.1.51:5061;transport=udp",response="af1a1113b8ec9340bc9fdb14e5695ede",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:8c6c13db02c92d6a788d56e6c2ee44cc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: af1a1113b8ec9340bc9fdb14e5695ede with our computed response: af1a1113b8ec9340bc9fdb14e5695ede
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:36438 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bKda4604edc8e7655fa7dde0fbcaa05e46
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 9f9ad21e02e07001b403f8a2c18a19f6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bKda4604edc8e7655fa7dde0fbcaa05e46
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="8c6c13db02c92d6a788d56e6c2ee44cc",uri="sip:192.168.1.51:5061;transport=udp",response="af1a1113b8ec9340bc9fdb14e5695ede",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",uri="sip:thanos@192.168.1.51:4000",response="227020d49e2adf9bfdde97959cb0c216",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:432ee37a90b6150e08038ddaa00bdbfc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:75618bc93c776b4798ff131741888cec!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 227020d49e2adf9bfdde97959cb0c216 with our computed response: 227020d49e2adf9bfdde97959cb0c216
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6e659716
dialog =  gov.nist.javax.sip.stack.SIPDialog@2bc3f5
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK152dbf13ec773b1dd15620735c1fa237,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",uri="sip:thanos@192.168.1.51:4000",response="227020d49e2adf9bfdde97959cb0c216",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK77ff58000b96a83dd95604fc80a8590a,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="432ee37a90b6150e08038ddaa00bdbfc",uri="sip:thanos@192.168.1.51:4000",response="227020d49e2adf9bfdde97959cb0c216",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK77ff58000b96a83dd95604fc80a8590a,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a6fc53d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK77ff58000b96a83dd95604fc80a8590a,SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a6fc53d4
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@b25b9d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:20391510
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>;tag=20391510
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK203feb9e69a6a2778fc221849483c6a4
Max-Forwards: 69
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52bc6535c68f1f3989b3331ad10c48a1
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52bc6535c68f1f3989b3331ad10c48a1
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="9522da42b073c8ba16d7e6e0cce3c8bf",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK601f938b677ecb2ab9e19734b5b51329
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9522da42b073c8ba16d7e6e0cce3c8bf",uri="sip:192.168.1.51:5061;transport=udp",response="a08ebe53baa5d401534bdff7b369cb24",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:9522da42b073c8ba16d7e6e0cce3c8bf!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a08ebe53baa5d401534bdff7b369cb24 with our computed response: a08ebe53baa5d401534bdff7b369cb24
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK601f938b677ecb2ab9e19734b5b51329
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 7056d6c643392585176048ace9a3a8f9@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK601f938b677ecb2ab9e19734b5b51329
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="9522da42b073c8ba16d7e6e0cce3c8bf",uri="sip:192.168.1.51:5061;transport=udp",response="a08ebe53baa5d401534bdff7b369cb24",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=18306082
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request CANCEL received:
CANCEL sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:36438;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: c6a2c9770a605a7fa0f4b17f3e43e883@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=13676443
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:36438;branch=z9hG4bK6984e6f7efd5a2823c3c1e643dac3b55
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8694b3e1db8f7eb6a6b8fd6d76b8782e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK8694b3e1db8f7eb6a6b8fd6d76b8782e
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="fe673d71e821c5b7b997409e8bf0fd94",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9324561a6d831eb22820a64cc29125a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="fe673d71e821c5b7b997409e8bf0fd94",uri="sip:192.168.1.51:5061;transport=udp",response="3fd247d6904cd6554ca39ca39f7a076f",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:fe673d71e821c5b7b997409e8bf0fd94!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 3fd247d6904cd6554ca39ca39f7a076f with our computed response: 3fd247d6904cd6554ca39ca39f7a076f
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9324561a6d831eb22820a64cc29125a3
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 0a8405b66bfc0282d385be4af1ba5829@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK9324561a6d831eb22820a64cc29125a3
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="fe673d71e821c5b7b997409e8bf0fd94",uri="sip:192.168.1.51:5061;transport=udp",response="3fd247d6904cd6554ca39ca39f7a076f",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=25378506
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK964e9740d78b91eb1b482d087fde7b86
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK964e9740d78b91eb1b482d087fde7b86
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="21dd6ec9728e5c544ecce9871f130afc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK82107e4296456e3b6168d689d225e67c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21dd6ec9728e5c544ecce9871f130afc",uri="sip:192.168.1.51:5061;transport=udp",response="d7bf563493b96b5f2d2f3a691eeadccd",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:21dd6ec9728e5c544ecce9871f130afc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: d7bf563493b96b5f2d2f3a691eeadccd with our computed response: d7bf563493b96b5f2d2f3a691eeadccd
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:63040 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK82107e4296456e3b6168d689d225e67c
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 82b4883365d9a2aafc7126268e72a69a@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK82107e4296456e3b6168d689d225e67c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="21dd6ec9728e5c544ecce9871f130afc",uri="sip:192.168.1.51:5061;transport=udp",response="d7bf563493b96b5f2d2f3a691eeadccd",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK5ce5914991d14abe8c4a8da56b6b24e9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK5ce5914991d14abe8c4a8da56b6b24e9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e1dd45d7b9b544e913a9d9912ebd6d21",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK5ce5914991d14abe8c4a8da56b6b24e9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 0bd329fa482ba9fd04317d8ba7f2fcc3@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:63040;branch=z9hG4bK0ad0e4fbb3f90469cc9c670d4e8a69f1
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:63040;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e1dd45d7b9b544e913a9d9912ebd6d21",uri="sip:alex@192.168.1.51:4000",response="b9a540ef6a2c065afdef6e3cec9e2c01",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=24166053
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e1dd45d7b9b544e913a9d9912ebd6d21!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: b9a540ef6a2c065afdef6e3cec9e2c01 with our computed response: b9a540ef6a2c065afdef6e3cec9e2c01
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22fc30595c9dc9631f4af95b82602e4d
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK22fc30595c9dc9631f4af95b82602e4d
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="b4e9d499b84f97517cef52766652973d",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK827a55aa615d39ef67e45d88caa41256
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="b4e9d499b84f97517cef52766652973d",uri="sip:192.168.1.51:5061;transport=udp",response="05100755b75805298b87f8c312bcc7b2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:b4e9d499b84f97517cef52766652973d!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 05100755b75805298b87f8c312bcc7b2 with our computed response: 05100755b75805298b87f8c312bcc7b2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK827a55aa615d39ef67e45d88caa41256
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: d102f734949e684e37ee341c578a0ad6@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK827a55aa615d39ef67e45d88caa41256
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="b4e9d499b84f97517cef52766652973d",uri="sip:192.168.1.51:5061;transport=udp",response="05100755b75805298b87f8c312bcc7b2",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK484240145ae40361d231db214c99c993
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK484240145ae40361d231db214c99c993
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="85b39236b2da0fd2da0a87cd29532e65",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK9b5e2226c5a7232c2a9e9049f424f8d1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="85b39236b2da0fd2da0a87cd29532e65",uri="sip:192.168.1.51:5061;transport=udp",response="786411031bb017081fa07b8780ada3dc",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:85b39236b2da0fd2da0a87cd29532e65!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 786411031bb017081fa07b8780ada3dc with our computed response: 786411031bb017081fa07b8780ada3dc
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:41395 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK9b5e2226c5a7232c2a9e9049f424f8d1
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 8cbbe5c966423e82402394a38905a35d@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK9b5e2226c5a7232c2a9e9049f424f8d1
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="85b39236b2da0fd2da0a87cd29532e65",uri="sip:192.168.1.51:5061;transport=udp",response="786411031bb017081fa07b8780ada3dc",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7e651f22dc103c49ae4d6b9aa5237046
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7e651f22dc103c49ae4d6b9aa5237046
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c64943c08f7c930d9b3cfe4b20a3405f",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7e651f22dc103c49ae4d6b9aa5237046
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: ef36175f73a1f28b36d19159cbe597d5@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:41395;branch=z9hG4bK7883ef2220ff0805f55d49e283354373
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:41395;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="c64943c08f7c930d9b3cfe4b20a3405f",uri="sip:thanos@192.168.1.51:4000",response="9fab570abb3dc8d95193f58598bbfe33",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c64943c08f7c930d9b3cfe4b20a3405f!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:75618bc93c776b4798ff131741888cec!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 9fab570abb3dc8d95193f58598bbfe33 with our computed response: 9fab570abb3dc8d95193f58598bbfe33
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb15c7617f5ea70c23034bd9181f2a366
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb15c7617f5ea70c23034bd9181f2a366
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="40a40ca60bbbd43fb47c3457e017a878",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKb15c7617f5ea70c23034bd9181f2a366
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 8c8b166742c5e598f8760cc0be5f241d@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK50dedeb1f28186283ce2e8052bbd10c4
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="40a40ca60bbbd43fb47c3457e017a878",uri="sip:alex@192.168.1.51:4000",response="bf445d656b8e0f95629965443b070fba",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=23965177
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:40a40ca60bbbd43fb47c3457e017a878!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: bf445d656b8e0f95629965443b070fba with our computed response: bf445d656b8e0f95629965443b070fba
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.51
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.51
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52cc76bd1755e0601f25152318a65838
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK52cc76bd1755e0601f25152318a65838
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="3bdc2f59a0068c30598f48270cc7062e",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK47d64ec797accdf8d71e3af56e852f1e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="3bdc2f59a0068c30598f48270cc7062e",uri="sip:192.168.1.51:5061;transport=udp",response="6a26ffd09ac8dbdc29819a3c43de4e35",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:3bdc2f59a0068c30598f48270cc7062e!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 6a26ffd09ac8dbdc29819a3c43de4e35 with our computed response: 6a26ffd09ac8dbdc29819a3c43de4e35
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK47d64ec797accdf8d71e3af56e852f1e
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK47d64ec797accdf8d71e3af56e852f1e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="3bdc2f59a0068c30598f48270cc7062e",uri="sip:192.168.1.51:5061;transport=udp",response="6a26ffd09ac8dbdc29819a3c43de4e35",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK98ec57a408507d6a804f467a2521df34
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 1 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK98ec57a408507d6a804f467a2521df34
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="6ee0eebf85110214bf948b0c613a6eb9",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKa0d5366b41b5b42b7c52825ab16d4aea
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6ee0eebf85110214bf948b0c613a6eb9",uri="sip:192.168.1.51:5061;transport=udp",response="dda3316f0d1eecb5f776561731ae4c71",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:6ee0eebf85110214bf948b0c613a6eb9!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: dda3316f0d1eecb5f776561731ae4c71 with our computed response: dda3316f0d1eecb5f776561731ae4c71
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.51:33452 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKa0d5366b41b5b42b7c52825ab16d4aea
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKa0d5366b41b5b42b7c52825ab16d4aea
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="6ee0eebf85110214bf948b0c613a6eb9",uri="sip:192.168.1.51:5061;transport=udp",response="dda3316f0d1eecb5f776561731ae4c71",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKe44e7c6d5bfbb768a3b6e761eddef3ff
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKe44e7c6d5bfbb768a3b6e761eddef3ff
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bKe44e7c6d5bfbb768a3b6e761eddef3ff
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",uri="sip:alex@192.168.1.51:4000",response="a7742fbb568b38ffd997e4f9fd1ce8b8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:2af44d8e94cb9c94d9a33ab335af8d14!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: a7742fbb568b38ffd997e4f9fd1ce8b8 with our computed response: a7742fbb568b38ffd997e4f9fd1ce8b8
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6c99b953
dialog =  gov.nist.javax.sip.stack.SIPDialog@9be79a
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK18c65e8d7e7ffde3c7414f7fc25d8086,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",uri="sip:alex@192.168.1.51:4000",response="a7742fbb568b38ffd997e4f9fd1ce8b8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKaa5508769bfa3950cf206abeca7f6a22,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="2af44d8e94cb9c94d9a33ab335af8d14",uri="sip:alex@192.168.1.51:4000",response="a7742fbb568b38ffd997e4f9fd1ce8b8",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKaa5508769bfa3950cf206abeca7f6a22,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@770de712
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164dbd5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKaa5508769bfa3950cf206abeca7f6a22,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@770de712
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164dbd5
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:31983818
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 9d021d858f882410b34452d3daa84f3e@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=31983818
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK029c653ee6ad0efb4962fbd697140574
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1a6037cefa4730ca3d4a279632e94e9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1a6037cefa4730ca3d4a279632e94e9
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="c42945c9a5c1f29a0c4f930dbbddd784",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKf1a6037cefa4730ca3d4a279632e94e9
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:thanos@192.168.1.51:4000 SIP/2.0
Call-ID: 1b3d40f54b80cabea63674e6c09ec473@192.168.1.51
CSeq: 2 INVITE
To: <sip:thanos@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bKa4b275f6a11ee9a8dcc77fcaf0b62d8d
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="c42945c9a5c1f29a0c4f930dbbddd784",uri="sip:thanos@192.168.1.51:4000",response="fb4e16ba96c6e035f946cacf7bc55be2",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22223 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22234 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:thanos@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:c42945c9a5c1f29a0c4f930dbbddd784!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:75618bc93c776b4798ff131741888cec!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: fb4e16ba96c6e035f946cacf7bc55be2 with our computed response: fb4e16ba96c6e035f946cacf7bc55be2
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 INVITE
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request ACK received:
ACK sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 ACK
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), the request is an ACK targeted for the proxy, we ignore it

****************************************************
Request INVITE received:
INVITE sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",uri="sip:alex@192.168.1.51:4000",response="800e0559c573aeeb278830b453e89e47",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:alex@192.168.1.51:4000!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:66117fb12ef70fc69bc1128252172afc!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:INVITE!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:71da2f5416222ab2ae5e97ded66d0e1b!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 800e0559c573aeeb278830b453e89e47 with our computed response: 800e0559c573aeeb278830b453e89e47
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@d606e3aa
dialog =  gov.nist.javax.sip.stack.SIPDialog@1bcdbf6
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bK9e6245b5280ec3e341776dd3fdec3b5a,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",uri="sip:alex@192.168.1.51:4000",response="800e0559c573aeeb278830b453e89e47",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.51 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.51:5060 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKa0ea8ac400be309c84a78e1a23bd84ff,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Type: application/sdp
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="66117fb12ef70fc69bc1128252172afc",uri="sip:alex@192.168.1.51:4000",response="800e0559c573aeeb278830b453e89e47",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 157

v=0
o=alex 0 0 IN IP4 192.168.1.51
s=-
c=IN IP4 192.168.1.51
t=0 0
m=audio 22222 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22233 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKa0ea8ac400be309c84a78e1a23bd84ff,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@185d06bc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cf66b
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:4000;branch=z9hG4bKa0ea8ac400be309c84a78e1a23bd84ff,SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@185d06bc
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@cf66b
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:13878947
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 2 INVITE
To: <sip:alex@192.168.1.51:4000>;tag=13878947
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK4ff643f8d093b0e135d764b036d30e5e
Max-Forwards: 69
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
Record-Route: <sip:192.168.1.51:4000>
Content-Length: 0



****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request CANCEL received:
CANCEL sip:alex@192.168.1.51:4000 SIP/2.0
Call-ID: 700577153a8b55913478139da24dd028@192.168.1.51
CSeq: 1 CANCEL
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: <sip:alex@192.168.1.51:4000>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK7c4930d04c4536cd220593fe787a3c03
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  null
RequestForwarding, forwardRequestStatefully(), the cloned request does not have a server transaction, so we drop the request!

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK17465202957c001f280bbe6845bd524f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK17465202957c001f280bbe6845bd524f
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="a1c0ffefa6b6ae18e98a0ed99bf93fec",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK472f7e73f6c2701f3cd90c579b61bb1f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="a1c0ffefa6b6ae18e98a0ed99bf93fec",uri="sip:192.168.1.51:5061;transport=udp",response="1cde7ae959ecf11c04132553cd0a6465",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: alex for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:alex!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:a1c0ffefa6b6ae18e98a0ed99bf93fec!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:462c4e535ea924c5838aaa4b0369c617!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 1cde7ae959ecf11c04132553cd0a6465 with our computed response: 1cde7ae959ecf11c04132553cd0a6465
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: alex
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alex@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alex@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:alex@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:alex@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:5060 has been removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:alex@192.168.1.51:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:alex@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:alex@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK472f7e73f6c2701f3cd90c579b61bb1f
Max-Forwards: 70
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: 40057d8cc8b6a2b50cc9c19778f588aa@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:5060;branch=z9hG4bK472f7e73f6c2701f3cd90c579b61bb1f
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:5060;transport=udp>
Proxy-Authorization: Digest username="alex",realm="nist.gov",nonce="a1c0ffefa6b6ae18e98a0ed99bf93fec",uri="sip:192.168.1.51:5061;transport=udp",response="1cde7ae959ecf11c04132553cd0a6465",algorithm=MD5,opaque=""
From: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>;tag=29887233
To: "jmaria" <sip:alex@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:alex@192.168.1.51:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK3fe3d0bd8d1cea08c56b7e27fd5774f1
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Authentication failed: ProxyAuthorization header missing!
RequestValidation: 407 PROXY_AUTHENTICATION_REQUIRED replied:
SIP/2.0 407 Proxy Authentication required
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 2 REGISTER
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK3fe3d0bd8d1cea08c56b7e27fd5774f1
Max-Forwards: 70
Proxy-Authenticate: Digest realm="nist.gov",nonce="e3a661ec5d82f4f78a4abdff4b91ab00",opaque="",stale=FALSE,algorithm=MD5
Content-Length: 0


Proxy, processRequest(), the request has not been validated, so the request is discarded  (an error code has normally been sent back)

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK165f0d8a2afa739def0b70e111fa8a16
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e3a661ec5d82f4f78a4abdff4b91ab00",uri="sip:192.168.1.51:5061;transport=udp",response="748c79c8f6ffcf79822d96a10740329c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
DEBUG, DigestAuthenticateMethod, doAuthenticate(): Trying to authenticate user: thanos for  the realm: nist.gov
DEBUG, DigestAuthenticationMethod, doAuthenticate(), username:thanos!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), realm:nist.gov!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), password:pass!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), uri:sip:192.168.1.51:5061;transport=udp!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), nonce:e3a661ec5d82f4f78a4abdff4b91ab00!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), method:REGISTER!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA1:1c06eefc4f946058b0a0858822dd255c!
DEBUG, DigestAuthenticationMethod, doAuthenticate(), HA2:3e3d8dd66fee90f92aa7463e27fbc80d!
DEBUG, DigestAuthenticateMethod, doAuthenticate(): we have to compare his response: 748c79c8f6ffcf79822d96a10740329c with our computed response: 748c79c8f6ffcf79822d96a10740329c
DEBUG, DigestAuthenticateMethod, doAuthenticate(): User authenticated...
Authentication passed for user: thanos
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:thanos@192.168.1.51:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:thanos@192.168.1.51:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:thanos@192.168.1.51:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:thanos@192.168.1.51:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.51:33452 has been removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:thanos@192.168.1.51:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:thanos@192.168.1.51:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:thanos@192.168.1.51:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK165f0d8a2afa739def0b70e111fa8a16
Max-Forwards: 70
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.51:5061;transport=udp SIP/2.0
Call-ID: f701eab1f44043ec8ed18f7128edbcff@192.168.1.51
CSeq: 3 REGISTER
Via: SIP/2.0/UDP 192.168.1.51:33452;branch=z9hG4bK165f0d8a2afa739def0b70e111fa8a16
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.1.51:33452;transport=udp>
Proxy-Authorization: Digest username="thanos",realm="nist.gov",nonce="e3a661ec5d82f4f78a4abdff4b91ab00",uri="sip:192.168.1.51:5061;transport=udp",response="748c79c8f6ffcf79822d96a10740329c",algorithm=MD5,opaque=""
From: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>;tag=16020374
To: "jmaria" <sip:thanos@192.168.1.51:4000;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:thanos@192.168.1.51:4000

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.50
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.50
DEBUG, ProxyRouter, the default route is: null
ProxyDebug, XMLAuthenticationParser, startDocument():  Parsing XML passwords file
ProxyDebug, XMLAuthenticationParser, endDocument():  XML passwords file parsed successfully!!!
DEBUG, DigestAuthenticationMethod, initialize(), the realm is:nist.gov
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

